parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"tShF":[function(require,module,exports) {
var global = arguments[3];
var define;
var t,e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,(self||window).Two=function(i){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this;var s=Object.prototype.toString,n={_indexAmount:0,natural:{slice:Array.prototype.slice,indexOf:Array.prototype.indexOf,keys:Object.keys,bind:Function.prototype.bind,create:Object.create},identity:function(t){return t},isArguments:function(t){return"[object Arguments]"===s.call(t)},isFunction:function(t){return"[object Function]"===s.call(t)},isString:function(t){return"[object String]"===s.call(t)},isNumber:function(t){return"[object Number]"===s.call(t)},isDate:function(t){return"[object Date]"===s.call(t)},isRegExp:function(t){return"[object RegExp]"===s.call(t)},isError:function(t){return"[object Error]"===s.call(t)},isFinite:function(t){return isFinite(t)&&!isNaN(parseFloat(t))},isNaN:function(t){return n.isNumber(t)&&t!==+t},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===s.call(t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isEmpty:function(t){return null==t||(y&&(n.isArray(t)||n.isString(t)||n.isArguments(t))?0===t.length:0===n.keys(t).length)},isElement:function(t){return!(!t||1!==t.nodeType)},isArray:Array.isArray||function(t){return"[object Array]"===s.call(t)},isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},toArray:function(t){return t?n.isArray(t)?p.call(t):y(t)?n.map(t,n.identity):n.values(t):[]},range:function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var r=Math.max(Math.ceil((e-t)/i),0),s=Array(r),n=0;n<r;n++,t+=i)s[n]=t;return s},indexOf:function(t,e){if(n.natural.indexOf)return n.natural.indexOf.call(t,e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},bind:function(t,e){var i=n.natural.bind;if(i&&t.bind===i)return i.apply(t,p.call(arguments,1));var r=p.call(arguments,2);return function(){t.apply(e,r)}},extend:function(t){for(var e=p.call(arguments,1),i=0;i<e.length;i++){var r=e[i];for(var s in r)t[s]=r[s]}return t},defaults:function(t){for(var e=p.call(arguments,1),i=0;i<e.length;i++){var r=e[i];for(var s in r)void 0===t[s]&&(t[s]=r[s])}return t},keys:function(t){if(!n.isObject(t))return[];if(n.natural.keys)return n.natural.keys(t);var e=[];for(var i in t)n.has(t,i)&&e.push(i);return e},values:function(t){for(var e=n.keys(t),i=[],r=0;r<e.length;r++){var s=e[r];i.push(t[s])}return i},each:function(t,e,i){for(var r=i||this,s=!y(t)&&n.keys(t),a=(s||t).length,o=0;o<a;o++){var l=s?s[o]:o;e.call(r,t[l],l,t)}return t},map:function(t,e,i){for(var r=i||this,s=!y(t)&&n.keys(t),a=(s||t).length,o=[],l=0;l<a;l++){var h=s?s[l]:l;o[l]=e.call(r,t[h],h,t)}return o},once:function(t){var e=!1;return function(){return e?t:(e=!0,t.apply(this,arguments))}},after:function(t,e){return function(){for(;--t<1;)return e.apply(this,arguments)}},uniqueId:function(t){var e=++n._indexAmount+"";return t?t+e:e}},a=Math.sin,o=Math.cos,l=(Math.acos,Math.atan2,Math.sqrt),h=(Math.round,Math.abs),c=Math.PI,d=c/2,f=Math.pow,u=Math.min,_=Math.max,g=0,p=n.natural.slice,m=r.performance&&r.performance.now?r.performance:Date,v=Math.pow(2,53)-1,y=function(t){var e,i=null==(e=t)?void 0:e.length;return"number"==typeof i&&i>=0&&i<=v},x={temp:r.document?r.document.createElement("div"):{},hasEventListeners:n.isFunction(r.addEventListener),bind:function(t,e,i,r){return this.hasEventListeners?t.addEventListener(e,i,!!r):t.attachEvent("on"+e,i),x},unbind:function(t,e,i,r){return x.hasEventListeners?t.removeEventListeners(e,i,!!r):t.detachEvent("on"+e,i),x},getRequestAnimationFrame:function(){var t,e=0,i=["ms","moz","webkit","o"],s=r.requestAnimationFrame;if(!s){for(var a=0;a<i.length;a++)s=r[i[a]+"RequestAnimationFrame"]||s,t=r[i[a]+"CancelAnimationFrame"]||r[i[a]+"CancelRequestAnimationFrame"]||t;s=s||function(t,i){var s=(new Date).getTime(),n=Math.max(0,16-(s-e)),a=r.setTimeout(function(){t(s+n)},n);return e=s+n,a}}return s.init=n.once(P),s}},b=r.Two=function(t){var e=n.defaults(t||{},{fullscreen:!1,width:640,height:480,type:b.Types.svg,autostart:!1});if(n.each(e,function(t,e){/fullscreen/i.test(e)||/autostart/i.test(e)||(this[e]=t)},this),n.isElement(e.domElement)){var i=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+i)||(this.type=b.Types[i])}if(this.renderer=new b[this.type](this),b.Utils.setPlaying.call(this,e.autostart),this.frameCount=0,e.fullscreen){var s=n.bind(F,this);n.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),n.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),x.bind(r,"resize",s),s()}else n.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height);this.renderer.bind(b.Events.resize,n.bind(M,this)),this.scene=this.renderer.scene,b.Instances.push(this),e.autostart&&O.init()};n.extend(b,{root:r,nextFrameID:null,Array:r.Float32Array||Array,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.0",PublishDate:"2020-01-22T21:17:28.421Z",Identifier:"two-",Events:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"},Commands:{move:"M",line:"L",curve:"C",arc:"A",close:"Z"},Resolution:12,Instances:[],noConflict:function(){return r.Two=i,b},uniqueId:function(){var t=g;return g++,t},Utils:n.extend(n,{performance:m,defineProperty:function(t){var e="_"+t,i="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[i]=!0}})},Image:null,isHeadless:!1,shim:function(t,e){return b.CanvasRenderer.Utils.shim(t),n.isUndefined(e)||(b.Utils.Image=e),b.Utils.isHeadless=!0,t},release:function(t){if(n.isObject(t))return n.isFunction(t.unbind)&&t.unbind(),t.vertices&&(n.isFunction(t.vertices.unbind)&&t.vertices.unbind(),n.each(t.vertices,function(t){n.isFunction(t.unbind)&&t.unbind()})),t.children&&n.each(t.children,function(t){b.Utils.release(t)}),t},xhr:function(t,e){var i=new XMLHttpRequest;return i.open("GET",t),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i.responseText)},i.send(),i},Curve:{CollinearityEpsilon:f(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:r.devicePixelRatio||1,getBackingStoreRatio:function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},getRatio:function(t){return b.Utils.devicePixelRatio/A(t)},setPlaying:function(t){return this.playing=!!t,this},getComputedMatrix:function(t,e){e=e&&e.identity()||new b.Matrix;for(var i=t,r=[];i&&i._matrix;)r.push(i._matrix),i=i.parent;r.reverse();for(var s=0;s<r.length;s++){var n=r[s].elements;e.multiply(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9])}return e},decomposeMatrix:function(t){return{translateX:t.e,translateY:t.f,scaleX:t.a,scaleY:t.d,rotation:Math.asin(-t.b)}},extractCSSText:function(t,e){var i,r,s,a;e||(e={}),i=t.split(";");for(var o=0;o<i.length;o++)s=(r=i[o].split(":"))[0],a=r[1],n.isUndefined(s)||n.isUndefined(a)||(e[s]=a.replace(/\s/,""));return e},getSvgStyles:function(t){for(var e={},i=b.Utils.getSvgAttributes(t),r=Math.max(i.length,t.style.length),s=0;s<r;s++){var n=t.style[s],a=i[s];n&&(e[n]=t.style[n]),a&&(e[a]=t.getAttribute(a))}return e},getSvgAttributes:function(t){for(var e=t.getAttributeNames(),i=["id","class","transform","xmlns","viewBox"],r=0;r<i.length;r++){var s=i[r],a=n.indexOf(e,s);a>=0&&e.splice(a,1)}return e},applySvgViewBox:function(t,e){var i=e.split(/\s/),r=parseFloat(i[0]),s=parseFloat(i[1]),n=parseFloat(i[2]),a=parseFloat(i[3]),o=Math.min(this.width/n,this.height/a);return t.translation.x-=r*o,t.translation.y-=s*o,t.scale=o,t},applySvgAttributes:function(t,e,i){var s,a,o,l,h={},c={},d={};if(r.getComputedStyle){var f=r.getComputedStyle(t);for(s=f.length;s--;)o=f[a=f[s]],n.isUndefined(o)||(h[a]=o)}for(s=0;s<t.attributes.length;s++)l=t.attributes[s],/style/i.test(l.nodeName)?b.Utils.extractCSSText(l.value,d):c[l.nodeName]=l.value;for(a in n.isUndefined(h.opacity)||(h["stroke-opacity"]=h.opacity,h["fill-opacity"]=h.opacity,delete h.opacity),i&&n.defaults(h,i),n.extend(h,c,d),h.visible=!(n.isUndefined(h.display)&&/none/i.test(h.display))||n.isUndefined(h.visibility)&&/hidden/i.test(h.visibility),h)switch(o=h[a],a){case"transform":if(/none/i.test(o))break;var u=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null;if(n.isNull(u))break;var _=b.Utils.decomposeMatrix(u);e.translation.set(_.translateX,_.translateY),e.rotation=Math.PI*(_.rotation/180),e.scale=new b.Vector(_.scaleX,_.scaleY);var g=parseFloat((h.x+"").replace("px")),p=parseFloat((h.y+"").replace("px"));g&&(e.translation.x=g),p&&(e.translation.y=p);break;case"viewBox":b.Utils.applySvgViewBox.call(this,e,o);break;case"visible":if(e instanceof b.Group){e._visible=o;break}e.visible=o;break;case"stroke-linecap":if(e instanceof b.Group){e._cap=o;break}e.cap=o;break;case"stroke-linejoin":if(e instanceof b.Group){e._join=o;break}e.join=o;break;case"stroke-miterlimit":if(e instanceof b.Group){e._miter=o;break}e.miter=o;break;case"stroke-width":if(e instanceof b.Group){e._linewidth=parseFloat(o);break}e.linewidth=parseFloat(o);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof b.Group){e._opacity=parseFloat(o);break}e.opacity=parseFloat(o);break;case"fill":case"stroke":if(e instanceof b.Group&&(a="_"+a),/url\(#.*\)/i.test(o)){var m=b.Utils.getScene(this);e[a]=m.getById(o.replace(/url\(#(.*)\)/i,"$1"))}else e[a]=/none/i.test(o)?"transparent":o;break;case"id":e.id=o,t.id=o+"-"+b.Identifier+"applied";break;case"class":case"className":e.classList=o.split(" ")}return h},getScene:function(t){for(;t.parent;)t=t.parent;return t.scene},read:{svg:function(t){var e=b.Utils.read.g.call(this,t);t.getAttribute("viewBox");return e},defs:function(t){var e=new b.Utils.Error("interpret <defs /> not supported.");return console.warn(e.name,e.message),null},use:function(t){var e=new b.Utils.Error("interpret <use /> not supported.");return console.warn(e.name,e.message),null},g:function(t,e){var i,r=new b.Group;b.Utils.applySvgAttributes.call(this,t,r,e),this.add(r),i=b.Utils.getSvgStyles.call(this,t);for(var s=0,n=t.childNodes.length;s<n;s++){var a=t.childNodes[s],o=a.nodeName;if(!o)return;var l=o.replace(/svg:/gi,"").toLowerCase();if(l in b.Utils.read){var h=b.Utils.read[l].call(r,a,i);h&&!h.parent&&r.add(h)}}return r},polygon:function(t,e){var i=t.getAttribute("points"),r=[];i.replace(/(-?[\d.?]+)[,|\s](-?[\d.?]+)/g,function(t,e,i){r.push(new b.Anchor(parseFloat(e),parseFloat(i)))});var s=new b.Path(r,!0).noStroke();return s.fill="black",b.Utils.applySvgAttributes.call(this,t,s,e),s},polyline:function(t,e){var i=b.Utils.read.polygon.call(this,t,e);return i.closed=!1,i},path:function(t,e){var i=t.getAttribute("d"),r=[],s=!1,a=!1;if(i){var o,l,h=new b.Anchor,c=i.match(/[a-df-z][^a-df-z]*/gi),d=c.length-1;n.each(c.slice(0),function(t,e){var i,r,s,n,a,o,l,h,d,f=t[0],u=f.toLowerCase(),_=t.slice(1).trim().split(/[\s,]+|(?=\s?[+-])/),g=[],p=!1;for(a=0;a<_.length;a++)if((i=_[a]).indexOf(".")!==i.lastIndexOf(".")){for(s=(r=i.split("."))[0]+"."+r[1],_.splice(a,1,s),n=2;n<r.length;n++)_.splice(a+n-1,0,"0."+r[n]);p=!0}switch(p&&(t=f+_.join(",")),e<=0&&(c=[]),u){case"h":case"v":_.length>1&&(d=1);break;case"m":case"l":case"t":_.length>2&&(d=2);break;case"s":case"q":_.length>4&&(d=4);break;case"c":_.length>6&&(d=6);break;case"a":_.length>7&&(d=7)}if(d){for(a=0,l=_.length,h=0;a<l;a+=d){if(o=f,h>0)switch(f){case"m":o="l";break;case"M":o="L"}g.push(o+_.slice(a,a+d).join(" ")),h++}c=Array.prototype.concat.apply(c,g)}else c.push(t)}),n.each(c,function(t,e){var i,c,u,_,g,p,m,v,y,x,w,k,S=t[0],A=S.toLowerCase();switch(l=(l=(l=t.slice(1).trim()).replace(/(-?\d+(?:\.\d*)?)[eE]([+-]?\d+)/g,function(t,e,i){return parseFloat(e)*f(10,i)})).split(/[\s,]+|(?=\s?[+-])/),a=S===A,A){case"z":if(e>=d)s=!0;else{c=h.x,u=h.y,i=new b.Anchor(c,u,void 0,void 0,void 0,void 0,b.Commands.close);for(var E=r.length-1;E>=0;E--){var C=r[E];if(/m/i.test(C.command)){h=C;break}}}break;case"m":case"l":o=void 0,c=parseFloat(l[0]),u=parseFloat(l[1]),i=new b.Anchor(c,u,void 0,void 0,void 0,void 0,/m/i.test(A)?b.Commands.move:b.Commands.line),a&&i.addSelf(h),h=i;break;case"h":case"v":var F=/h/i.test(A)?"x":"y",M=/x/i.test(F)?"y":"x";(i=new b.Anchor(void 0,void 0,void 0,void 0,void 0,void 0,b.Commands.line))[F]=parseFloat(l[0]),i[M]=h[M],a&&(i[F]+=h[F]),h=i;break;case"c":case"s":_=h.x,g=h.y,o||(o=new b.Vector),/c/i.test(A)?(p=parseFloat(l[0]),m=parseFloat(l[1]),v=parseFloat(l[2]),y=parseFloat(l[3]),x=parseFloat(l[4]),w=parseFloat(l[5])):(p=(k=R(h,o,a)).x,m=k.y,v=parseFloat(l[0]),y=parseFloat(l[1]),x=parseFloat(l[2]),w=parseFloat(l[3])),a&&(p+=_,m+=g,v+=_,y+=g,x+=_,w+=g),n.isObject(h.controls)||b.Anchor.AppendCurveProperties(h),h.controls.right.set(p-h.x,m-h.y),i=new b.Anchor(x,w,v-x,y-w,void 0,void 0,b.Commands.curve),h=i,o=i.controls.left;break;case"t":case"q":_=h.x,g=h.y,o||(o=new b.Vector),/q/i.test(A)?(p=parseFloat(l[0]),m=parseFloat(l[1]),v=parseFloat(l[0]),y=parseFloat(l[1]),x=parseFloat(l[2]),w=parseFloat(l[3])):(p=(k=R(h,o,a)).x,m=k.y,v=k.x,y=k.y,x=parseFloat(l[0]),w=parseFloat(l[1])),a&&(p+=_,m+=g,v+=_,y+=g,x+=_,w+=g),n.isObject(h.controls)||b.Anchor.AppendCurveProperties(h),h.controls.right.set(.33*(p-h.x),.33*(m-h.y)),i=new b.Anchor(x,w,v-x,y-w,void 0,void 0,b.Commands.curve),h=i,o=i.controls.left;break;case"a":_=h.x,g=h.y;var O=parseFloat(l[0]),P=parseFloat(l[1]),U=parseFloat(l[2]),T=parseFloat(l[3]),N=parseFloat(l[4]);x=parseFloat(l[5]),w=parseFloat(l[6]),a&&(x+=_,w+=g);var L=new b.Anchor(x,w);L.command=b.Commands.arc,L.rx=O,L.ry=P,L.xAxisRotation=U,L.largeArcFlag=T,L.sweepFlag=N,i=L,h=L,o=void 0}i&&(n.isArray(i)?r=r.concat(i):r.push(i))})}(i=new b.Path(r,s,void 0,!0).noStroke()).fill="black";var u=i.getBoundingClientRect(!0);return u.centroid={x:u.left+u.width/2,y:u.top+u.height/2},n.each(i.vertices,function(t){t.subSelf(u.centroid)}),b.Utils.applySvgAttributes.call(this,t,i,e),i.translation.addSelf(u.centroid),i},circle:function(t,e){var i=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),s=parseFloat(t.getAttribute("r")),n=new b.Circle(i,r,s).noStroke();return n.fill="black",b.Utils.applySvgAttributes.call(this,t,n,e),n},ellipse:function(t,e){var i=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),s=parseFloat(t.getAttribute("rx")),n=parseFloat(t.getAttribute("ry")),a=new b.Ellipse(i,r,s,n).noStroke();return a.fill="black",b.Utils.applySvgAttributes.call(this,t,a,e),a},rect:function(t,e){var i=parseFloat(t.getAttribute("rx")),r=parseFloat(t.getAttribute("ry"));if(!n.isNaN(i)||!n.isNaN(r))return b.Utils.read["rounded-rect"](t);var s=parseFloat(t.getAttribute("x"))||0,a=parseFloat(t.getAttribute("y"))||0,o=parseFloat(t.getAttribute("width")),l=parseFloat(t.getAttribute("height")),h=o/2,c=l/2,d=new b.Rectangle(s+h,a+c,o,l).noStroke();return d.fill="black",b.Utils.applySvgAttributes.call(this,t,d,e),d},"rounded-rect":function(t,e){var i=parseFloat(t.getAttribute("x"))||0,r=parseFloat(t.getAttribute("y"))||0,s=parseFloat(t.getAttribute("rx"))||0,n=parseFloat(t.getAttribute("ry"))||0,a=parseFloat(t.getAttribute("width")),o=parseFloat(t.getAttribute("height")),l=a/2,h=o/2,c=new b.Vector(s,n),d=new b.RoundedRectangle(i+l,r+h,a,o,c).noStroke();return d.fill="black",b.Utils.applySvgAttributes.call(this,t,d,e),d},line:function(t,e){var i=parseFloat(t.getAttribute("x1")),r=parseFloat(t.getAttribute("y1")),s=parseFloat(t.getAttribute("x2")),n=parseFloat(t.getAttribute("y2")),a=new b.Line(i,r,s,n).noFill();return b.Utils.applySvgAttributes.call(this,t,a,e),a},lineargradient:function(t,e){for(var i=parseFloat(t.getAttribute("x1")),r=parseFloat(t.getAttribute("y1")),s=parseFloat(t.getAttribute("x2")),a=parseFloat(t.getAttribute("y2")),o=(s+i)/2,l=(a+r)/2,h=[],c=0;c<t.children.length;c++){var d=t.children[c],f=d.getAttribute("offset");/%/gi.test(f)&&(f=parseFloat(f.replace(/%/gi,""))/100),f=parseFloat(f);var u,_=d.getAttribute("stop-color"),g=d.getAttribute("stop-opacity"),p=d.getAttribute("style");n.isNull(_)&&(_=(u=!!p&&p.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&u.length>1?u[1]:void 0),g=n.isNull(g)?(u=!!p&&p.match(/stop-opacity:\s?([0-9.-]*)/))&&u.length>1?parseFloat(u[1]):1:parseFloat(g),h.push(new b.Gradient.Stop(f,_,g))}var m=new b.LinearGradient(i-o,r-l,s-o,a-l,h);return b.Utils.applySvgAttributes.call(this,t,m,e),m},radialgradient:function(t,e){var i=parseFloat(t.getAttribute("cx"))||0,r=parseFloat(t.getAttribute("cy"))||0,s=parseFloat(t.getAttribute("r")),a=parseFloat(t.getAttribute("fx")),o=parseFloat(t.getAttribute("fy"));n.isNaN(a)&&(a=i),n.isNaN(o)&&(o=r);for(var l=h(i+a)/2,c=h(r+o)/2,d=[],f=0;f<t.children.length;f++){var u=t.children[f],_=u.getAttribute("offset");/%/gi.test(_)&&(_=parseFloat(_.replace(/%/gi,""))/100),_=parseFloat(_);var g,p=u.getAttribute("stop-color"),m=u.getAttribute("stop-opacity"),v=u.getAttribute("style");n.isNull(p)&&(p=(g=!!v&&v.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&g.length>1?g[1]:void 0),m=n.isNull(m)?(g=!!v&&v.match(/stop-opacity:\s?([0-9.-]*)/))&&g.length>1?parseFloat(g[1]):1:parseFloat(m),d.push(new b.Gradient.Stop(_,p,m))}var y=new b.RadialGradient(i-l,r-c,s,d,a-l,o-c);return b.Utils.applySvgAttributes.call(this,t,y,e),y}},subdivide:function(t,e,i,r,s,n,a,o,l){var c=(l=l||b.Utils.Curve.RecursionLimit)+1;if(h(t-a)<.001&&h(e-o)<.001)return[new b.Anchor(a,o)];for(var d=[],f=0;f<c;f++){var u=f/c,_=E(u,t,i,s,a),g=E(u,e,r,n,o);d.push(new b.Anchor(_,g))}return d},getComponentOnCubicBezier:function(t,e,i,r,s){var n=1-t;return n*n*n*e+3*n*n*t*i+3*n*t*t*r+t*t*t*s},getCurveLength:function(t,e,i,r,s,n,a,o,h){if(t===i&&e===r&&s===a&&n===o){var c=a-t,d=o-e;return l(c*c+d*d)}var f=9*(i-s)+3*(a-t),u=6*(t+s)-12*i,_=3*(i-t),g=9*(r-n)+3*(o-e),p=6*(e+n)-12*r,m=3*(r-e);return C(function(t){var e=(f*t+u)*t+_,i=(g*t+p)*t+m;return l(e*e+i*i)},0,1,h||b.Utils.Curve.RecursionLimit)},getCurveBoundingBox:function(t,e,i,r,s,n,a,o){for(var l,c,d,f,u,_,g,p,m=[],v=[[],[]],y=0;y<2;++y)if(0==y?(c=6*t-12*i+6*s,l=-3*t+9*i-9*s+3*a,d=3*i-3*t):(c=6*e-12*r+6*n,l=-3*e+9*r-9*n+3*o,d=3*r-3*e),h(l)<1e-12){if(h(c)<1e-12)continue;0<(f=-d/c)&&f<1&&m.push(f)}else g=c*c-4*d*l,p=Math.sqrt(g),g<0||(0<(u=(-c+p)/(2*l))&&u<1&&m.push(u),0<(_=(-c-p)/(2*l))&&_<1&&m.push(_));for(var x,b=m.length,w=b;b--;)x=1-(f=m[b]),v[0][b]=x*x*x*t+3*x*x*f*i+3*x*f*f*s+f*f*f*a,v[1][b]=x*x*x*e+3*x*x*f*r+3*x*f*f*n+f*f*f*o;return v[0][w]=t,v[1][w]=e,v[0][w+1]=a,v[1][w+1]=o,v[0].length=v[1].length=w+2,{min:{x:Math.min.apply(0,v[0]),y:Math.min.apply(0,v[1])},max:{x:Math.max.apply(0,v[0]),y:Math.max.apply(0,v[1])}}},integrate:function(t,e,i,r){for(var s=b.Utils.Curve.abscissas[r-2],n=b.Utils.Curve.weights[r-2],a=.5*(i-e),o=a+e,l=0,h=r+1>>1,c=1&r?n[l++]*t(o):0;l<h;){var d=a*s[l];c+=n[l++]*(t(o+d)+t(o-d))}return a*c},getCurveFromPoints:function(t,e){for(var i=t.length,r=i-1,s=0;s<i;s++){var a=t[s];n.isObject(a.controls)||b.Anchor.AppendCurveProperties(a);var o=e?S(s-1,i):_(s-1,0),l=e?S(s+1,i):u(s+1,r),h=t[o],c=a,d=t[l];k(h,c,d),c.command=0===s?b.Commands.move:b.Commands.curve}},getControlPoints:function(t,e,i){var r=b.Vector.angleBetween(t,e),s=b.Vector.angleBetween(i,e),l=b.Vector.distanceBetween(t,e),h=b.Vector.distanceBetween(i,e),f=(r+s)/2;return l<1e-4||h<1e-4?(n.isBoolean(e.relative)&&!e.relative&&(e.controls.left.copy(e),e.controls.right.copy(e)),e):(l*=.33,h*=.33,s<r?f+=d:f-=d,e.controls.left.x=o(f)*l,e.controls.left.y=a(f)*l,f-=c,e.controls.right.x=o(f)*h,e.controls.right.y=a(f)*h,n.isBoolean(e.relative)&&!e.relative&&(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)},getReflection:function(t,e,i){return new b.Vector(2*t.x-(e.x+t.x)-(i?t.x:0),2*t.y-(e.y+t.y)-(i?t.y:0))},getAnchorsFromArcData:function(t,e,i,r,s,a,o){var l=b.Resolution;return n.map(n.range(l),function(t){var e=(t+1)/l;o&&(e=1-e);var n=e*a+s,h=i*Math.cos(n),c=r*Math.sin(n),d=new b.Anchor(h,c);return b.Anchor.AppendCurveProperties(d),d.command=b.Commands.line,d})},lerp:function(t,e,i){return i*(e-t)+t},toFixed:function(t){return Math.floor(1e3*t)/1e3},mod:function(t,e){for(;t<0;)t+=e;return t%e},Collection:function(){Array.call(this),arguments.length>1?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])},Error:function(t){this.name="Two.js",this.message=t},Events:{on:function(t,e){return this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push(e),this},off:function(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this;for(var i=t?[t]:n.keys(this._events),r=0,s=i.length;r<s;r++){t=i[r];var a=this._events[t];if(a){var o=[];if(e)for(var l=0,h=a.length;l<h;l++){var c=a[l];c=c.handler?c.handler:c,e&&e!==c&&o.push(c)}this._events[t]=o}}return this},trigger:function(t){if(!this._events)return this;var e=p.call(arguments,1),i=this._events[t];return i&&w(this,i,e),this},listen:function(t,e,i){var r=this;if(t){var s=function(){i.apply(r,arguments)};s.obj=t,s.name=e,s.handler=i,t.on(e,s)}return this},ignore:function(t,e,i){return t.off(e,i),this}}})}),b.Utils.Events.bind=b.Utils.Events.on,b.Utils.Events.unbind=b.Utils.Events.off;var w=function(t,e,i){var r;switch(i.length){case 0:r=function(r){e[r].call(t,i[0])};break;case 1:r=function(r){e[r].call(t,i[0],i[1])};break;case 2:r=function(r){e[r].call(t,i[0],i[1],i[2])};break;case 3:r=function(r){e[r].call(t,i[0],i[1],i[2],i[3])};break;default:r=function(r){e[r].apply(t,i)}}for(var s=0;s<e.length;s++)r(s)};b.Utils.Error.prototype=new Error,b.Utils.Error.prototype.constructor=b.Utils.Error,b.Utils.Collection.prototype=new Array,b.Utils.Collection.prototype.constructor=b.Utils.Collection,n.extend(b.Utils.Collection.prototype,b.Utils.Events,{pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(b.Events.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(b.Events.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(b.Events.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(b.Events.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(b.Events.remove,e),arguments.length>2&&(t=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(b.Events.insert,t),this.trigger(b.Events.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(b.Events.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(b.Events.order),this}});b.Utils.getAnchorsFromArcData;var k=b.Utils.getControlPoints,S=(b.Utils.getCurveFromPoints,b.Utils.solveSegmentIntersection,b.Utils.decoupleShapes,b.Utils.mod),A=b.Utils.getBackingStoreRatio,E=b.Utils.getComponentOnCubicBezier,C=(b.Utils.getCurveLength,b.Utils.integrate),R=b.Utils.getReflection;function F(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,i=this.height=t.height;this.renderer.setSize(e,i,this.ratio)}function M(t,e){this.width=t,this.height=e,this.trigger(b.Events.resize,t,e)}n.extend(b.prototype,b.Utils.Events,{constructor:b,appendTo:function(t){return t.appendChild(this.renderer.domElement),this},play:function(){return b.Utils.setPlaying.call(this,!0),O.init(),this.trigger(b.Events.play)},pause:function(){return this.playing=!1,this.trigger(b.Events.pause)},update:function(){var t=!!this._lastFrame,e=m.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e;var i=this.width,r=this.height,s=this.renderer;return i===s.width&&r===s.height||s.setSize(i,r,this.ratio),this.trigger(b.Events.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(b.Events.render,this.frameCount++)},add:function(t){var e=t;return e instanceof Array||(e=n.toArray(arguments)),this.scene.add(e),this},remove:function(t){var e=t;return e instanceof Array||(e=n.toArray(arguments)),this.scene.remove(e),this},clear:function(){return this.scene.remove(this.scene.children),this},makeLine:function(t,e,i,r){var s=new b.Line(t,e,i,r);return this.scene.add(s),s},makeArrow:function(t,e,i,r,s){var a=n.isNumber(s)?s:10,o=Math.atan2(r-e,i-t),l=[new b.Anchor(t,e,void 0,void 0,void 0,void 0,b.Commands.move),new b.Anchor(i,r,void 0,void 0,void 0,void 0,b.Commands.line),new b.Anchor(i-a*Math.cos(o-Math.PI/4),r-a*Math.sin(o-Math.PI/4),void 0,void 0,void 0,void 0,b.Commands.line),new b.Anchor(i,r,void 0,void 0,void 0,void 0,b.Commands.move),new b.Anchor(i-a*Math.cos(o+Math.PI/4),r-a*Math.sin(o+Math.PI/4),void 0,void 0,void 0,void 0,b.Commands.line)],h=new b.Path(l,!1,!1,!0);return h.noFill(),h.cap="round",h.join="round",this.scene.add(h),h},makeRectangle:function(t,e,i,r){var s=new b.Rectangle(t,e,i,r);return this.scene.add(s),s},makeRoundedRectangle:function(t,e,i,r,s){var n=new b.RoundedRectangle(t,e,i,r,s);return this.scene.add(n),n},makeCircle:function(t,e,i,r){var s=new b.Circle(t,e,i,r);return this.scene.add(s),s},makeEllipse:function(t,e,i,r,s){var n=new b.Ellipse(t,e,i,r,s);return this.scene.add(n),n},makeStar:function(t,e,i,r,s){var n=new b.Star(t,e,i,r,s);return this.scene.add(n),n},makeCurve:function(t){var e=arguments.length,i=t;if(!n.isArray(t)){i=[];for(var r=0;r<e;r+=2){var s=arguments[r];if(!n.isNumber(s))break;var a=arguments[r+1];i.push(new b.Anchor(s,a))}}var o=arguments[e-1],l=new b.Path(i,!(n.isBoolean(o)?o:void 0),!0),h=l.getBoundingClientRect();return l.center().translation.set(h.left+h.width/2,h.top+h.height/2),this.scene.add(l),l},makePolygon:function(t,e,i,r){var s=new b.Polygon(t,e,i,r);return this.scene.add(s),s},makeArcSegment:function(t,e,i,r,s,n,a){var o=new b.ArcSegment(t,e,i,r,s,n,a);return this.scene.add(o),o},makePath:function(t){var e=arguments.length,i=t;if(!n.isArray(t)){i=[];for(var r=0;r<e;r+=2){var s=arguments[r];if(!n.isNumber(s))break;var a=arguments[r+1];i.push(new b.Anchor(s,a))}}var o=arguments[e-1],l=new b.Path(i,!(n.isBoolean(o)?o:void 0)),h=l.getBoundingClientRect();return n.isNumber(h.top)&&n.isNumber(h.left)&&n.isNumber(h.right)&&n.isNumber(h.bottom)&&l.center().translation.set(h.left+h.width/2,h.top+h.height/2),this.scene.add(l),l},makeText:function(t,e,i,r){var s=new b.Text(t,e,i,r);return this.add(s),s},makeLinearGradient:function(t,e,i,r){var s=p.call(arguments,4),n=new b.LinearGradient(t,e,i,r,s);return this.add(n),n},makeRadialGradient:function(t,e,i){var r=p.call(arguments,3),s=new b.RadialGradient(t,e,i,r);return this.add(s),s},makeSprite:function(t,e,i,r,s,n,a){var o=new b.Sprite(t,e,i,r,s,n);return a&&o.play(),this.add(o),o},makeImageSequence:function(t,e,i,r,s){var n=new b.ImageSequence(t,e,i,r);return s&&n.play(),this.add(n),n},makeTexture:function(t,e){return new b.Texture(t,e)},makeGroup:function(t){var e=t;e instanceof Array||(e=n.toArray(arguments));var i=new b.Group;return this.scene.add(i),i.add(e),i},interpret:function(t,e,i){var r=t.tagName.toLowerCase();if(i=void 0===i||i,!(r in b.Utils.read))return null;var s=b.Utils.read[r].call(this,t);return i&&this.add(e&&s instanceof b.Group?s.children:s),s},load:function(t,e){var i,r,s,a=new b.Group,o=n.bind(function(t){for(x.temp.innerHTML=t,r=0;r<x.temp.children.length;r++)if(i=x.temp.children[r],/svg/i.test(i.nodeName))for(s=0;s<i.children.length;s++)a.add(this.interpret(i.children[s]));else a.add(this.interpret(i));if(n.isFunction(e)){var o=x.temp.children.length<=1?x.temp.children[0]:x.temp.children;e(a,o)}},this);return/.*\.svg$/gi.test(t)?(b.Utils.xhr(t,o),a):(o(t),a)}});var O=x.getRequestAnimationFrame();function P(){for(var t=0;t<b.Instances.length;t++){var e=b.Instances[t];e.playing&&e.update()}b.nextFrameID=O(P)}return"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof t&&t.amd&&t("two",[],function(){return b}),b}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.Registry=function(){this.map={}};e.extend(i.prototype,{constructor:i,add:function(t,e){return this.map[t]=e,this},remove:function(t){return delete this.map[t],this},get:function(t){return this.map[t]},contains:function(t){return t in this.map}})}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.Vector=function(t,e){this.x=t||0,this.y=e||0};e.extend(i,{zero:new t.Vector,add:function(t,e){return new i(t.x+e.x,t.y+e.y)},sub:function(t,e){return new i(t.x-e.x,t.y-e.y)},subtract:function(t,e){return i.sub(t,e)},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var i,r;return arguments.length>=4?(i=arguments[0]-arguments[2],r=arguments[1]-arguments[3],Math.atan2(r,i)):(i=t.x-e.x,r=t.y-e.y,Math.atan2(r,i))},distanceBetween:function(t,e){return Math.sqrt(i.distanceBetweenSquared(t,e))},distanceBetweenSquared:function(t,e){var i=t.x-e.x,r=t.y-e.y;return i*i+r*r},MakeObservable:function(i){i.bind=i.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",s),Object.defineProperty(this,"y",n),e.extend(this,r),this._bound=!0),t.Utils.Events.bind.apply(this,arguments),this}}}),e.extend(i.prototype,t.Utils.Events,{constructor:i,set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new i(this.x,this.y)},add:function(t,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(t)?(this.x+=t,this.y+=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=i),this)},addSelf:function(t){return this.add.apply(this,arguments)},sub:function(t,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(t)?(this.x-=t,this.y-=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=i),this)},subtract:function(){return this.sub.apply(this,arguments)},subSelf:function(t){return this.sub.apply(this,arguments)},subtractSelf:function(t){return this.sub.apply(this,arguments)},multiply:function(t,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(t)?(this.x*=t,this.y*=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=i),this)},multiplySelf:function(t){return this.multiply.apply(this,arguments)},multiplyScalar:function(t){return this.multiply(t)},divide:function(t,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(t)?(this.x/=t,this.y/=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=i),e.isNaN(this.x)&&(this.x=0),e.isNaN(this.y)&&(this.y=0),this)},divideSelf:function(t){return this.divide.apply(this,arguments)},divideScalar:function(t){return this.divide(t)},negate:function(){return this.multiply(-1)},dot:function(t){return this.x*t.x+this.y*t.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e=void 0===e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var i=(t.x-this.x)*e+this.x,r=(t.y-this.y)*e+this.y;return this.set(i,r)},isZero:function(t){return t=void 0===t?1e-4:t,this.length()<t},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.x=this.x*e-this.y*i,this.y=this.x*i+this.y*e,this}});var r={constructor:i,set:function(e,i){return this._x=e,this._y=i,this.trigger(t.Events.change)},copy:function(e){return this._x=e.x,this._y=e.y,this.trigger(t.Events.change)},clear:function(){return this._x=0,this._y=0,this.trigger(t.Events.change)},clone:function(){return new i(this._x,this._y)},add:function(i,r){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(i)?(this._x+=i,this._y+=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x+=i.x,this._y+=i.y):(this._x+=i,this._y+=r),this.trigger(t.Events.change))},sub:function(i,r){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(i)?(this._x-=i,this._y-=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x-=i.x,this._y-=i.y):(this._x-=i,this._y-=r),this.trigger(t.Events.change))},multiply:function(i,r){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(i)?(this._x*=i,this._y*=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x*=i.x,this._y*=i.y):(this._x*=i,this._y*=r),this.trigger(t.Events.change))},divide:function(i,r){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(i)?(this._x/=i,this._y/=i):i&&e.isNumber(i.x)&&e.isNumber(i.y)&&(this._x/=i.x,this._y/=i.y):(this._x/=i,this._y/=r),e.isNaN(this._x)&&(this._x=0),e.isNaN(this._y)&&(this._y=0),this.trigger(t.Events.change))},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},distanceToSquared:function(t){var e=this._x-t.x,i=this._y-t.y;return e*e+i*i},lerp:function(t,e){var i=(t.x-this._x)*e+this._x,r=(t.y-this._y)*e+this._y;return this.set(i,r)},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this._x=this._x*e-this._y*i,this._y=this._x*i+this._y*e,this}},s={enumerable:!0,get:function(){return this._x},set:function(e){this._x=e,this.trigger(t.Events.change,"x")}},n={enumerable:!0,get:function(){return this._y},set:function(e){this._y=e,this.trigger(t.Events.change,"y")}};i.MakeObservable(i.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Commands,i=t.Utils,r=t.Anchor=function(r,s,n,a,o,l,h){t.Vector.call(this,r,s),this._broadcast=i.bind(function(){this.trigger(t.Events.change)},this),this._command=h||e.move,this._relative=!0;var c=i.isNumber(n),d=i.isNumber(a),f=i.isNumber(o),u=i.isNumber(l);(c||d||f||u)&&t.Anchor.AppendCurveProperties(this),c&&(this.controls.left.x=n),d&&(this.controls.left.y=a),f&&(this.controls.right.x=o),u&&(this.controls.right.y=l)};i.extend(t.Anchor,{AppendCurveProperties:function(e){e.relative=!0,e.controls={},e.controls.left=new t.Vector(0,0),e.controls.right=new t.Vector(0,0)},MakeObservable:function(n){Object.defineProperty(n,"command",{enumerable:!0,get:function(){return this._command},set:function(s){return this._command=s,this._command!==e.curve||i.isObject(this.controls)||r.AppendCurveProperties(this),this.trigger(t.Events.change)}}),Object.defineProperty(n,"relative",{enumerable:!0,get:function(){return this._relative},set:function(e){return this._relative==e?this:(this._relative=!!e,this.trigger(t.Events.change))}}),i.extend(n,t.Vector.prototype,s),n.bind=n.on=function(){var e=this._bound;t.Vector.prototype.bind.apply(this,arguments),e||i.extend(this,s)}}});var s={constructor:t.Anchor,listen:function(){return i.isObject(this.controls)||t.Anchor.AppendCurveProperties(this),this.controls.left.bind(t.Events.change,this._broadcast),this.controls.right.bind(t.Events.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(t.Events.change,this._broadcast),this.controls.right.unbind(t.Events.change,this._broadcast),this},copy:function(e){return this.x=e.x,this.y=e.y,i.isString(e.command)&&(this.command=e.command),i.isObject(e.controls)&&(i.isObject(this.controls)||t.Anchor.AppendCurveProperties(this),this.controls.left.copy(e.controls.left),this.controls.right.copy(e.controls.right)),i.isBoolean(e.relative)&&(this.relative=e.relative),this.command===t.Commands.arc&&(this.rx=e.rx,this.ry=e.ry,this.xAxisRotation=e.xAxisRotation,this.largeArcFlag=e.largeArcFlag,this.sweepFlag=e.sweepFlag),this},clone:function(){var e=this.controls,i=new t.Anchor(this.x,this.y,e&&e.left.x,e&&e.left.y,e&&e.right.x,e&&e.right.y,this.command);return i.relative=this._relative,i},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y,this._command,this._relative?1:0].join(", "):[this._x,this._y].join(", ")}};t.Anchor.MakeObservable(t.Anchor.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=Math.cos,i=Math.sin,r=Math.tan,s=t.Utils,n=[],a=t.Matrix=function(e,i,r,n,a,o){this.elements=new t.Array(9);var l=e;s.isArray(l)||(l=s.toArray(arguments)),this.identity(),l.length>0&&this.set(l)};s.extend(a,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(e,i,r){if(i.length<=3){var s=e,n=i[0]||0,a=i[1]||0,o=i[2]||0;return{x:s[0]*n+s[1]*a+s[2]*o,y:s[3]*n+s[4]*a+s[5]*o,z:s[6]*n+s[7]*a+s[8]*o}}var l=e[0],h=e[1],c=e[2],d=e[3],f=e[4],u=e[5],_=e[6],g=e[7],p=e[8],m=i[0],v=i[1],y=i[2],x=i[3],b=i[4],w=i[5],k=i[6],S=i[7],A=i[8];return(r=r||new t.Array(9))[0]=l*m+h*x+c*k,r[1]=l*v+h*b+c*S,r[2]=l*y+h*w+c*A,r[3]=d*m+f*x+u*k,r[4]=d*v+f*b+u*S,r[5]=d*y+f*w+u*A,r[6]=_*m+g*x+p*k,r[7]=_*v+g*b+p*S,r[8]=_*y+g*w+p*A,r}}),s.extend(a.prototype,t.Utils.Events,{constructor:a,manual:!1,set:function(e,i,r,n,a,o,l,h,c){var d;return s.isUndefined(i)&&(e=(d=e)[0],i=d[1],r=d[2],n=d[3],a=d[4],o=d[5],l=d[6],h=d[7],c=d[8]),this.elements[0]=e,this.elements[1]=i,this.elements[2]=r,this.elements[3]=n,this.elements[4]=a,this.elements[5]=o,this.elements[6]=l,this.elements[7]=h,this.elements[8]=c,this.trigger(t.Events.change)},copy:function(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(t.Events.change)},identity:function(){return this.elements[0]=a.Identity[0],this.elements[1]=a.Identity[1],this.elements[2]=a.Identity[2],this.elements[3]=a.Identity[3],this.elements[4]=a.Identity[4],this.elements[5]=a.Identity[5],this.elements[6]=a.Identity[6],this.elements[7]=a.Identity[7],this.elements[8]=a.Identity[8],this.trigger(t.Events.change)},multiply:function(e,i,r,n,a,o,l,h,c){if(s.isUndefined(i))return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(t.Events.change);if(s.isUndefined(n))return e=e||0,i=i||0,r=r||0,{x:(a=this.elements)[0]*e+a[1]*i+a[2]*r,y:a[3]*e+a[4]*i+a[5]*r,z:a[6]*e+a[7]*i+a[8]*r};var d=this.elements,f=[e,i,r,n,a,o,l,h,c],u=d[0],_=d[1],g=d[2],p=d[3],m=d[4],v=d[5],y=d[6],x=d[7],b=d[8],w=f[0],k=f[1],S=f[2],A=f[3],E=f[4],C=f[5],R=f[6],F=f[7],M=f[8];return this.elements[0]=u*w+_*A+g*R,this.elements[1]=u*k+_*E+g*F,this.elements[2]=u*S+_*C+g*M,this.elements[3]=p*w+m*A+v*R,this.elements[4]=p*k+m*E+v*F,this.elements[5]=p*S+m*C+v*M,this.elements[6]=y*w+x*A+b*R,this.elements[7]=y*k+x*E+b*F,this.elements[8]=y*S+x*C+b*M,this.trigger(t.Events.change)},inverse:function(e){var i=this.elements;e=e||new t.Matrix;var r=i[0],s=i[1],n=i[2],a=i[3],o=i[4],l=i[5],h=i[6],c=i[7],d=i[8],f=d*o-l*c,u=-d*a+l*h,_=c*a-o*h,g=r*f+s*u+n*_;return g?(g=1/g,e.elements[0]=f*g,e.elements[1]=(-d*s+n*c)*g,e.elements[2]=(l*s-n*o)*g,e.elements[3]=u*g,e.elements[4]=(d*r-n*h)*g,e.elements[5]=(-l*r+n*a)*g,e.elements[6]=_*g,e.elements[7]=(-c*r+s*h)*g,e.elements[8]=(o*r-s*a)*g,e):null},scale:function(t,e){return arguments.length<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var r=e(t),s=i(t);return this.multiply(r,-s,0,s,r,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){var e=r(t);return this.multiply(1,e,0,0,1,0,0,0,1)},skewY:function(t){var e=r(t);return this.multiply(1,0,0,e,1,0,0,0,1)},toString:function(e){return n.length=0,this.toTransformArray(e,n),n.map(t.Utils.toFixed).join(" ")},toTransformArray:function(t,e){var i=this.elements,r=!!e,s=i[0],n=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){var c=i[6],d=i[7],f=i[8];return r?(e[0]=s,e[1]=o,e[2]=c,e[3]=n,e[4]=l,e[5]=d,e[6]=a,e[7]=h,void(e[8]=f)):[s,o,c,n,l,d,a,h,f]}return r?(e[0]=s,e[1]=o,e[2]=n,e[3]=l,e[4]=a,void(e[5]=h)):[s,o,n,l,a,h]},toArray:function(t,e){var i=this.elements,r=!!e,s=i[0],n=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){var c=i[6],d=i[7],f=i[8];return r?(e[0]=s,e[1]=n,e[2]=a,e[3]=o,e[4]=l,e[5]=h,e[6]=c,e[7]=d,void(e[8]=f)):[s,n,a,o,l,h,c,d,f]}return r?(e[0]=s,e[1]=n,e[2]=a,e[3]=o,e[4]=l,void(e[5]=h)):[s,n,a,o,l,h]},toObject:function(){return{elements:this.toArray(!0),manual:!!this.manual}},clone:function(){return(new t.Matrix).copy(this)}})}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils.mod,i=t.Utils.toFixed,r=t.Utils,s={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){var i=t,n=document.createElementNS(s.ns,i);return"svg"===i&&(e=r.defaults(e||{},{version:s.version})),r.isEmpty(e)||s.setAttributes(n,e),n},setAttributes:function(t,e){for(var i=Object.keys(e),r=0;r<i.length;r++)/href/.test(i[r])?t.setAttributeNS(s.xlink,i[r],e[i[r]]):t.setAttribute(i[r],e[i[r]]);return this},removeAttributes:function(t,e){for(var i in e)t.removeAttribute(i);return this},toString:function(r,s){for(var n,a=r.length,o=a-1,l="",h=0;h<a;h++){var c,d,f,u,_,g,p,m,v,y,x,b,w,k,S=r[h],A=s?e(h-1,a):Math.max(h-1,0),E=s?e(h+1,a):Math.min(h+1,o),C=r[A],R=r[E],F=i(S.x),M=i(S.y);switch(S.command){case t.Commands.close:c=t.Commands.close;break;case t.Commands.arc:y=S.rx,x=S.ry,b=S.xAxisRotation,w=S.largeArcFlag,k=S.sweepFlag,c=t.Commands.arc+" "+y+" "+x+" "+b+" "+w+" "+k+" "+F+" "+M;break;case t.Commands.curve:g=C.controls&&C.controls.right||t.Vector.zero,p=S.controls&&S.controls.left||t.Vector.zero,C.relative?(d=i(g.x+C.x),f=i(g.y+C.y)):(d=i(g.x),f=i(g.y)),S.relative?(u=i(p.x+S.x),_=i(p.y+S.y)):(u=i(p.x),_=i(p.y)),c=(0===h?t.Commands.move:t.Commands.curve)+" "+d+" "+f+" "+u+" "+_+" "+F+" "+M;break;case t.Commands.move:n=S,c=t.Commands.move+" "+F+" "+M;break;default:c=S.command+" "+F+" "+M}h>=o&&s&&(S.command===t.Commands.curve&&(R=n,m=S.controls&&S.controls.right||S,v=R.controls&&R.controls.left||R,S.relative?(d=i(m.x+S.x),f=i(m.y+S.y)):(d=i(m.x),f=i(m.y)),R.relative?(u=i(v.x+R.x),_=i(v.y+R.y)):(u=i(v.x),_=i(v.y)),c+=" C "+d+" "+f+" "+u+" "+_+" "+(F=i(R.x))+" "+(M=i(R.y))),S.command!==t.Commands.close&&(c+=" Z")),l+=c+" "}return l},getClip:function(t){var e=t._renderer.clip;if(!e){for(var i=t;i.parent;)i=i.parent;e=t._renderer.clip=s.createElement("clipPath"),i.defs.appendChild(e)}return e},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var i=e.nodeName;!i||/(radial|linear)gradient/i.test(i)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;e&&e.parentNode==this.elem&&(e.nodeName&&(t._clip||this.elem.removeChild(e)))},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){s[t._renderer.type].render.call(t,this)},render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=s.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));var e=this._matrix.manual||this._flagMatrix,i={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var r=0;r<this.children.length;r++){var n=this.children[r];s[n._renderer.type].render.call(n,t)}return this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(s.group.appendChild,i),this._flagSubtractions&&this.subtractions.forEach(s.group.removeChild,i),this._flagOrder&&this.children.forEach(s.group.orderChild,i),this._flagMask&&(this._mask?this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")"):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagVertices){var i=s.toString(this._renderer.vertices,this._closed);e.d=i}if(this._fill&&this._fill._renderer&&(this._fill._update(),s[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),s[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?s.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=s.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){var r=s.getClip(this),n=this._renderer.elem;this._clip?(n.removeAttribute("id"),r.setAttribute("id",this.id),r.appendChild(n)):(r.removeAttribute("id"),n.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(n))}return this.flagReset()}},text:{render:function(t){this._update();var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=s.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),s[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),s[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?s.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=s.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){var i=s.getClip(this),r=this._renderer.elem;this._clip?(r.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(r)):(i.removeAttribute("id"),r.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(r))}return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();var i={};if(this._flagEndPoints&&(i.x1=this.left._x,i.y1=this.left._y,i.x2=this.right._x,i.y2=this.right._y),this._flagSpread&&(i.spreadMethod=this._spread),this._renderer.elem?s.setAttributes(this._renderer.elem,i):(i.id=this.id,i.gradientUnits="userSpaceOnUse",this._renderer.elem=s.createElement("linearGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var n=0;n<this.stops.length;n++){var a=this.stops[n],o={};a._flagOffset&&(o.offset=100*a._offset+"%"),a._flagColor&&(o["stop-color"]=a._color),a._flagOpacity&&(o["stop-opacity"]=a._opacity),a._renderer.elem?s.setAttributes(a._renderer.elem,o):a._renderer.elem=s.createElement("stop",o),r&&this._renderer.elem.appendChild(a._renderer.elem),a.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();var i={};if(this._flagCenter&&(i.cx=this.center._x,i.cy=this.center._y),this._flagFocal&&(i.fx=this.focal._x,i.fy=this.focal._y),this._flagRadius&&(i.r=this._radius),this._flagSpread&&(i.spreadMethod=this._spread),this._renderer.elem?s.setAttributes(this._renderer.elem,i):(i.id=this.id,i.gradientUnits="userSpaceOnUse",this._renderer.elem=s.createElement("radialGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var n=0;n<this.stops.length;n++){var a=this.stops[n],o={};a._flagOffset&&(o.offset=100*a._offset+"%"),a._flagColor&&(o["stop-color"]=a._color),a._flagOpacity&&(o["stop-opacity"]=a._opacity),a._renderer.elem?s.setAttributes(a._renderer.elem,o):a._renderer.elem=s.createElement("stop",o),r&&this._renderer.elem.appendChild(a._renderer.elem),a.flagReset()}}return this.flagReset()}},texture:{render:function(e,i){i||this._update();var n={},a={x:0,y:0},o=this.image;if(this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case"canvas":a.href=a["xlink:href"]=o.toDataURL("image/png");break;case"img":case"image":a.href=a["xlink:href"]=this.src}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,o&&(n.x-=o.width/2,n.y-=o.height/2,this._scale instanceof t.Vector?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,o)){switch(a.width=n.width=o.width,a.height=n.height=o.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1}this._scale instanceof t.Vector?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?r.isEmpty(a)||s.setAttributes(this._renderer.image,a):this._renderer.image=s.createElement("image",a)),this._renderer.elem?r.isEmpty(n)||s.setAttributes(this._renderer.elem,n):(n.id=this.id,n.patternUnits="userSpaceOnUse",this._renderer.elem=s.createElement("pattern",n),e.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},n=t[t.Types.svg]=function(e){this.domElement=e.domElement||s.createElement("svg"),this.scene=new t.Group,this.scene.parent=this,this.defs=s.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"};r.extend(n,{Utils:s}),r.extend(n.prototype,t.Utils.Events,{constructor:n,setSize:function(e,i){return this.width=e,this.height=i,s.setAttributes(this.domElement,{width:e,height:i}),this.trigger(t.Events.resize,e,i)},render:function(){return s.group.render.call(this.scene,this.domElement),this}})}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils.mod,i=t.Utils.getRatio,r=t.Utils,s=[],n=2*Math.PI,a=Math.max,o=Math.min,l=Math.abs,h=Math.sin,c=Math.cos,d=Math.acos,f=Math.sqrt,u=function(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]},_={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(t){return this[t]},t.setAttribute=function(t,e){return this[t]=e,this},t},group:{renderChild:function(t){_[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){this._update();var e=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);var r=this._mask,s=u(e),n=!s||!!r;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,n&&(t.save(),s||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),r&&_[r._renderer.type].render.call(r,t,!0),this.opacity>0&&0!==this.scale)for(var a=0;a<this.children.length;a++){var o=this.children[a];_[o._renderer.type].render.call(o,t)}return n&&t.restore(),this.flagReset()}},path:{render:function(i,n,o){var l,h,c,d,f,g,p,m,v,y,x,b,w,k,S,A,E,C,R,F,M,O,P,U,T,N,L,j,V,I,G,B,z;if(this._update(),l=this._matrix.elements,h=this._stroke,c=this._linewidth,d=this._fill,f=this._opacity*this.parent._renderer.opacity,g=this._visible,p=this._cap,m=this._join,v=this._miter,y=this._closed,w=(b=(x=this._renderer.vertices).length)-1,G=u(l),z=this.dashes,I=this._clip,!n&&(!g||I))return this;G||(i.save(),i.transform(l[0],l[3],l[1],l[4],l[2],l[5])),d&&(r.isString(d)?i.fillStyle=d:(_[d._renderer.type].render.call(d,i),i.fillStyle=d._renderer.effect)),h&&(r.isString(h)?i.strokeStyle=h:(_[h._renderer.type].render.call(h,i),i.strokeStyle=h._renderer.effect),c&&(i.lineWidth=c),v&&(i.miterLimit=v),m&&(i.lineJoin=m),!y&&p&&(i.lineCap=p)),r.isNumber(f)&&(i.globalAlpha=f),z&&z.length>0&&(i.lineDashOffset=z.offset||0,i.setLineDash(z)),i.beginPath();for(var D=0;D<x.length;D++)switch(j=(E=x[D]).x,V=E.y,E.command){case t.Commands.close:i.closePath();break;case t.Commands.arc:var H=E.rx,q=E.ry,W=E.xAxisRotation,X=E.largeArcFlag,Y=E.sweepFlag,K=(A=x[S=y?e(D-1,b):a(D-1,0)]).x,J=A.y;_.renderSvgArcCommand(i,K,J,H,q,X,Y,W,j,V);break;case t.Commands.curve:S=y?e(D-1,b):Math.max(D-1,0),k=y?e(D+1,b):Math.min(D+1,w),A=x[S],C=x[k],U=A.controls&&A.controls.right||t.Vector.zero,T=E.controls&&E.controls.left||t.Vector.zero,A._relative?(O=U.x+A.x,P=U.y+A.y):(O=U.x,P=U.y),E._relative?(F=T.x+E.x,M=T.y+E.y):(F=T.x,M=T.y),i.bezierCurveTo(O,P,F,M,j,V),D>=w&&y&&(C=R,N=E.controls&&E.controls.right||t.Vector.zero,L=C.controls&&C.controls.left||t.Vector.zero,E._relative?(O=N.x+E.x,P=N.y+E.y):(O=N.x,P=N.y),C._relative?(F=L.x+C.x,M=L.y+C.y):(F=L.x,M=L.y),j=C.x,V=C.y,i.bezierCurveTo(O,P,F,M,j,V));break;case t.Commands.line:i.lineTo(j,V);break;case t.Commands.move:R=E,i.moveTo(j,V)}return y&&i.closePath(),I||o||(_.isHidden.test(d)||((B=d._renderer&&d._renderer.offset)&&(i.save(),i.translate(-d._renderer.offset.x,-d._renderer.offset.y),i.scale(d._renderer.scale.x,d._renderer.scale.y)),i.fill(),B&&i.restore()),_.isHidden.test(h)||((B=h._renderer&&h._renderer.offset)&&(i.save(),i.translate(-h._renderer.offset.x,-h._renderer.offset.y),i.scale(h._renderer.scale.x,h._renderer.scale.y),i.lineWidth=c/h._renderer.scale.x),i.stroke(),B&&i.restore())),G||i.restore(),I&&!o&&i.clip(),z&&z.length>0&&i.setLineDash(s),this.flagReset()}},text:{render:function(t,e,i){this._update();var n,a,o,l,h,c,d,f=this._matrix.elements,g=this._stroke,p=this._linewidth,m=this._fill,v=this._opacity*this.parent._renderer.opacity,y=this._visible,x=u(f),b=m._renderer&&m._renderer.offset&&g._renderer&&g._renderer.offset,w=this.dashes,k=this._clip;return e||y&&!k?(x||(t.save(),t.transform(f[0],f[3],f[1],f[4],f[2],f[5])),b||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=_.alignments[this._alignment]||this._alignment,t.textBaseline=this._baseline,m&&(r.isString(m)?t.fillStyle=m:(_[m._renderer.type].render.call(m,t),t.fillStyle=m._renderer.effect)),g&&(r.isString(g)?t.strokeStyle=g:(_[g._renderer.type].render.call(g,t),t.strokeStyle=g._renderer.effect),p&&(t.lineWidth=p)),r.isNumber(v)&&(t.globalAlpha=v),w&&w.length>0&&(t.lineDashOffset=w.offset||0,t.setLineDash(w)),k||i||(_.isHidden.test(m)||(m._renderer&&m._renderer.offset?(c=m._renderer.scale.x,d=m._renderer.scale.y,t.save(),t.translate(-m._renderer.offset.x,-m._renderer.offset.y),t.scale(c,d),n=this._size/m._renderer.scale.y,a=this._leading/m._renderer.scale.y,t.font=[this._style,this._weight,n+"px/",a+"px",this._family].join(" "),o=m._renderer.offset.x/m._renderer.scale.x,l=m._renderer.offset.y/m._renderer.scale.y,t.fillText(this.value,o,l),t.restore()):t.fillText(this.value,0,0)),_.isHidden.test(g)||(g._renderer&&g._renderer.offset?(c=g._renderer.scale.x,d=g._renderer.scale.y,t.save(),t.translate(-g._renderer.offset.x,-g._renderer.offset.y),t.scale(c,d),n=this._size/g._renderer.scale.y,a=this._leading/g._renderer.scale.y,t.font=[this._style,this._weight,n+"px/",a+"px",this._family].join(" "),o=g._renderer.offset.x/g._renderer.scale.x,l=g._renderer.offset.y/g._renderer.scale.y,h=p/g._renderer.scale.x,t.lineWidth=h,t.strokeText(this.value,o,l),t.restore()):t.strokeText(this.value,0,0))),x||t.restore(),k&&!i&&t.clip(),w&&w.length>0&&t.setLineDash(s),this.flagReset()):this}},"linear-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var e=0;e<this.stops.length;e++){var i=this.stops[e];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}},"radial-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var e=0;e<this.stops.length;e++){var i=this.stops[e];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}},texture:{render:function(e){this._update();var i=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof t.Vector||(this._renderer.offset=new t.Vector),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(i,r,s,o,d,u,_,g,m,v){g=g*Math.PI/180,o=l(o),d=l(d);var y=(r-m)/2,x=(s-v)/2,b=c(g)*y+h(g)*x,w=-h(g)*y+c(g)*x,k=o*o,S=d*d,A=b*b,E=w*w,C=A/k+E/S;if(C>1){var R=f(C);k=(o*=R)*o,S=(d*=R)*d}var F=k*E+S*A,M=f(a(0,(k*S-F)/F));u===_&&(M=-M);var O=M*o*w/d,P=-M*d*b/o,U=c(g)*O-h(g)*P+(r+m)/2,T=h(g)*O+c(g)*P+(s+v)/2,N=p(1,0,(b-O)/o,(w-P)/d);!function(i,r,s,a,o,l,h,c,d){var f=t.Utils.Curve.Tolerance.epsilon,u=h-l,_=Math.abs(u)<f;(u=e(u,n))<f&&(u=_?0:n);!0!==c||_||(u===n?u=-n:u-=n);for(var g=0;g<t.Resolution;g++){var p=g/(t.Resolution-1),m=l+p*u,v=r+a*Math.cos(m),y=s+o*Math.sin(m);if(0!==d){var x=Math.cos(d),b=Math.sin(d),w=v-r,k=y-s;v=w*x-k*b+r,y=w*b+k*x+s}i.lineTo(v,y)}}(i,U,T,o,d,N,N+p((b-O)/o,(w-P)/d,(-b-O)/o,(-w-P)/d)%n,0===_,g)}},g=t[t.Types.canvas]=function(e){var i=!1!==e.smoothing;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,r.isUndefined(this.ctx.imageSmoothingEnabled)||(this.ctx.imageSmoothingEnabled=i),this.scene=new t.Group,this.scene.parent=this};function p(t,e,i,r){var s=t*i+e*r,n=f(t*t+e*e)*f(i*i+r*r),l=d(a(-1,o(1,s/n)));return t*r-e*i<0&&(l=-l),l}r.extend(g,{Utils:_}),r.extend(g.prototype,t.Utils.Events,{constructor:g,setSize:function(e,s,n){return this.width=e,this.height=s,this.ratio=r.isUndefined(n)?i(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=s*this.ratio,this.domElement.style&&r.extend(this.domElement.style,{width:e+"px",height:s+"px"}),this.trigger(t.Events.resize,e,s,n)},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),_.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}})}((void 0!==e?e:self||window).Two),function(t){var e=t.root,i=t.Matrix.Multiply,r=t.Utils.mod,s=[1,0,0,0,1,0,0,0,1],n=new t.Array(9),a=t.Utils.getRatio,o=(t.Utils.getComputedMatrix,t[t.Types.canvas].Utils),l=t.Utils,h={isHidden:/(undefined|none|transparent)/i,canvas:e.document?e.document.createElement("canvas"):{getContext:l.identity},alignments:{left:"start",middle:"center",right:"end"},matrix:new t.Matrix,group:{removeChild:function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)h.group.removeChild(t.children[i],e);else e.deleteTexture(t._renderer.texture),delete t._renderer.texture},render:function(e,r){this._update();var s,a=this.parent,o=a._matrix&&a._matrix.manual||a._flagMatrix,l=this._matrix.manual||this._flagMatrix;if((o||l)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,n),i(n,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(a._renderer.type)||(this._renderer.scale.x*=a._renderer.scale.x,this._renderer.scale.y*=a._renderer.scale.y),o&&(this._flagMatrix=!0)),this._mask&&(e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),h[this._mask._renderer.type].render.call(this._mask,e,r,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)),this._flagOpacity=a._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(a&&a._renderer?a._renderer.opacity:1),this._flagSubtractions)for(s=0;s<this.subtractions.length;s++)h.group.removeChild(this.subtractions[s],e);for(s=0;s<this.children.length;s++){var c=this.children[s];h[c._renderer.type].render.call(c,e,r)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e){var i,s,n,a,c,d,f,u,_,g,p,m,v,y,x,b=e._renderer.vertices,w=this.canvas,k=this.ctx,S=e._renderer.scale,A=e._stroke,E=e._linewidth,C=e._fill,R=e._renderer.opacity||e._opacity,F=e._cap,M=e._join,O=e._miter,P=e._closed,U=e.dashes,T=b.length,N=T-1;w.width=Math.max(Math.ceil(e._renderer.rect.width*S.x),1),w.height=Math.max(Math.ceil(e._renderer.rect.height*S.y),1);var L,j=e._renderer.rect.centroid,V=j.x,I=j.y;k.clearRect(0,0,w.width,w.height),C&&(l.isString(C)?k.fillStyle=C:(h[C._renderer.type].render.call(C,k,e),k.fillStyle=C._renderer.effect)),A&&(l.isString(A)?k.strokeStyle=A:(h[A._renderer.type].render.call(A,k,e),k.strokeStyle=A._renderer.effect),E&&(k.lineWidth=E),O&&(k.miterLimit=O),M&&(k.lineJoin=M),!P&&F&&(k.lineCap=F)),l.isNumber(R)&&(k.globalAlpha=R),U&&U.length>0&&(k.lineDashOffset=U.offset||0,k.setLineDash(U)),k.save(),k.scale(S.x,S.y),k.translate(V,I),k.beginPath();for(var G=0;G<b.length;G++){var B=b[G];switch(v=B.x,y=B.y,B.command){case t.Commands.close:k.closePath();break;case t.Commands.arc:var z=B.rx,D=B.ry,H=B.xAxisRotation,q=B.largeArcFlag,W=B.sweepFlag,X=(n=b[s=P?r(G-1,T):Math.max(G-1,0)]).x,Y=n.y;o.renderSvgArcCommand(k,X,Y,z,D,q,W,H,v,y);break;case t.Commands.curve:s=P?r(G-1,T):Math.max(G-1,0),i=P?r(G+1,T):Math.min(G+1,N),n=b[s],a=b[i],_=n.controls&&n.controls.right||t.Vector.zero,g=B.controls&&B.controls.left||t.Vector.zero,n._relative?(f=_.x+n.x,u=_.y+n.y):(f=_.x,u=_.y),B._relative?(c=g.x+B.x,d=g.y+B.y):(c=g.x,d=g.y),k.bezierCurveTo(f,u,c,d,v,y),G>=N&&P&&(a=L,p=B.controls&&B.controls.right||t.Vector.zero,m=a.controls&&a.controls.left||t.Vector.zero,B._relative?(f=p.x+B.x,u=p.y+B.y):(f=p.x,u=p.y),a._relative?(c=m.x+a.x,d=m.y+a.y):(c=m.x,d=m.y),v=a.x,y=a.y,k.bezierCurveTo(f,u,c,d,v,y));break;case t.Commands.line:k.lineTo(v,y);break;case t.Commands.move:L=B,k.moveTo(v,y)}}P&&k.closePath(),h.isHidden.test(C)||((x=C._renderer&&C._renderer.offset)&&(k.save(),k.translate(-C._renderer.offset.x,-C._renderer.offset.y),k.scale(C._renderer.scale.x,C._renderer.scale.y)),k.fill(),x&&k.restore()),h.isHidden.test(A)||((x=A._renderer&&A._renderer.offset)&&(k.save(),k.translate(-A._renderer.offset.x,-A._renderer.offset.y),k.scale(A._renderer.scale.x,A._renderer.scale.y),k.lineWidth=E/A._renderer.scale.x),k.stroke(),x&&k.restore()),k.restore()},getBoundingClientRect:function(t,e,i){var r,s,n=1/0,a=-1/0,o=1/0,h=-1/0;t.forEach(function(t){var e,i,r,s,l,c,d=t.x,f=t.y,u=t.controls;o=Math.min(f,o),n=Math.min(d,n),a=Math.max(d,a),h=Math.max(f,h),t.controls&&(l=u.left,c=u.right,l&&c&&(e=t._relative?l.x+d:l.x,i=t._relative?l.y+f:l.y,r=t._relative?c.x+d:c.x,s=t._relative?c.y+f:c.y,e&&i&&r&&s&&(o=Math.min(i,s,o),n=Math.min(e,r,n),a=Math.max(e,r,a),h=Math.max(i,s,h))))}),l.isNumber(e)&&(o-=e,n-=e,a+=e,h+=e),r=a-n,s=h-o,i.top=o,i.left=n,i.right=a,i.bottom=h,i.width=r,i.height=s,i.centroid||(i.centroid={}),i.centroid.x=-n,i.centroid.y=-o},render:function(e,r,s){if(!this._visible||!this._opacity)return this;this._update();var a=this.parent,o=a._matrix.manual||a._flagMatrix,l=this._matrix.manual||this._flagMatrix,c=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof t.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((o||l)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,n),i(n,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y)),c?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*a._renderer.opacity,h.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),h.updateTexture.call(h,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||s){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var d=this._renderer.rect;return e.uniformMatrix3fv(r.matrix,!1,this._renderer.matrix),e.uniform4f(r.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},text:{updateCanvas:function(t){var e=this.canvas,i=this.ctx,r=t._renderer.scale,s=t._stroke,n=t._linewidth*r,a=t._fill,o=t._renderer.opacity||t._opacity,c=t.dashes;e.width=Math.max(Math.ceil(t._renderer.rect.width*r.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*r.y),1);var d,f,u,_,g,p,m,v=t._renderer.rect.centroid,y=v.x,x=v.y,b=a._renderer&&a._renderer.offset&&s._renderer&&s._renderer.offset;i.clearRect(0,0,e.width,e.height),b||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",a&&(l.isString(a)?i.fillStyle=a:(h[a._renderer.type].render.call(a,i,t),i.fillStyle=a._renderer.effect)),s&&(l.isString(s)?i.strokeStyle=s:(h[s._renderer.type].render.call(s,i,t),i.strokeStyle=s._renderer.effect),n&&(i.lineWidth=n)),l.isNumber(o)&&(i.globalAlpha=o),c&&c.length>0&&(i.lineDashOffset=c.offset||0,i.setLineDash(c)),i.save(),i.scale(r.x,r.y),i.translate(y,x),h.isHidden.test(a)||(a._renderer&&a._renderer.offset?(p=a._renderer.scale.x,m=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(p,m),d=t._size/a._renderer.scale.y,f=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,d+"px/",f+"px",t._family].join(" "),u=a._renderer.offset.x/a._renderer.scale.x,_=a._renderer.offset.y/a._renderer.scale.y,i.fillText(t.value,u,_),i.restore()):i.fillText(t.value,0,0)),h.isHidden.test(s)||(s._renderer&&s._renderer.offset?(p=s._renderer.scale.x,m=s._renderer.scale.y,i.save(),i.translate(-s._renderer.offset.x,-s._renderer.offset.y),i.scale(p,m),d=t._size/s._renderer.scale.y,f=t._leading/s._renderer.scale.y,i.font=[t._style,t._weight,d+"px/",f+"px",t._family].join(" "),u=s._renderer.offset.x/s._renderer.scale.x,_=s._renderer.offset.y/s._renderer.scale.y,g=n/s._renderer.scale.x,i.lineWidth=g,i.strokeText(t.value,u,_),i.restore()):i.strokeText(t.value,0,0)),i.restore()},getBoundingClientRect:function(t,e){var i=h.ctx;i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),i.textAlign="center",i.textBaseline=t._baseline;var r=1.25*i.measureText(t._value).width,s=1.25*Math.max(t._size,t._leading);this._linewidth&&!h.isHidden.test(this._stroke)&&(r+=2*this._linewidth,s+=2*this._linewidth);var n=r/2,a=s/2;switch(h.alignments[t._alignment]||t._alignment){case h.alignments.left:e.left=0,e.right=r;break;case h.alignments.right:e.left=-r,e.right=0;break;default:e.left=-n,e.right=n}switch(t._baseline){case"bottom":e.top=-s,e.bottom=0;break;case"top":e.top=0,e.bottom=s;break;default:e.top=-a,e.bottom=a}e.width=r,e.height=s,e.centroid||(e.centroid={}),e.centroid.x=n,e.centroid.y=a},render:function(e,r,s){if(!this._visible||!this._opacity)return this;this._update();var a=this.parent,o=a._matrix.manual||a._flagMatrix,l=this._matrix.manual||this._flagMatrix,c=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof t.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((o||l)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,n),i(n,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y)),c?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*a._renderer.opacity,h.text.getBoundingClientRect(this,this._renderer.rect),h.updateTexture.call(h,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||s){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var d=this._renderer.rect;return e.uniformMatrix3fv(r.matrix,!1,this._renderer.matrix),e.uniform4f(r.rect,d.left,d.top,d.right,d.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var i=0;i<this.stops.length;i++){var r=this.stops[i];this._renderer.effect.addColorStop(r._offset,r._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var i=0;i<this.stops.length;i++){var r=this.stops[i];this._renderer.effect.addColorStop(r._offset,r._color)}}return this.flagReset()}}},texture:{render:function(e,i){if(e.canvas.getContext("2d")){this._update();var r=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(r,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof t.Vector||(this._renderer.offset=new t.Vector),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,r&&(this._renderer.offset.x+=r.width/2,this._renderer.offset.y+=r.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},updateTexture:function(t,e){this[e._renderer.type].updateCanvas.call(h,e),e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.canvas.width<=0||this.canvas.height<=0||t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(e,i){var r,s;if(r=e.createProgram(),l.each(i,function(t){e.attachShader(r,t)}),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw s=e.getProgramInfoLog(r),e.deleteProgram(r),new t.Utils.Error("unable to link program: "+s);return r}},shaders:{create:function(e,i,r){var s,n;if(s=e.createShader(e[r]),e.shaderSource(s,i),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw n=e.getShaderInfoLog(s),e.deleteShader(s),new t.Utils.Error("unable to compile shader "+s+": "+n);return s},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["precision mediump float;","attribute vec2 a_position;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","uniform vec4 u_rect;","","varying vec2 v_textureCoords;","","void main() {","   vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;","   vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_position;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  vec4 texel = texture2D(u_image, v_textureCoords);","  if (texel.a == 0.0) {","    discard;","  }","  gl_FragColor = texel;","}"].join("\n")},TextureRegistry:new t.Registry};h.ctx=h.canvas.getContext("2d");var c=t[t.Types.webgl]=function(e){var i,r,n;if(this.domElement=e.domElement||document.createElement("canvas"),l.isUndefined(e.offscreenElement)||(h.canvas=e.offscreenElement,h.ctx=h.canvas.getContext("2d")),this.scene=new t.Group,this.scene.parent=this,this._renderer={type:"renderer",matrix:new t.Array(s),scale:1,opacity:1},this._flagMatrix=!0,e=l.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,i=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new t.Utils.Error("unable to create a webgl context. Try using another renderer.");r=h.shaders.create(i,h.shaders.vertex,h.shaders.types.vertex),n=h.shaders.create(i,h.shaders.fragment,h.shaders.types.fragment),this.program=h.program.create(i,[r,n]),i.useProgram(this.program),this.program.position=i.getAttribLocation(this.program,"a_position"),this.program.matrix=i.getUniformLocation(this.program,"u_matrix"),this.program.rect=i.getUniformLocation(this.program,"u_rect");var a=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,a),i.vertexAttribPointer(this.program.position,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(this.program.position),i.bufferData(i.ARRAY_BUFFER,new t.Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enable(i.BLEND),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA)};l.extend(c,{Utils:h}),l.extend(c.prototype,t.Utils.Events,{constructor:c,setSize:function(e,i,r){this.width=e,this.height=i,this.ratio=l.isUndefined(r)?a(this.ctx):r,this.domElement.width=e*this.ratio,this.domElement.height=i*this.ratio,l.isObject(this.domElement.style)&&l.extend(this.domElement.style,{width:e+"px",height:i+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,e*this.ratio,i*this.ratio);var s=this.ctx.getUniformLocation(this.program,"u_resolution");return this.ctx.uniform2f(s,e*this.ratio,i*this.ratio),this.trigger(t.Events.resize,e,i,r)},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),h.group.render.call(this.scene,t,this.program),this._flagMatrix=!1,this}})}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.Shape=function(){this._renderer={},this._renderer.flagMatrix=e.bind(i.FlagMatrix,this),this.isShape=!0,this.id=t.Identifier+t.uniqueId(),this.classList=[],this.matrix=new t.Matrix,this.translation=new t.Vector,this.rotation=0,this.scale=1};e.extend(i,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(r){var s={enumerable:!1,get:function(){return this._translation},set:function(e){this._translation&&this._translation.unbind(t.Events.change,this._renderer.flagMatrix),this._translation=e,this._translation.bind(t.Events.change,this._renderer.flagMatrix),i.FlagMatrix.call(this)}};Object.defineProperty(r,"translation",s),Object.defineProperty(r,"position",s),Object.defineProperty(r,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(r,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}}),Object.defineProperty(r,"matrix",{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}}),Object.defineProperty(r,"className",{enumerable:!0,get:function(){return this._className},set:function(t){if(this._flagClassName=this._className!==t,this._flagClassName){for(var i=this._className.split(/\s+?/),r=t.split(/\s+?/),s=0;s<i.length;s++){var n=i[s],a=e.indexOf(this.classList,n);a>=0&&this.classList.splice(a,1)}this.classList=this.classList.concat(r)}this._className=t}})}}),e.extend(i.prototype,t.Utils.Events,{_flagMatrix:!0,_flagScale:!1,_flagClassName:!1,_translation:null,_rotation:0,_scale:1,_className:"",constructor:i,addTo:function(t){return t.add(this),this},clone:function(t){var e=new i;return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},_update:function(e){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof t.Vector?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation)),e&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=this._flagClassName=!1,this}}),i.MakeObservable(i.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=Math.min,i=Math.max,r=(Math.round,Math.ceil),s=Math.floor,n=t.Utils.getComputedMatrix,a={},o=t.Utils;o.each(t.Commands,function(t,e){a[e]=new RegExp(t)});var l=t.Path=function(e,i,r,s){t.Shape.call(this),this._renderer.type="path",this._renderer.flagVertices=o.bind(l.FlagVertices,this),this._renderer.bindVertices=o.bind(l.BindVertices,this),this._renderer.unbindVertices=o.bind(l.UnbindVertices,this),this._renderer.flagFill=o.bind(l.FlagFill,this),this._renderer.flagStroke=o.bind(l.FlagStroke,this),this._renderer.vertices=[],this._renderer.collection=[],this._closed=!!i,this._curved=!!r,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!s,this.dashes=[],this.dashes.offset=0};function h(t,e){if(0===e||1===e)return!0;for(var i=t._length*e,r=0,s=0;s<t._lengths.length;s++){var n=t._lengths[s];if(r>=i)return i-r>=0;r+=n}return!1}function c(t,e){var i=t._length;if(e<=0)return 0;if(e>=i)return t._lengths.length-1;for(var r=0,s=0;r<t._lengths.length;r++){if(s+t._lengths[r]>=e)return e-=s,Math.max(r-1,0)+e/t._lengths[r];s+=t._lengths[r]}return-1}function d(e,i,r){var s,n,a,o,l,h,c,d,f=i.controls&&i.controls.right,u=e.controls&&e.controls.left;return s=i.x,l=i.y,n=(f||i).x,h=(f||i).y,a=(u||e).x,c=(u||e).y,o=e.x,d=e.y,f&&i._relative&&(n+=i.x,h+=i.y),u&&e._relative&&(a+=e.x,c+=e.y),t.Utils.getCurveLength(s,l,n,h,a,c,o,d,r)}function f(e,i,r){var s,n,a,o,l,h,c,d,f=i.controls&&i.controls.right,u=e.controls&&e.controls.left;return s=i.x,l=i.y,n=(f||i).x,h=(f||i).y,a=(u||e).x,c=(u||e).y,o=e.x,d=e.y,f&&i._relative&&(n+=i.x,h+=i.y),u&&e._relative&&(a+=e.x,c+=e.y),t.Utils.subdivide(s,l,n,h,a,c,o,d,r)}o.extend(l,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],Utils:{getCurveLength:d},FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)},BindVertices:function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(e){for(var i=e.length;i--;)e[i].unbind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),o.each(l.Properties.slice(2,8),t.Utils.defineProperty,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(e,"closed",{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(e,"curved",{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(e,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t!==this._automatic){this._automatic=!!t;var e=this._automatic?"ignore":"listen";o.each(this.vertices,function(t){t[e]()})}}}),Object.defineProperty(e,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(e,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(e,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(e){this._renderer.flagVertices;var i=this._renderer.bindVertices,r=this._renderer.unbindVertices;this._collection&&this._collection.unbind(t.Events.insert,i).unbind(t.Events.remove,r),e instanceof t.Utils.Collection?this._collection=e:this._collection=new t.Utils.Collection(e||[]),this._collection.bind(t.Events.insert,i).bind(t.Events.remove,r),i(this._collection)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(e,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){o.isNumber(t.offset)||(t.offset=this._dashes.offset||0),this._dashes=t}})}}),o.extend(l.prototype,t.Shape.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,_dashes:[],constructor:l,clone:function(t){for(var e=new l,i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(var r=0;r<l.Properties.length;r++){var s=l.Properties[r];e[s]=this[s]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var e={vertices:o.map(this.vertices,function(t){return t.toObject()})};return o.each(t.Shape.Properties,function(t){e[t]=this[t]},this),e.className=this.className,e.translation=this.translation.toObject(),e.rotation=this.rotation,e.scale=this.scale instanceof t.Vector?this.scale.toObject():this.scale,this.matrix.manual&&(e.matrix=this.matrix.toObject()),e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this},corner:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},o.each(this.vertices,function(e){e.subSelf(t.centroid),e.x+=t.width/2,e.y+=t.height/2}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2-this.translation.x,y:t.top+t.height/2-this.translation.y},o.each(this.vertices,function(e){e.subSelf(t.centroid)}),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(r){var s,a,o,l,h,c,d,f,u=1/0,_=-1/0,g=1/0,p=-1/0;if(this._update(!0),s=r?this._matrix:n(this),a=this.linewidth/2,(o=this._renderer.vertices.length)<=0)return{width:0,height:0};for(l=0;l<o;l++)if(f=this._renderer.vertices[l],(h=this._renderer.vertices[(l+o-1)%o]).controls&&f.controls){c=h.relative?s.multiply(h.controls.right.x+h.x,h.controls.right.y+h.y,1):s.multiply(h.controls.right.x,h.controls.right.y,1),h=s.multiply(h.x,h.y,1),d=f.relative?s.multiply(f.controls.left.x+f.x,f.controls.left.y+f.y,1):s.multiply(f.controls.left.x,f.controls.left.y,1),f=s.multiply(f.x,f.y,1);var m=t.Utils.getCurveBoundingBox(h.x,h.y,c.x,c.y,d.x,d.y,f.x,f.y);g=e(m.min.y-a,g),u=e(m.min.x-a,u),_=i(m.max.x+a,_),p=i(m.max.y+a,p)}else l<=1&&(h=s.multiply(h.x,h.y,1),g=e(h.y-a,g),u=e(h.x-a,u),_=i(h.x+a,_),p=i(h.y+a,p)),f=s.multiply(f.x,f.y,1),g=e(f.y-a,g),u=e(f.x-a,u),_=i(f.x+a,_),p=i(f.y+a,p);return{top:g,left:u,right:_,bottom:p,width:_-u,height:p-g}},getPointAt:function(e,i){for(var r,s,n,a,l,h,c,d,f,u,_,g,p,m,v,y=this.length*Math.min(Math.max(e,0),1),x=this.vertices.length,b=x-1,w=null,k=null,S=0,A=this._lengths.length,E=0;S<A;S++){if(E+this._lengths[S]>=y){this._closed?(r=t.Utils.mod(S,x),s=t.Utils.mod(S-1,x),0===S&&(r=s,s=S)):(r=S,s=Math.min(Math.max(S-1,0),b)),w=this.vertices[r],k=this.vertices[s],y-=E,e=0!==this._lengths[S]?y/this._lengths[S]:0;break}E+=this._lengths[S]}if(o.isNull(w)||o.isNull(k))return null;if(!w)return k;if(!k)return w;v=k.controls&&k.controls.right,m=w.controls&&w.controls.left,l=k.x,u=k.y,h=(v||k).x,_=(v||k).y,c=(m||w).x,g=(m||w).y,d=w.x,p=w.y,v&&k.relative&&(h+=k.x,_+=k.y),m&&w.relative&&(c+=w.x,g+=w.y),a=t.Utils.getComponentOnCubicBezier(e,l,h,c,d),f=t.Utils.getComponentOnCubicBezier(e,u,_,g,p);var C=t.Utils.lerp(l,h,e),R=t.Utils.lerp(u,_,e),F=t.Utils.lerp(h,c,e),M=t.Utils.lerp(_,g,e),O=t.Utils.lerp(c,d,e),P=t.Utils.lerp(g,p,e),U=t.Utils.lerp(C,F,e),T=t.Utils.lerp(R,M,e),N=t.Utils.lerp(F,O,e),L=t.Utils.lerp(M,P,e);return o.isObject(i)?(i.x=a,i.y=f,o.isObject(i.controls)||t.Anchor.AppendCurveProperties(i),i.controls.left.x=U,i.controls.left.y=T,i.controls.right.x=N,i.controls.right.y=L,o.isBoolean(i.relative)&&!i.relative||(i.controls.left.x-=a,i.controls.left.y-=f,i.controls.right.x-=a,i.controls.right.y-=f),i.t=e,i):((n=new t.Anchor(a,f,U-a,T-f,N-a,L-f,this._curved?t.Commands.curve:t.Commands.line)).t=e,n)},plot:function(){if(this.curved)return t.Utils.getCurveFromPoints(this._collection,this.closed),this;for(var e=0;e<this._collection.length;e++)this._collection[e].command=0===e?t.Commands.move:t.Commands.line;return this},subdivide:function(e){this._update();var i=this.vertices.length-1,r=this.vertices[i],s=this._closed||this.vertices[i]._command===t.Commands.close,n=[];return o.each(this.vertices,function(a,l){if(l<=0&&!s)r=a;else{if(a.command===t.Commands.move)return n.push(new t.Anchor(r.x,r.y)),l>0&&(n[n.length-1].command=t.Commands.line),void(r=a);var h=f(a,r,e);n=n.concat(h),o.each(h,function(e,i){i<=0&&r.command===t.Commands.move?e.command=t.Commands.move:e.command=t.Commands.line}),l>=i&&(this._closed&&this._automatic?(h=f(a,r=a,e),n=n.concat(h),o.each(h,function(e,i){i<=0&&r.command===t.Commands.move?e.command=t.Commands.move:e.command=t.Commands.line})):s&&n.push(new t.Anchor(a.x,a.y)),n[n.length-1].command=s?t.Commands.close:t.Commands.line),r=a}},this),this._automatic=!1,this._curved=!1,this.vertices=n,this},_updateLength:function(e,i){i||this._update();var r=this.vertices.length,s=r-1,n=this.vertices[s],a=0;return o.isUndefined(this._lengths)&&(this._lengths=[]),o.each(this.vertices,function(i,r){if(r<=0||i.command===t.Commands.move)return n=i,void(this._lengths[r]=0);this._lengths[r]=d(i,n,e),a+=this._lengths[r],n=i},this),this._length=a,this._flagLength=!1,this},_update:function(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);var e,i,n,a,o,l=this._collection.length,d=this._closed,f=Math.min(this._beginning,this._ending),u=Math.max(this._beginning,this._ending),_=c(this,f*this._length),g=c(this,u*this._length),p=r(_),m=s(g);this._renderer.vertices.length=0;for(var v=0;v<l;v++)this._renderer.collection.length<=v&&this._renderer.collection.push(new t.Anchor),v>m&&!i?((o=this._renderer.collection[v]).copy(this._collection[v]),this.getPointAt(u,o),o.command=this._renderer.collection[v].command,this._renderer.vertices.push(o),i=o,(n=this._collection[v-1])&&n.controls&&(o.controls.right.clear(),this._renderer.collection[v-1].controls.right.clear().lerp(n.controls.right,o.t))):v>=p&&v<=m&&(o=this._renderer.collection[v].copy(this._collection[v]),this._renderer.vertices.push(o),v===m&&h(this,u)?(i=o,!d&&i.controls&&i.controls.right.clear()):v===p&&h(this,f)&&((e=o).command=t.Commands.move,!d&&e.controls&&e.controls.left.clear()));p>0&&!e&&(v=p-1,(o=this._renderer.collection[v]).copy(this._collection[v]),this.getPointAt(f,o),o.command=t.Commands.move,this._renderer.vertices.unshift(o),e=o,(a=this._collection[v+1])&&a.controls&&(o.controls.left.clear(),this._renderer.collection[v+1].controls.left.copy(a.controls.left).lerp(t.Vector.zero,o.t)))}return t.Shape.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,t.Shape.prototype.flagReset.call(this),this}}),l.MakeObservable(l.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=t.Utils,r=t.Line=function(i,r,s,n){e.call(this,[new t.Anchor(i,r),new t.Anchor(s,n)]),this.vertices[0].command=t.Commands.move,this.vertices[1].command=t.Commands.line,this.automatic=!1};i.extend(r.prototype,e.prototype),r.prototype.constructor=r,e.MakeObservable(r.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=t.Utils,r=t.Rectangle=function(i,r,s,n){e.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0,!1,!0),this.width=s,this.height=n,this.origin=new t.Vector,this.translation.set(i,r),this._update()};i.extend(r,{Properties:["width","height"],MakeObservable:function(s){e.MakeObservable(s),i.each(r.Properties,t.Utils.defineProperty,s),Object.defineProperty(s,"origin",{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(t.Events.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(t.Events.change,this._renderer.flagVertices),this._renderer.flagVertices()}})}}),i.extend(r.prototype,e.prototype,{_flagWidth:0,_flagHeight:0,_width:0,_height:0,_origin:null,constructor:r,_update:function(){if(this._flagWidth||this._flagHeight){var i=this._width/2,r=this._height/2;this.vertices[0].set(-i,-r).add(this._origin).command=t.Commands.move,this.vertices[1].set(i,-r).add(this._origin).command=t.Commands.line,this.vertices[2].set(i,r).add(this._origin).command=t.Commands.line,this.vertices[3].set(-i,r).add(this._origin).command=t.Commands.line,this.vertices[4]&&(this.vertices[4].set(-i,-r).add(this._origin).command=t.Commands.line)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this},clone:function(e){var s=new r(0,0,this.width,this.height);return s.translation.copy(this.translation),s.rotation=this.rotation,s.scale=this.scale,this.matrix.manual&&s.matrix.copy(this.matrix),i.each(t.Path.Properties,function(t){s[t]=this[t]},this),e&&e.add(s),s},toObject:function(){var t=e.prototype.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}}),r.MakeObservable(r.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=2*Math.PI,r=Math.PI/2,s=Math.cos,n=Math.sin,a=t.Utils,o=t.Ellipse=function(i,r,s,n,o){a.isNumber(n)||(n=s);var l=o?Math.max(o,2):4,h=a.map(a.range(l),function(e){return new t.Anchor},this);e.call(this,h,!0,!0,!0),this.width=2*s,this.height=2*n,this._update(),this.translation.set(i,r)};a.extend(o,{Properties:["width","height"],MakeObservable:function(i){e.MakeObservable(i),a.each(o.Properties,t.Utils.defineProperty,i)}}),a.extend(o.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_width:0,_height:0,constructor:o,_update:function(){if(this._flagWidth||this._flagHeight)for(var a=4/3*Math.tan(Math.PI/(2*this.vertices.length)),o=this._width/2,l=this._height/2,h=0,c=this.vertices.length;h<c;h++){var d=h/c*i,f=o*s(d),u=l*n(d),_=o*a*s(d-r),g=l*a*n(d-r),p=o*a*s(d+r),m=l*a*n(d+r),v=this.vertices[h];v.command=t.Commands.curve,v.set(f,u),v.controls.left.set(_,g),v.controls.right.set(p,m)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this},clone:function(e){var i=this.width/2,r=this.height/2,s=this.vertices.length,n=new o(0,0,i,r,s);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,this.matrix.manual&&n.matrix.copy(this.matrix),a.each(t.Path.Properties,function(t){n[t]=this[t]},this),e&&e.add(n),n},toObject:function(){var t=e.prototype.toObject.call(this);return a.each(o.Properties,function(e){t[e]=this[e]},this),t}}),o.MakeObservable(o.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=2*Math.PI,r=Math.PI/2,s=Math.cos,n=Math.sin,a=t.Utils,o=t.Circle=function(i,r,s,n){var o=n?Math.max(n,2):4,l=a.map(a.range(o),function(e){return new t.Anchor},this);e.call(this,l,!0,!0,!0),this.radius=s,this._update(),a.isNumber(i)&&(this.translation.x=i),a.isNumber(r)&&(this.translation.y=r)};a.extend(o,{Properties:["radius"],MakeObservable:function(i){e.MakeObservable(i),a.each(o.Properties,t.Utils.defineProperty,i)}}),a.extend(o.prototype,e.prototype,{_flagRadius:!1,_radius:0,constructor:o,_update:function(){if(this._flagRadius)for(var a=4/3*Math.tan(Math.PI/(2*this.vertices.length)),o=this._radius,l=o*a,h=0,c=this.vertices.length;h<c;h++){var d=h/c*i,f=o*s(d),u=o*n(d),_=l*s(d-r),g=l*n(d-r),p=l*s(d+r),m=l*n(d+r),v=this.vertices[h];v.command=t.Commands.curve,v.set(f,u),v.controls.left.set(_,g),v.controls.right.set(p,m)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,e.prototype.flagReset.call(this),this},clone:function(e){var i=new o(0,0,this.radius,this.vertices.length);return i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,this.matrix.manual&&i.matrix.copy(this.matrix),a.each(t.Path.Properties,function(t){i[t]=this[t]},this),e&&e.add(i),i},toObject:function(){var t=e.prototype.toObject.call(this);return a.each(o.Properties,function(e){t[e]=this[e]},this),t}}),o.MakeObservable(o.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=2*Math.PI,r=Math.cos,s=Math.sin,n=t.Utils,a=t.Polygon=function(t,i,r,s){s=Math.max(s||0,3),e.call(this),this.closed=!0,this.automatic=!1,this.width=2*r,this.height=2*r,this.sides=s,this._update(),this.translation.set(t,i)};n.extend(a,{Properties:["width","height","sides"],MakeObservable:function(i){e.MakeObservable(i),n.each(a.Properties,t.Utils.defineProperty,i)}}),n.extend(a.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_width:0,_height:0,_sides:0,constructor:a,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var n=this._sides,a=n+1,o=this.vertices.length;o>n&&(this.vertices.splice(n-1,o-n),o=n);for(var l=0;l<a;l++){var h=i*((l+.5)/n)+Math.PI/2,c=this._width*r(h)/2,d=this._height*s(h)/2;l>=o?this.vertices.push(new t.Anchor(c,d)):this.vertices[l].set(c,d),this.vertices[l].command=0===l?t.Commands.move:t.Commands.line}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,e.prototype.flagReset.call(this),this},clone:function(e){var i=new a(0,0,this.radius,this.sides);return i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,this.matrix.manual&&i.matrix.copy(this.matrix),n.each(t.Path.Properties,function(t){i[t]=this[t]},this),e&&e.add(i),i},toObject:function(){var t=e.prototype.toObject.call(this);return n.each(a.Properties,function(e){t[e]=this[e]},this),t}}),a.MakeObservable(a.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=(Math.PI,2*Math.PI),r=Math.PI/2,s=(Math.cos,Math.sin,Math.abs,t.Utils),n=t.Utils.mod,a=t.ArcSegment=function(i,r,n,a,o,l,h){var c=h||3*t.Resolution,d=s.map(s.range(c),function(){return new t.Anchor});e.call(this,d,!0,!1,!0),this.innerRadius=n,this.outerRadius=a,this.startAngle=o,this.endAngle=l,this._update(),s.isNumber(i)&&(this.translation.x=i),s.isNumber(r)&&(this.translation.y=r)};s.extend(a,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(i){e.MakeObservable(i),s.each(a.Properties,t.Utils.defineProperty,i)}}),s.extend(a.prototype,e.prototype,{_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:i,_innerRadius:0,_outerRadius:0,constructor:a,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var s,a=this._startAngle,o=this._endAngle,l=this._innerRadius,h=this._outerRadius,c=n(a,i)===n(o,i),d=l>0,f=this.vertices,u=d?f.length/2:f.length,_=0;c?u--:d||(u-=2);for(var g=0,p=u-1;g<u;g++){var m=g/p,v=f[_],y=m*(o-a)+a,x=(o-a)/u,b=h*Math.cos(y),w=h*Math.sin(y);switch(g){case 0:s=t.Commands.move;break;default:s=t.Commands.curve}if(v.command=s,v.x=b,v.y=w,v.controls.left.clear(),v.controls.right.clear(),v.command===t.Commands.curve){var k=h*x/Math.PI;v.controls.left.x=k*Math.cos(y-r),v.controls.left.y=k*Math.sin(y-r),v.controls.right.x=k*Math.cos(y+r),v.controls.right.y=k*Math.sin(y+r),1===g&&v.controls.left.multiplyScalar(2),g===p&&v.controls.right.multiplyScalar(2)}_++}if(d){for(c?(f[_].command=t.Commands.close,_++):p=--u-1,g=0;g<u;g++)m=g/p,v=f[_],y=(1-m)*(o-a)+a,x=(o-a)/u,b=l*Math.cos(y),w=l*Math.sin(y),s=t.Commands.curve,g<=0&&(s=c?t.Commands.move:t.Commands.line),v.command=s,v.x=b,v.y=w,v.controls.left.clear(),v.controls.right.clear(),v.command===t.Commands.curve&&(k=l*x/Math.PI,v.controls.left.x=k*Math.cos(y+r),v.controls.left.y=k*Math.sin(y+r),v.controls.right.x=k*Math.cos(y-r),v.controls.right.y=k*Math.sin(y-r),1===g&&v.controls.left.multiplyScalar(2),g===p&&v.controls.right.multiplyScalar(2)),_++;f[_].copy(f[0]),f[_].command=t.Commands.line}else c||(f[_].command=t.Commands.line,f[_].x=0,f[_].y=0,f[++_].copy(f[0]),f[_].command=t.Commands.line)}return e.prototype._update.call(this),this},flagReset:function(){return e.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this},clone:function(e){var i=this.innerRadius,r=this.outerradius,n=this.startAngle,o=this.endAngle,l=this.vertices.length,h=new a(0,0,i,r,n,o,l);return h.translation.copy(this.translation),h.rotation=this.rotation,h.scale=this.scale,this.matrix.manual&&h.matrix.copy(this.matrix),s.each(t.Path.Properties,function(t){h[t]=this[t]},this),e&&e.add(h),h},toObject:function(){var t=e.prototype.toObject.call(this);return s.each(a.Properties,function(e){t[e]=this[e]},this),t}}),a.MakeObservable(a.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=2*Math.PI,r=Math.cos,s=Math.sin,n=t.Utils,a=t.Star=function(t,i,r,s,a){arguments.length<=3&&(r=(s=r)/2),(!n.isNumber(a)||a<=0)&&(a=5);e.call(this),this.closed=!0,this.automatic=!1,this.innerRadius=r,this.outerRadius=s,this.sides=a,this._update(),this.translation.set(t,i)};n.extend(a,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(i){e.MakeObservable(i),n.each(a.Properties,t.Utils.defineProperty,i)}}),n.extend(a.prototype,e.prototype,{_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_innerRadius:0,_outerRadius:0,_sides:0,constructor:a,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var n=2*this._sides,a=n+1,o=this.vertices.length;o>n&&(this.vertices.splice(n-1,o-n),o=n);for(var l=0;l<a;l++){var h=i*((l+.5)/n),c=(l%2?this._outerRadius:this._innerRadius)/2,d=c*r(h),f=c*s(h);l>=o?this.vertices.push(new t.Anchor(d,f)):this.vertices[l].set(d,f),this.vertices[l].command=0===l?t.Commands.move:t.Commands.line}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,e.prototype.flagReset.call(this),this},clone:function(e){var i=this.innerRadius,r=this.outerRadius,s=this.sides,o=new a(0,0,i,r,s);return o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,this.matrix.manual&&o.matrix.copy(this.matrix),n.each(t.Path.Properties,function(t){o[t]=this[t]},this),e&&e.add(o),o},toObject:function(){var t=e.prototype.toObject.call(this);return n.each(a.Properties,function(e){t[e]=this[e]},this),t}}),a.MakeObservable(a.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Path,i=t.Utils,r=t.RoundedRectangle=function(s,n,a,o,l){i.isUndefined(l)&&(l=Math.floor(Math.min(a,o)/12));var h=i.map(i.range(10),function(e){return new t.Anchor(0,0,0,0,0,0,0===e?t.Commands.move:t.Commands.curve)});e.call(this,h),this.closed=!0,this.automatic=!1,this._renderer.flagRadius=i.bind(r.FlagRadius,this),this.width=a,this.height=o,this.radius=l,this._update(),this.translation.set(s,n)};i.extend(r,{Properties:["width","height"],FlagRadius:function(){this._flagRadius=!0},MakeObservable:function(s){e.MakeObservable(s),i.each(r.Properties,t.Utils.defineProperty,s),Object.defineProperty(s,"radius",{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof t.Vector&&this._radius.unbind(t.Events.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof t.Vector&&this._radius.bind(t.Events.change,this._renderer.flagRadius),this._flagRadius=!0}})}}),i.extend(r.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_width:0,_height:0,_radius:0,constructor:r,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var i,r,s,n=this._width,a=this._height;this._radius instanceof t.Vector?(i=this._radius.x,r=this._radius.y):(i=this._radius,r=this._radius);var o=n/2,l=a/2;(s=this.vertices[0]).x=-(o-i),s.y=-l,(s=this.vertices[1]).x=o-i,s.y=-l,s.controls.left.clear(),s.controls.right.x=i,s.controls.right.y=0,(s=this.vertices[2]).x=o,s.y=-(l-r),s.controls.right.clear(),s.controls.left.clear(),(s=this.vertices[3]).x=o,s.y=l-r,s.controls.left.clear(),s.controls.right.x=0,s.controls.right.y=r,(s=this.vertices[4]).x=o-i,s.y=l,s.controls.right.clear(),s.controls.left.clear(),(s=this.vertices[5]).x=-(o-i),s.y=l,s.controls.left.clear(),s.controls.right.x=-i,s.controls.right.y=0,(s=this.vertices[6]).x=-o,s.y=l-r,s.controls.left.clear(),s.controls.right.clear(),(s=this.vertices[7]).x=-o,s.y=-(l-r),s.controls.left.clear(),s.controls.right.x=0,s.controls.right.y=-r,(s=this.vertices[8]).x=-(o-i),s.y=-l,s.controls.left.clear(),s.controls.right.clear(),(s=this.vertices[9]).copy(this.vertices[8])}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,e.prototype.flagReset.call(this),this},clone:function(e){var s=this.width,n=this.height,a=this.radius,o=new r(0,0,s,n,a);return o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,this.matrix.manual&&o.matrix.copy(this.matrix),i.each(t.Path.Properties,function(t){o[t]=this[t]},this),e&&e.add(o),o},toObject:function(){var t=e.prototype.toObject.call(this);return i.each(r.Properties,function(e){t[e]=this[e]},this),t.radius=i.isNumber(this.radius)?this.radius:this.radius.toObject(),t}}),r.MakeObservable(r.prototype)}((void 0!==e?e:self||window).Two),function(t){t.root;var e=t.Utils.getComputedMatrix,i=t.Utils,r=t.Text=function(e,r,s,n){if(t.Shape.call(this),this._renderer.type="text",this._renderer.flagFill=i.bind(t.Text.FlagFill,this),this._renderer.flagStroke=i.bind(t.Text.FlagStroke,this),this.value=e,i.isNumber(r)&&(this.translation.x=r),i.isNumber(s)&&(this.translation.y=s),this.dashes=[],this.dashes.offset=0,!i.isObject(n))return this;i.each(t.Text.Properties,function(t){t in n&&(this[t]=n[t])},this)};i.extend(t.Text,{Ratio:.6,Properties:["value","family","size","leading","alignment","linewidth","style","className","weight","decoration","baseline","opacity","visible","fill","stroke"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),i.each(t.Text.Properties.slice(0,13),t.Utils.defineProperty,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(e,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){i.isNumber(t.offset)||(t.offset=this._dashes.offset||0),this._dashes=t}})}}),i.extend(t.Text.prototype,t.Shape.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagClassName:!0,_flagVisible:!0,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_className:"",_visible:!0,_clip:!1,_dashes:[],constructor:t.Text,remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(e){var r=new t.Text(this.value);return r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,i.each(t.Text.Properties,function(t){r[t]=this[t]},this),this.matrix.manual&&r.matrix.copy(this.matrix),e&&e.add(r),r._update()},toObject:function(){var e={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),i.each(t.Text.Properties,function(t){e[t]=this[t]},this),e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this.linewidth=void 0,this},getBoundingClientRect:function(t){var i,s,n,a,o,l;this._update(!0),i=t?this._matrix:e(this);var h=this.leading,c=this.value.length*this.size*r.Ratio;switch(this.alignment){case"left":n=0,a=c;break;case"right":n=-c,a=0;break;default:n=-c/2,a=c/2}switch(this.baseline){case"top":o=0,l=h;break;case"bottom":o=-h,l=0;break;default:o=-h/2,l=h/2}return{top:o=(s=i.multiply(n,o,1)).y,left:n=s.x,right:a=(s=i.multiply(a,l,1)).x,bottom:l=s.y,width:a-n,height:l-o}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=!1,t.Shape.prototype.flagReset.call(this),this}}),t.Text.MakeObservable(t.Text.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.Stop=function(t,r,s){this._renderer={},this._renderer.type="stop",this.offset=e.isNumber(t)?t:i.Index<=0?0:1,this.opacity=e.isNumber(s)?s:1,this.color=e.isString(r)?r:i.Index<=0?"#fff":"#000",i.Index=(i.Index+1)%2};e.extend(i,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(t){e.each(i.Properties,function(t){var e="_"+t,i="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[i]=!0,this.parent&&(this.parent._flagStops=!0)}})},t)}}),e.extend(i.prototype,t.Utils.Events,{constructor:i,clone:function(){var t=new i;return e.each(i.Properties,function(e){t[e]=this[e]},this),t},toObject:function(){var t={};return e.each(i.Properties,function(e){t[e]=this[e]},this),t},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),i.MakeObservable(i.prototype),i.prototype.constructor=i;var r=t.Gradient=function(i){this._renderer={},this._renderer.type="gradient",this.id=t.Identifier+t.uniqueId(),this.classList=[],this._renderer.flagStops=e.bind(r.FlagStops,this),this._renderer.bindStops=e.bind(r.BindStops,this),this._renderer.unbindStops=e.bind(r.UnbindStops,this),this.spread="pad",this.stops=i};e.extend(r,{Stop:i,Properties:["spread"],MakeObservable:function(i){e.each(r.Properties,t.Utils.defineProperty,i),Object.defineProperty(i,"stops",{enumerable:!0,get:function(){return this._stops},set:function(e){this._renderer.flagStops;var i=this._renderer.bindStops,r=this._renderer.unbindStops;this._stops&&this._stops.unbind(t.Events.insert,i).unbind(t.Events.remove,r),this._stops=new t.Utils.Collection((e||[]).slice(0)),this._stops.bind(t.Events.insert,i).bind(t.Events.remove,r),i(this._stops)}})},FlagStops:function(){this._flagStops=!0},BindStops:function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,this._renderer.flagStops),e[i].parent=this;this._renderer.flagStops()},UnbindStops:function(e){for(var i=e.length;i--;)e[i].unbind(t.Events.change,this._renderer.flagStops),delete e[i].parent;this._renderer.flagStops()}}),e.extend(r.prototype,t.Utils.Events,{_flagStops:!1,_flagSpread:!1,clone:function(i){var s=e.map(this.stops,function(t){return t.clone()}),n=new r(s);return e.each(t.Gradient.Properties,function(t){n[t]=this[t]},this),i&&i.add(n),n},toObject:function(){var t={stops:e.map(this.stops,function(t){return t.toObject()})};return e.each(r.Properties,function(e){t[e]=this[e]},this),t},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagSpread=this._flagStops=!1,this}}),r.MakeObservable(r.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.LinearGradient=function(r,s,n,a,o){t.Gradient.call(this,o),this._renderer.type="linear-gradient";var l=e.bind(i.FlagEndPoints,this);this.left=(new t.Vector).bind(t.Events.change,l),this.right=(new t.Vector).bind(t.Events.change,l),e.isNumber(r)&&(this.left.x=r),e.isNumber(s)&&(this.left.y=s),e.isNumber(n)&&(this.right.x=n),e.isNumber(a)&&(this.right.y=a)};e.extend(i,{Stop:t.Gradient.Stop,MakeObservable:function(e){t.Gradient.MakeObservable(e)},FlagEndPoints:function(){this._flagEndPoints=!0}}),e.extend(i.prototype,t.Gradient.prototype,{_flagEndPoints:!1,constructor:i,clone:function(r){var s=e.map(this.stops,function(t){return t.clone()}),n=new i(this.left._x,this.left._y,this.right._x,this.right._y,s);return e.each(t.Gradient.Properties,function(t){n[t]=this[t]},this),r&&r.add(n),n},toObject:function(){var e=t.Gradient.prototype.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagEndPoints=!1,t.Gradient.prototype.flagReset.call(this),this}}),i.MakeObservable(i.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.RadialGradient=function(i,r,s,n,a,o){t.Gradient.call(this,n),this._renderer.type="radial-gradient",this.center=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagCenter=!0},this)),this.radius=e.isNumber(s)?s:20,this.focal=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagFocal=!0},this)),e.isNumber(i)&&(this.center.x=i),e.isNumber(r)&&(this.center.y=r),this.focal.copy(this.center),e.isNumber(a)&&(this.focal.x=a),e.isNumber(o)&&(this.focal.y=o)};e.extend(i,{Stop:t.Gradient.Stop,Properties:["radius"],MakeObservable:function(r){t.Gradient.MakeObservable(r),e.each(i.Properties,t.Utils.defineProperty,r)}}),e.extend(i.prototype,t.Gradient.prototype,{_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,constructor:i,clone:function(r){var s=e.map(this.stops,function(t){return t.clone()}),n=new i(this.center._x,this.center._y,this._radius,s,this.focal._x,this.focal._y);return e.each(t.Gradient.Properties.concat(i.Properties),function(t){n[t]=this[t]},this),r&&r.add(n),n},toObject:function(){var r=t.Gradient.prototype.toObject.call(this);return e.each(i.Properties,function(t){r[t]=this[t]},this),r.center=this.center.toObject(),r.focal=this.focal.toObject(),r},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,t.Gradient.prototype.flagReset.call(this),this}}),i.MakeObservable(i.prototype)}((void 0!==e?e:self||window).Two),function(t){var e,i=t.root,r=t.Utils,s={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};i.document&&(e=document.createElement("a"));var n=t.Texture=function(e,i){if(this._renderer={},this._renderer.type="texture",this._renderer.flagOffset=r.bind(n.FlagOffset,this),this._renderer.flagScale=r.bind(n.FlagScale,this),this.id=t.Identifier+t.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new t.Vector,r.isFunction(i)){var s=r.bind(function(){this.unbind(t.Events.load,s),r.isFunction(i)&&i()},this);this.bind(t.Events.load,s)}r.isString(e)?this.src=e:r.isElement(e)&&(this.image=e),this._update()};r.extend(n,{Properties:["src","loaded","repeat"],RegularExpressions:s,ImageRegistry:new t.Registry,getAbsoluteURL:function(t){return e?(e.href=t,e.href):t},loadHeadlessBuffer:new Function("texture","loaded",['var fs = require("fs");',"var buffer = fs.readFileSync(texture.src);","texture.image.src = buffer;","loaded();"].join("\n")),getImage:function(e){var r,a=n.getAbsoluteURL(e);return n.ImageRegistry.contains(a)?n.ImageRegistry.get(a):(t.Utils.Image?(r=new t.Utils.Image,t.CanvasRenderer.Utils.shim(r,"img")):i.document?r=s.video.test(a)?document.createElement("video"):document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),r.crossOrigin="anonymous",r)},Register:{canvas:function(t,e){t._src="#"+t.id,n.ImageRegistry.add(t.src,t.image),r.isFunction(e)&&e()},img:function(e,i){var s=function(t){r.isFunction(e.image.removeEventListener)&&(e.image.removeEventListener("load",s,!1),e.image.removeEventListener("error",a,!1)),r.isFunction(i)&&i()},a=function(i){throw r.isFunction(e.image.removeEventListener)&&(e.image.removeEventListener("load",s,!1),e.image.removeEventListener("error",a,!1)),new t.Utils.Error("unable to load "+e.src)};r.isNumber(e.image.width)&&e.image.width>0&&r.isNumber(e.image.height)&&e.image.height>0?s():r.isFunction(e.image.addEventListener)&&(e.image.addEventListener("load",s,!1),e.image.addEventListener("error",a,!1)),e._src=n.getAbsoluteURL(e._src),e.image&&e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),n.ImageRegistry.add(e.src,e.image),t.Utils.isHeadless?n.loadHeadlessBuffer(e,s):e.image.src=e.src)},video:function(e,i){var s=function(t){e.image.removeEventListener("canplaythrough",s,!1),e.image.removeEventListener("error",a,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,e.image.play(),r.isFunction(i)&&i()},a=function(i){throw e.image.removeEventListener("canplaythrough",s,!1),e.image.removeEventListener("error",a,!1),new t.Utils.Error("unable to load "+e.src)};if(e._src=n.getAbsoluteURL(e._src),e.image.addEventListener("canplaythrough",s,!1),e.image.addEventListener("error",a,!1),!e.image||!e.image.getAttribute("two-src")){if(t.Utils.isHeadless)throw new t.Utils.Error("video textures are not implemented in headless environments.");e.image.setAttribute("two-src",e.src),n.ImageRegistry.add(e.src,e.image),e.image.src=e.src,e.image.loop=!0,e.image.load()}}},load:function(t,e){t.src;var i=t.image,r=i&&i.nodeName.toLowerCase();t._flagImage&&(/canvas/i.test(r)?n.Register.canvas(t,e):(t._src=i.getAttribute("two-src")||i.src,n.Register[r](t,e))),t._flagSrc&&(i||(t.image=n.getImage(t.src)),r=t.image.nodeName.toLowerCase(),n.Register[r](t,e))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(e){r.each(n.Properties,t.Utils.defineProperty,e),Object.defineProperty(e,"image",{enumerable:!0,get:function(){return this._image},set:function(t){var e;switch(t&&t.nodeName.toLowerCase()){case"canvas":e="#"+t.id;break;default:e=t.src}n.ImageRegistry.contains(e)?this._image=n.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(t.Events.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(t.Events.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(e,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagScale),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagScale),this._flagScale=!0}})}}),r.extend(n.prototype,t.Utils.Events,t.Shape.prototype,{_flagSrc:!1,_flagImage:!1,_flagVideo:!1,_flagLoaded:!1,_flagRepeat:!1,_flagOffset:!1,_flagScale:!1,_src:"",_image:null,_loaded:!1,_repeat:"no-repeat",_scale:1,_offset:null,constructor:n,clone:function(){var t=new n(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t},toObject:function(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:r.isNumber(this.scale)?this.scale:this.scale.toObject()}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(t.Events.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,n.load(this,r.bind(function(){this.loaded=!0,this.trigger(t.Events.change).trigger(t.Events.load)},this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagVideo=this._flagScale=this._flagOffset=!1,this}}),n.MakeObservable(n.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.Path,r=t.Rectangle,s=t.Sprite=function(r,s,n,a,o,l){i.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this.noStroke(),this.noFill(),r instanceof t.Texture?this.texture=r:e.isString(r)&&(this.texture=new t.Texture(r)),this.origin=new t.Vector,this._update(),this.translation.set(s||0,n||0),e.isNumber(a)&&(this.columns=a),e.isNumber(o)&&(this.rows=o),e.isNumber(l)&&(this.frameRate=l),this.index=0};e.extend(s,{Properties:["texture","columns","rows","frameRate","index"],MakeObservable:function(i){r.MakeObservable(i),e.each(s.Properties,t.Utils.defineProperty,i)}}),e.extend(s.prototype,r.prototype,{_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,flagIndex:!1,_amount:1,_duration:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,_index:0,_origin:null,constructor:s,play:function(t,i,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(i)&&(this._lastFrame=i),e.isFunction(r)?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){var e=new s(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e},toObject:function(){var t=r.prototype.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var t,i,s,n,a,o,l,h,c,d=this._texture,f=this._columns,u=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){t=(l=d.image.width)/f,i=(h=d.image.height)/u,n=this._amount,this.width!==t&&(this.width=t),this.height!==i&&(this.height=i),this._playing&&this._frameRate>0&&(e.isNaN(this._lastFrame)&&(this._lastFrame=n-1),s=e.performance.now()-this._startTime,a=1e3*((c=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?s%=a:s=Math.min(s,a),o=e.lerp(this._firstFrame,c,s/a),(o=Math.floor(o))!==this._index&&(this._index=o,o>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var _=-t*(this._index%f)+(l-t)/2,g=-i*Math.floor(this._index/f)+(h-i)/2;_!==d.offset.x&&(d.offset.x=_),g!==d.offset.y&&(d.offset.y=g)}return r.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,r.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=t.Utils,i=t.Path,r=t.Rectangle,s=t.ImageSequence=function(r,n,a,o){i.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this._renderer.flagTextures=e.bind(s.FlagTextures,this),this._renderer.bindTextures=e.bind(s.BindTextures,this),this._renderer.unbindTextures=e.bind(s.UnbindTextures,this),this.noStroke(),this.noFill(),e.isObject(r)?this.textures=e.map(r,s.GenerateTexture,this):this.textures=[s.GenerateTexture(r)],this.origin=new t.Vector,this._update(),this.translation.set(n||0,a||0),e.isNumber(o)?this.frameRate=o:this.frameRate=s.DefaultFrameRate,this.index=0};e.extend(s,{Properties:["frameRate","index"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(e){for(var i=e.length;i--;)e[i].unbind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(i){r.MakeObservable(i),e.each(s.Properties,t.Utils.defineProperty,i),Object.defineProperty(i,"textures",{enumerable:!0,get:function(){return this._textures},set:function(e){this._renderer.flagTextures;var i=this._renderer.bindTextures,r=this._renderer.unbindTextures;this._textures&&this._textures.unbind(t.Events.insert,i).unbind(t.Events.remove,r),this._textures=new t.Utils.Collection((e||[]).slice(0)),this._textures.bind(t.Events.insert,i).bind(t.Events.remove,r),i(this._textures)}})},GenerateTexture:function(i){return i instanceof t.Texture?i:e.isString(i)?new t.Texture(i):void 0}}),e.extend(s.prototype,r.prototype,{_flagTextures:!1,_flagFrameRate:!1,_flagIndex:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,_origin:null,constructor:s,play:function(t,i,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(i)&&(this._lastFrame=i),e.isFunction(r)?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=this._firstFrame,this},clone:function(t){var e=new s(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e},toObject:function(){var t=r.prototype.toObject.call(this);return t.textures=e.map(this.textures,function(t){return t.toObject()}),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var i,s,n,a,o,l,h,c,d=this._textures;return this._flagTextures&&(this._amount=d.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(a=this._amount,e.isNaN(this._lastFrame)&&(this._lastFrame=a-1),n=e.performance.now()-this._startTime,o=1e3*((c=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?n%=o:n=Math.min(n,o),h=e.lerp(this._firstFrame,c,n/o),(h=Math.floor(h))!==this._index&&(this._index=h,(l=d[this._index]).loaded&&(i=l.image.width,s=l.image.height,this.width!==i&&(this.width=i),this.height!==s&&(this.height=s),this.fill=l,h>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):!this._flagIndex&&this.fill instanceof t.Texture||((l=d[this._index]).loaded&&(i=l.image.width,s=l.image.height,this.width!==i&&(this.width=i),this.height!==s&&(this.height=s)),this.fill=l),r.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,r.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}((void 0!==e?e:self||window).Two),function(t){var e=Math.min,i=Math.max,r=t.Utils,s=function(){t.Utils.Collection.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.on(t.Events.insert,this.attach),this.on(t.Events.remove,this.detach),s.prototype.attach.apply(this,arguments)};s.prototype=new t.Utils.Collection,r.extend(s.prototype,{constructor:s,attach:function(t){for(var e=0;e<t.length;e++)this.ids[t[e].id]=t[e];return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var n=t.Group=function(e){t.Shape.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=r.isArray(e)?e:arguments};function a(t,e){var i,s=t.parent;function n(){e.subtractions.length>0&&(i=r.indexOf(e.subtractions,t))>=0&&e.subtractions.splice(i,1),e.additions.length>0&&(i=r.indexOf(e.additions,t))>=0&&e.additions.splice(i,1),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function a(){(i=r.indexOf(s.additions,t))>=0&&s.additions.splice(i,1),(i=r.indexOf(s.subtractions,t))<0&&(s.subtractions.push(t),s._flagSubtractions=!0)}s!==e?(s&&s.children.ids[t.id]&&(i=r.indexOf(s.children,t),s.children.splice(i,1),a()),e?n():(a(),s._flagAdditions&&0===s.additions.length&&(s._flagAdditions=!1),s._flagSubtractions&&0===s.subtractions.length&&(s._flagSubtractions=!1),delete t.parent)):n()}r.extend(n,{Children:s,InsertChildren:function(t){for(var e=0;e<t.length;e++)a.call(this,t[e],this)},RemoveChildren:function(t){for(var e=0;e<t.length;e++)a.call(this,t[e])},OrderChildren:function(t){this._flagOrder=!0},Properties:["fill","stroke","linewidth","visible","cap","join","miter","closed","curved","automatic"],MakeObservable:function(e){var i=t.Group.Properties;Object.defineProperty(e,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t,this._opacity=t}}),Object.defineProperty(e,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t,this._beginning=t}}),Object.defineProperty(e,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t,this._ending=t}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(var t=0;t<this.children.length;t++){var e=this.children[t];this._length+=e.length}}return this._length}}),t.Shape.MakeObservable(e),n.MakeGetterSetters(e,i),Object.defineProperty(e,"children",{enumerable:!0,get:function(){return this._children},set:function(e){var i=r.bind(n.InsertChildren,this),a=r.bind(n.RemoveChildren,this),o=r.bind(n.OrderChildren,this);this._children&&this._children.unbind(),this._children=new s(e),this._children.bind(t.Events.insert,i),this._children.bind(t.Events.remove,a),this._children.bind(t.Events.order,o)}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}})},MakeGetterSetters:function(t,e){r.isArray(e)||(e=[e]),r.each(e,function(e){n.MakeGetterSetter(t,e)})},MakeGetterSetter:function(t,e){var i="_"+e;Object.defineProperty(t,e,{enumerable:!0,get:function(){return this[i]},set:function(t){this[i]=t;for(var r=0;r<this.children.length;r++){this.children[r][e]=t}}})}}),r.extend(n.prototype,t.Shape.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagBeginning:!1,_flagEnding:!1,_flagLength:!1,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_length:0,_mask:null,constructor:n,clone:function(t){var e=new n,i=r.map(this.children,function(t){return t.clone()});return e.add(i),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var e={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof t.Vector?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),r.each(this.children,function(t,i){e.children[i]=t.toObject()},this),e},corner:function(){var t=this.getBoundingClientRect(!0),e={x:t.left,y:t.top};return this.children.forEach(function(t){t.translation.sub(e)}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2-this.translation.x,y:t.top+t.height/2-this.translation.y},this.children.forEach(function(e){e.isShape&&e.translation.sub(t.centroid)}),this},getById:function(t){var e=null;return function i(r){if(r.id===t)return r;if(r.children)for(var s=0;s<r.children.length;s++)if(e=i(r.children[s]))return e;return null}(this)},getByClassName:function(t){var e=[];return function i(s){if(r.indexOf(s.classList,t)>=0&&e.push(s),s.children)for(var n=0;n<s.children.length;n++)i(s.children[n]);return e}(this)},getByType:function(t){var e=[];return function i(r){if(r instanceof t&&e.push(r),r.children)for(var s=0;s<r.children.length;s++)i(r.children[s]);return e}(this)},add:function(t){t=t instanceof Array?t.slice():r.toArray(arguments);for(var e=0;e<t.length;e++){var i=t[e];if(i&&i.id){var s=r.indexOf(this.children,i);s>=0&&this.children.splice(s,1),this.children.push(i)}}return this},remove:function(t){var e=arguments.length,i=this.parent;if(e<=0&&i)return i.remove(this),this;t=t instanceof Array?t.slice():r.toArray(arguments);for(var s=0;s<t.length;s++)t[s]&&this.children.ids[t[s].id]&&this.children.splice(r.indexOf(this.children,t[s]),1);return this},getBoundingClientRect:function(s){var n;this._update(!0);for(var a=1/0,o=-1/0,l=1/0,h=-1/0,c=t.Texture.RegularExpressions.effect,d=0;d<this.children.length;d++){var f=this.children[d];f.visible&&!c.test(f._renderer.type)&&(n=f.getBoundingClientRect(s),r.isNumber(n.top)&&r.isNumber(n.left)&&r.isNumber(n.right)&&r.isNumber(n.bottom)&&(l=e(n.top,l),a=e(n.left,a),o=i(n.right,o),h=i(n.bottom,h)))}return{top:l,left:a,right:o,bottom:h,width:o-a,height:h-l}},noFill:function(){return this.children.forEach(function(t){t.noFill()}),this},noStroke:function(){return this.children.forEach(function(t){t.noStroke()}),this},subdivide:function(){var t=arguments;return this.children.forEach(function(e){e.subdivide.apply(e,t)}),this},_update:function(){if(this._flagBeginning||this._flagEnding)for(var e=Math.min(this._beginning,this._ending),i=Math.max(this._beginning,this._ending),r=this.length,s=0,n=e*r,a=i*r,o=0;o<this.children.length;o++){var l=this.children[o],h=l.length;n>s+h?(l.beginning=1,l.ending=1):a<s?(l.beginning=0,l.ending=0):n>s&&n<s+h?(l.beginning=(n-s)/h,l.ending=1):a>s&&a<s+h?(l.beginning=0,l.ending=(a-s)/h):(l.beginning=0,l.ending=1),s+=h}return t.Shape.prototype._update.apply(this,arguments)},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,t.Shape.prototype.flagReset.call(this),this}}),n.MakeObservable(n.prototype)}((void 0!==e?e:self||window).Two);var i=window.Two;exports.default=i;
},{}],"YOwE":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"pyFg":[function(require,module,exports) {
"use strict";var e=require("object-assign"),r="function"==typeof Symbol&&Symbol.for,t=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,f=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,i=r?Symbol.for("react.forward_ref"):60112,s=r?Symbol.for("react.suspense"):60113,a=r?Symbol.for("react.memo"):60115,p=r?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function m(e,r,t){this.props=e,this.context=r,this.refs=h,this.updater=t||v}function x(){}function b(e,r,t){this.props=e,this.context=r,this.refs=h,this.updater=t||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,r,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=m.prototype;var S=b.prototype=new x;S.constructor=b,e(S,m.prototype),S.isPureReactComponent=!0;var _={current:null},k=Object.prototype.hasOwnProperty,$={key:!0,ref:!0,__self:!0,__source:!0};function g(e,r,n){var o,u={},f=null,c=null;if(null!=r)for(o in void 0!==r.ref&&(c=r.ref),void 0!==r.key&&(f=""+r.key),r)k.call(r,o)&&!$.hasOwnProperty(o)&&(u[o]=r[o]);var l=arguments.length-2;if(1===l)u.children=n;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];u.children=i}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===u[o]&&(u[o]=l[o]);return{$$typeof:t,type:e,key:f,ref:c,props:u,_owner:_.current}}function w(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function E(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}var R=/\/+/g,P=[];function j(e,r,t,n){if(P.length){var o=P.pop();return o.result=e,o.keyPrefix=r,o.func=t,o.context=n,o.count=0,o}return{result:e,keyPrefix:r,func:t,context:n,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function A(e,r,o,u){var f=typeof e;"undefined"!==f&&"boolean"!==f||(e=null);var c=!1;if(null===e)c=!0;else switch(f){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case t:case n:c=!0}}if(c)return o(u,e,""===r?"."+U(e,0):r),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var i=r+U(f=e[l],l);c+=A(f,i,o,u)}else if(null===e||"object"!=typeof e?i=null:i="function"==typeof(i=y&&e[y]||e["@@iterator"])?i:null,"function"==typeof i)for(e=i.call(e),l=0;!(f=e.next()).done;)c+=A(f=f.value,i=r+U(f,l++),o,u);else if("object"===f)throw o=""+e,Error(d(31,"[object Object]"===o?"object with keys {"+Object.keys(e).join(", ")+"}":o,""));return c}function I(e,r,t){return null==e?0:A(e,"",r,t)}function U(e,r){return"object"==typeof e&&null!==e&&null!=e.key?E(e.key):r.toString(36)}function q(e,r){e.func.call(e.context,r,e.count++)}function F(e,r,t){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,r,e.count++),Array.isArray(e)?L(e,n,t,function(e){return e}):null!=e&&(C(e)&&(e=w(e,o+(!e.key||r&&r.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+t)),n.push(e))}function L(e,r,t,n,o){var u="";null!=t&&(u=(""+t).replace(R,"$&/")+"/"),I(e,F,r=j(r,u,n,o)),O(r)}var M={current:null};function D(){var e=M.current;if(null===e)throw Error(d(321));return e}var V={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:e};exports.Children={map:function(e,r,t){if(null==e)return e;var n=[];return L(e,n,null,r,t),n},forEach:function(e,r,t){if(null==e)return e;I(e,q,r=j(null,null,r,t)),O(r)},count:function(e){return I(e,function(){return null},null)},toArray:function(e){var r=[];return L(e,r,null,function(e){return e}),r},only:function(e){if(!C(e))throw Error(d(143));return e}},exports.Component=m,exports.Fragment=o,exports.Profiler=f,exports.PureComponent=b,exports.StrictMode=u,exports.Suspense=s,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,exports.cloneElement=function(r,n,o){if(null==r)throw Error(d(267,r));var u=e({},r.props),f=r.key,c=r.ref,l=r._owner;if(null!=n){if(void 0!==n.ref&&(c=n.ref,l=_.current),void 0!==n.key&&(f=""+n.key),r.type&&r.type.defaultProps)var i=r.type.defaultProps;for(s in n)k.call(n,s)&&!$.hasOwnProperty(s)&&(u[s]=void 0===n[s]&&void 0!==i?i[s]:n[s])}var s=arguments.length-2;if(1===s)u.children=o;else if(1<s){i=Array(s);for(var a=0;a<s;a++)i[a]=arguments[a+2];u.children=i}return{$$typeof:t,type:r.type,key:f,ref:c,props:u,_owner:l}},exports.createContext=function(e,r){return void 0===r&&(r=null),(e={$$typeof:l,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},exports.createElement=g,exports.createFactory=function(e){var r=g.bind(null,e);return r.type=e,r},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:i,render:e}},exports.isValidElement=C,exports.lazy=function(e){return{$$typeof:p,_ctor:e,_status:-1,_result:null}},exports.memo=function(e,r){return{$$typeof:a,type:e,compare:void 0===r?null:r}},exports.useCallback=function(e,r){return D().useCallback(e,r)},exports.useContext=function(e,r){return D().useContext(e,r)},exports.useDebugValue=function(){},exports.useEffect=function(e,r){return D().useEffect(e,r)},exports.useImperativeHandle=function(e,r,t){return D().useImperativeHandle(e,r,t)},exports.useLayoutEffect=function(e,r){return D().useLayoutEffect(e,r)},exports.useMemo=function(e,r){return D().useMemo(e,r)},exports.useReducer=function(e,r,t){return D().useReducer(e,r,t)},exports.useRef=function(e){return D().useRef(e)},exports.useState=function(e){return D().useState(e)},exports.version="16.13.1";
},{"object-assign":"YOwE"}],"HdMw":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react.production.min.js");
},{"./cjs/react.production.min.js":"pyFg"}],"wi82":[function(require,module,exports) {
"use strict";var e=require("object-assign"),t=require("react");function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,d=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.scope"):60119;function g(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function x(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i:return"Fragment";case o:return"Portal";case l:return"Profiler";case a:return"StrictMode";case h:return"Suspense";case p:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case s:return"Context.Consumer";case u:return"Context.Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case d:return x(e.type);case y:return x(e.render);case m:if(e=1===e._status?e._result:null)return x(e)}return null}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;k.hasOwnProperty("ReactCurrentDispatcher")||(k.ReactCurrentDispatcher={current:null}),k.hasOwnProperty("ReactCurrentBatchConfig")||(k.ReactCurrentBatchConfig={suspense:null});var b={};function S(e,t){for(var r=0|e._threadCount;r<=t;r++)e[r]=e._currentValue2,e._threadCount=r+1}function E(e,t,r,n){if(n&&("object"==typeof(n=e.contextType)&&null!==n))return S(n,r),n[r];if(e=e.contextTypes){for(var o in r={},e)r[o]=t[o];t=r}else t=b;return t}for(var F=new Uint16Array(16),C=0;15>C;C++)F[C]=C+1;F[15]=0;var D=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_=Object.prototype.hasOwnProperty,I={},N={};function O(e){return!!_.call(N,e)||!_.call(I,e)&&(D.test(e)?N[e]=!0:(I[e]=!0,!1))}function M(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function P(e,t,r,n){if(null==t||M(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function z(e,t,r,n,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new z(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new z(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new z(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new z(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new z(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new z(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){R[e]=new z(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new z(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new z(e,5,!1,e.toLowerCase(),null,!1)});var L=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,T);R[t]=new z(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,T);R[t]=new z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,T);R[t]=new z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new z(e,1,!1,e.toLowerCase(),null,!1)}),R.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){R[e]=new z(e,1,!1,e.toLowerCase(),null,!0)});var V=/["'&<>]/;function A(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=V.exec(e);if(t){var r,n="",o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}function W(e,t){var r,n=R.hasOwnProperty(e)?R[e]:null;return(r="style"!==e)&&(r=null!==n?0===n.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),r||P(e,t,n,!1)?"":null!==n?(e=n.attributeName,3===(r=n.type)||4===r&&!0===t?e+'=""':(n.sanitizeURL&&(t=""+t),e+'="'+A(t)+'"')):O(e)?e+'="'+A(t)+'"':""}function j(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var U="function"==typeof Object.is?Object.is:j,H=null,$=null,q=null,B=!1,Z=!1,G=null,X=0;function Y(){if(null===H)throw Error(r(321));return H}function J(){if(0<X)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function K(){return null===q?null===$?(B=!1,$=q=J()):(B=!0,q=$):null===q.next?(B=!1,q=q.next=J()):(B=!0,q=q.next),q}function Q(e,t,r,n){for(;Z;)Z=!1,X+=1,q=null,r=e(t,n);return $=H=null,X=0,q=G=null,r}function ee(e,t){return"function"==typeof t?t(e):t}function te(e,t,r){if(H=Y(),q=K(),B){var n=q.queue;if(t=n.dispatch,null!==G&&void 0!==(r=G.get(n))){G.delete(n),n=q.memoizedState;do{n=e(n,r.action),r=r.next}while(null!==r);return q.memoizedState=n,[n,t]}return[q.memoizedState,t]}return e=e===ee?"function"==typeof t?t():t:void 0!==r?r(t):t,q.memoizedState=e,e=(e=q.queue={last:null,dispatch:null}).dispatch=re.bind(null,H,e),[q.memoizedState,e]}function re(e,t,n){if(!(25>X))throw Error(r(301));if(e===H)if(Z=!0,e={action:n,next:null},null===G&&(G=new Map),void 0===(n=G.get(t)))G.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ne(){}var oe=0,ie={readContext:function(e){var t=oe;return S(e,t),e[t]},useContext:function(e){Y();var t=oe;return S(e,t),e[t]},useMemo:function(e,t){if(H=Y(),t=void 0===t?null:t,null!==(q=K())){var r=q.memoizedState;if(null!==r&&null!==t){e:{var n=r[1];if(null===n)n=!1;else{for(var o=0;o<n.length&&o<t.length;o++)if(!U(t[o],n[o])){n=!1;break e}n=!0}}if(n)return r[0]}}return e=e(),q.memoizedState=[e,t],e},useReducer:te,useRef:function(e){H=Y();var t=(q=K()).memoizedState;return null===t?(e={current:e},q.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:ne,useEffect:ne,useDebugValue:ne,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return Y(),e},useTransition:function(){return Y(),[function(e){e()},!1]}},ae={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ue={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=e({menuitem:!0},ue),ce={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];Object.keys(ce).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ce[t]=ce[e]})});var he=/([A-Z])/g,pe=/^ms-/,de=t.Children.toArray,me=k.ReactCurrentDispatcher,ye={listing:!0,pre:!0,textarea:!0},ve=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,we={},ge={};function xe(e){if(null==e)return e;var r="";return t.Children.forEach(e,function(e){null!=e&&(r+=e)}),r}var ke=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Se(e,t){if(void 0===e)throw Error(r(152,x(t)||"Component"))}function Ee(n,o,i){function a(t,a){var l=a.prototype&&a.prototype.isReactComponent,u=E(a,o,i,l),s=[],c=!1,f={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===s)return null},enqueueReplaceState:function(e,t){c=!0,s=[t]},enqueueSetState:function(e,t){if(null===s)return null;s.push(t)}};if(l){if(l=new a(t.props,u,f),"function"==typeof a.getDerivedStateFromProps){var h=a.getDerivedStateFromProps.call(null,t.props,l.state);null!=h&&(l.state=e({},l.state,h))}}else if(H={},l=a(t.props,u,f),null==(l=Q(a,t.props,l,u))||null==l.render)return void Se(n=l,a);if(l.props=t.props,l.context=u,l.updater=f,void 0===(f=l.state)&&(l.state=f=null),"function"==typeof l.UNSAFE_componentWillMount||"function"==typeof l.componentWillMount)if("function"==typeof l.componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&l.UNSAFE_componentWillMount(),s.length){f=s;var p=c;if(s=null,c=!1,p&&1===f.length)l.state=f[0];else{h=p?f[0]:l.state;var d=!0;for(p=p?1:0;p<f.length;p++){var m=f[p];null!=(m="function"==typeof m?m.call(l,h,t.props,u):m)&&(d?(d=!1,h=e({},h,m)):e(h,m))}l.state=h}}else s=null;if(Se(n=l.render(),a),"function"==typeof l.getChildContext&&"object"==typeof(t=a.childContextTypes)){var y=l.getChildContext();for(var v in y)if(!(v in t))throw Error(r(108,x(a)||"Unknown",v))}y&&(o=e({},o,y))}for(;t.isValidElement(n);){var l=n,u=l.type;if("function"!=typeof u)break;a(l,u)}return{child:n,context:o}}var Fe=function(){function n(e,n){t.isValidElement(e)?e.type!==i?e=[e]:(e=e.props.children,e=t.isValidElement(e)?[e]:de(e)):e=de(e),e={type:null,domNamespace:ae.html,children:e,childIndex:0,context:b,footer:""};var o=F[0];if(0===o){var a=F,l=2*(o=a.length);if(!(65536>=l))throw Error(r(304));var u=new Uint16Array(l);for(u.set(a),(F=u)[0]=o+1,a=o;a<l-1;a++)F[a]=a+1;F[l-1]=0}else F[0]=F[o];this.threadID=o,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var y=n.prototype;return y.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;F[e]=F[0],F[0]=e}},y.pushProvider=function(e){var t=++this.contextIndex,r=e.type._context,n=this.threadID;S(r,n);var o=r[n];this.contextStack[t]=r,this.contextValueStack[t]=o,r[n]=e.props.value},y.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],r=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=r},y.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},y.read=function(e){if(this.exhausted)return null;var t=oe;oe=this.threadID;var n=me.current;me.current=ie;try{for(var o=[""],i=!1;o[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;F[a]=F[0],F[0]=a;break}var l=this.stack[this.stack.length-1];if(i||l.childIndex>=l.children.length){var s=l.footer;if(""!==s&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===l.type)this.currentSelectValue=null;else if(null!=l.type&&null!=l.type.type&&l.type.type.$$typeof===u)this.popProvider(l.type);else if(l.type===h){this.suspenseDepth--;var c=o.pop();if(i){i=!1;var f=l.fallbackFrame;if(!f)throw Error(r(303));this.stack.push(f),o[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}o[this.suspenseDepth]+=c}o[this.suspenseDepth]+=s}else{var p=l.children[l.childIndex++],d="";try{d+=this.render(p,l.context,l.domNamespace)}catch(m){if(null!=m&&"function"==typeof m.then)throw Error(r(294));throw m}o.length<=this.suspenseDepth&&o.push(""),o[this.suspenseDepth]+=d}}return o[0]}finally{me.current=n,oe=t}},y.render=function(n,y,x){if("string"==typeof n||"number"==typeof n)return""===(x=""+n)?"":this.makeStaticMarkup?A(x):this.previousWasTextNode?"\x3c!-- --\x3e"+A(x):(this.previousWasTextNode=!0,A(x));if(n=(y=Ee(n,y,this.threadID)).child,y=y.context,null===n||!1===n)return"";if(!t.isValidElement(n)){if(null!=n&&null!=n.$$typeof){if((x=n.$$typeof)===o)throw Error(r(257));throw Error(r(258,x.toString()))}return n=de(n),this.stack.push({type:null,domNamespace:x,children:n,childIndex:0,context:y,footer:""}),""}var k=n.type;if("string"==typeof k)return this.renderDOM(n,y,x);switch(k){case a:case c:case l:case p:case i:return n=de(n.props.children),this.stack.push({type:null,domNamespace:x,children:n,childIndex:0,context:y,footer:""}),"";case h:throw Error(r(294))}if("object"==typeof k&&null!==k)switch(k.$$typeof){case f:H={};var b=k.render(n.props,n.ref);return b=Q(k.render,n.props,b,n.ref),b=de(b),this.stack.push({type:null,domNamespace:x,children:b,childIndex:0,context:y,footer:""}),"";case d:return n=[t.createElement(k.type,e({ref:n.ref},n.props))],this.stack.push({type:null,domNamespace:x,children:n,childIndex:0,context:y,footer:""}),"";case u:return x={type:n,domNamespace:x,children:k=de(n.props.children),childIndex:0,context:y,footer:""},this.pushProvider(n),this.stack.push(x),"";case s:k=n.type,b=n.props;var E=this.threadID;return S(k,E),k=de(b.children(k[E])),this.stack.push({type:n,domNamespace:x,children:k,childIndex:0,context:y,footer:""}),"";case v:throw Error(r(338));case m:switch(g(k=n.type),k._status){case 1:return n=[t.createElement(k._result,e({ref:n.ref},n.props))],this.stack.push({type:null,domNamespace:x,children:n,childIndex:0,context:y,footer:""}),"";case 2:throw k._result;default:throw Error(r(295))}case w:throw Error(r(343))}throw Error(r(130,null==k?k:typeof k,""))},y.renderDOM=function(t,n,o){var i=t.type.toLowerCase();if(o===ae.html&&le(i),!we.hasOwnProperty(i)){if(!ve.test(i))throw Error(r(65,i));we[i]=!0}var a=t.props;if("input"===i)a=e({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===i){var l=a.value;if(null==l){l=a.defaultValue;var u=a.children;if(null!=u){if(null!=l)throw Error(r(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(r(93));u=u[0]}l=""+u}null==l&&(l="")}a=e({},a,{value:void 0,children:""+l})}else if("select"===i)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=e({},a,{value:void 0});else if("option"===i){u=this.currentSelectValue;var s=xe(a.children);if(null!=u){var c=null!=a.value?a.value+"":s;if(l=!1,Array.isArray(u)){for(var f=0;f<u.length;f++)if(""+u[f]===c){l=!0;break}}else l=""+u===c;a=e({selected:void 0,children:void 0},a,{selected:l,children:s})}}if(l=a){if(se[i]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(r(137,i,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(r(60));if(!("object"==typeof l.dangerouslySetInnerHTML&&"__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=l.style&&"object"!=typeof l.style)throw Error(r(62,""))}for(g in l=a,u=this.makeStaticMarkup,s=1===this.stack.length,c="<"+t.type,l)if(ke.call(l,g)){var h=l[g];if(null!=h){if("style"===g){f=void 0;var p="",d="";for(f in h)if(h.hasOwnProperty(f)){var m=0===f.indexOf("--"),y=h[f];if(null!=y){if(m)var v=f;else if(v=f,ge.hasOwnProperty(v))v=ge[v];else{var w=v.replace(he,"-$1").toLowerCase().replace(pe,"-ms-");v=ge[v]=w}p+=d+v+":",d=f,p+=m=null==y||"boolean"==typeof y||""===y?"":m||"number"!=typeof y||0===y||ce.hasOwnProperty(d)&&ce[d]?(""+y).trim():y+"px",d=";"}}h=p||null}f=null;e:if(m=i,y=l,-1===m.indexOf("-"))m="string"==typeof y.is;else switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":m=!1;break e;default:m=!0}m?be.hasOwnProperty(g)||(f=O(f=g)&&null!=h?f+'="'+A(h)+'"':""):f=W(g,h),f&&(c+=" "+f)}}u||s&&(c+=' data-reactroot=""');var g=c;l="",ue.hasOwnProperty(i)?g+="/>":(g+=">",l="</"+t.type+">");e:{if(null!=(u=a.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"==typeof(u=a.children)||"number"==typeof u){u=A(u);break e}u=null}return null!=u?(a=[],ye.hasOwnProperty(i)&&"\n"===u.charAt(0)&&(g+="\n"),g+=u):a=de(a.children),t=t.type,o=null==o||"http://www.w3.org/1999/xhtml"===o?le(t):"http://www.w3.org/2000/svg"===o&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":o,this.stack.push({domNamespace:o,type:i,children:a,childIndex:0,context:n,footer:l}),this.previousWasTextNode=!1,g},n}(),Ce={renderToString:function(e){e=new Fe(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new Fe(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(r(207))},renderToStaticNodeStream:function(){throw Error(r(208))},version:"16.13.1"};module.exports=Ce.default||Ce;
},{"object-assign":"YOwE","react":"HdMw"}],"gjZ7":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react-dom-server.browser.production.min.js");
},{"./cjs/react-dom-server.browser.production.min.js":"wi82"}],"a0Xl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=11;function n(e,n){var r,i,a,o,d=n.attributes;if(n.nodeType!==t&&e.nodeType!==t){for(var l=d.length-1;l>=0;l--)i=(r=d[l]).name,a=r.namespaceURI,o=r.value,a?(i=r.localName||i,e.getAttributeNS(a,i)!==o&&("xmlns"===r.prefix&&(i=r.name),e.setAttributeNS(a,i,o))):e.getAttribute(i)!==o&&e.setAttribute(i,o);for(var u=e.attributes,f=u.length-1;f>=0;f--)i=(r=u[f]).name,(a=r.namespaceURI)?(i=r.localName||i,n.hasAttributeNS(a,i)||e.removeAttributeNS(a,i)):n.hasAttribute(i)||e.removeAttribute(i)}}var r="http://www.w3.org/1999/xhtml",i="undefined"==typeof document?void 0:document,a=!!i&&"content"in i.createElement("template"),o=!!i&&i.createRange&&"createContextualFragment"in i.createRange();function d(e){var t=i.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function l(t){return e||(e=i.createRange()).selectNode(i.body),e.createContextualFragment(t).childNodes[0]}function u(e){var t=i.createElement("body");return t.innerHTML=e,t.childNodes[0]}function f(e){return e=e.trim(),a?d(e):o?l(e):u(e)}function c(e,t){var n,r,i=e.nodeName,a=t.nodeName;return i===a||(n=i.charCodeAt(0),r=a.charCodeAt(0),n<=90&&r>=97?i===a.toUpperCase():r<=90&&n>=97&&a===i.toUpperCase())}function s(e,t){return t&&t!==r?i.createElementNS(t,e):i.createElement(e)}function v(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function p(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var m={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();"OPTGROUP"===r&&(r=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==r||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}p(e,t,"selected")},INPUT:function(e,t){p(e,t,"checked"),p(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var i=r.nodeValue;if(i==n||!n&&i==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,r,i=-1,a=0,o=e.firstChild;o;)if("OPTGROUP"===(r=o.nodeName&&o.nodeName.toUpperCase()))o=(n=o).firstChild;else{if("OPTION"===r){if(o.hasAttribute("selected")){i=a;break}a++}!(o=o.nextSibling)&&n&&(o=n.nextSibling,n=null)}e.selectedIndex=i}}},N=1,h=11,b=3,A=8;function C(){}function T(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function g(e){return function(t,n,r){if(r||(r={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName||"BODY"===t.nodeName){var a=n;(n=i.createElement("html")).innerHTML=a}else n=f(n);var o=r.getNodeKey||T,d=r.onBeforeNodeAdded||C,l=r.onNodeAdded||C,u=r.onBeforeElUpdated||C,p=r.onElUpdated||C,g=r.onBeforeNodeDiscarded||C,S=r.onNodeDiscarded||C,x=r.onBeforeElChildrenUpdated||C,E=!0===r.childrenOnly,y=Object.create(null),U=[];function O(e){U.push(e)}function R(e,t,n){!1!==g(e)&&(t&&t.removeChild(e),S(e),function e(t,n){if(t.nodeType===N)for(var r=t.firstChild;r;){var i=void 0;n&&(i=o(r))?O(i):(S(r),r.firstChild&&e(r,n)),r=r.nextSibling}}(e,n))}function V(e){l(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=o(t);if(r){var i=y[r];i&&c(t,i)?(t.parentNode.replaceChild(i,t),I(i,t)):V(t)}else V(t);t=n}}function I(t,n,r){var a=o(n);if(a&&delete y[a],!r){if(!1===u(t,n))return;if(e(t,n),p(t),!1===x(t,n))return}"TEXTAREA"!==t.nodeName?function(e,t){var n,r,a,l,u,f=t.firstChild,s=e.firstChild;e:for(;f;){for(l=f.nextSibling,n=o(f);s;){if(a=s.nextSibling,f.isSameNode&&f.isSameNode(s)){f=l,s=a;continue e}r=o(s);var v=s.nodeType,p=void 0;if(v===f.nodeType&&(v===N?(n?n!==r&&((u=y[n])?a===u?p=!1:(e.insertBefore(u,s),r?O(r):R(s,e,!0),s=u):p=!1):r&&(p=!1),(p=!1!==p&&c(s,f))&&I(s,f)):v!==b&&v!=A||(p=!0,s.nodeValue!==f.nodeValue&&(s.nodeValue=f.nodeValue))),p){f=l,s=a;continue e}r?O(r):R(s,e,!0),s=a}if(n&&(u=y[n])&&c(u,f))e.appendChild(u),I(u,f);else{var h=d(f);!1!==h&&(h&&(f=h),f.actualize&&(f=f.actualize(e.ownerDocument||i)),e.appendChild(f),V(f))}f=l,s=a}!function(e,t,n){for(;t;){var r=t.nextSibling;(n=o(t))?O(n):R(t,e,!0),t=r}}(e,s,r);var C=m[e.nodeName];C&&C(e,t)}(t,n):m.TEXTAREA(t,n)}!function e(t){if(t.nodeType===N||t.nodeType===h)for(var n=t.firstChild;n;){var r=o(n);r&&(y[r]=n),e(n),n=n.nextSibling}}(t);var P=t,w=P.nodeType,B=n.nodeType;if(!E)if(w===N)B===N?c(t,n)||(S(t),P=v(t,s(n.nodeName,n.namespaceURI))):P=n;else if(w===b||w===A){if(B===w)return P.nodeValue!==n.nodeValue&&(P.nodeValue=n.nodeValue),P;P=n}if(P===n)S(t);else{if(n.isSameNode&&n.isSameNode(P))return;if(I(P,n,E),U)for(var L=0,D=U.length;L<D;L++){var M=y[U[L]];M&&R(M,M.parentNode,!1)}}return!E&&P!==t&&t.parentNode&&(P.actualize&&(P=P.actualize(t.ownerDocument||i)),t.parentNode.replaceChild(P,t)),P}}var S=g(n),x=S;exports.default=x;
},{}],"PH53":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var a={};if(null!=n)for(var r in n)"default"!==r&&Object.hasOwnProperty.call(n,r)&&e(a,n,r);return t(a,n),a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeGradient=exports.makeHopper=exports.makeBox=exports.makeConnector=void 0;var r=a(require("two.js")),c=n(require("react")),o=n(require("react-dom/server")),l=n(require("morphdom")),i=l.default;function m(e,t,n){var a=window.two,l=[new r.default.Anchor(0,0),new r.default.Anchor(t,0),new r.default.Anchor(t,t),new r.default.Anchor(t/2+15,1.23*t),new r.default.Anchor(t/2-15,1.23*t),new r.default.Anchor(0,t),new r.default.Anchor(0,0)],m=[new r.default.Anchor(t,0),new r.default.Anchor(t+10,10),new r.default.Anchor(t+10,t+10),new r.default.Anchor(t/2+10,1.25*t+10),new r.default.Anchor(10,t+10),new r.default.Anchor(0,t)],u=a.makePath(l,!0),d=a.makePath(m,!0),h=(a.makeLine(t/2,1.25*t,t/2+10,1.25*t+10),a.makeLine(t,t,t+10,t+10));u.fill="white",d.fill="lavender";var s=a.makeGroup(d),w=a.makeGroup(u,h);a.update();var x=30,f="content"+n,p=o.renderToStaticMarkup(c.createElement(c.Fragment,null,c.createElement("foreignobject",{x:"0",y:"0",width:t,height:1.25*t},c.createElement("div",{id:f})))),v=o.renderToStaticMarkup(c.createElement(c.Fragment,null,c.createElement("svg",{width:60,height:60,x:t/2-x,y:1.25*t-x-5,viewBox:"".concat(-x," ").concat(-x," ").concat(60," ").concat(60),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},c.createElement("circle",{cx:4.5,cy:4.5,r:"".concat(24),fill:"lavender",stroke:"black"}),c.createElement("circle",{className:"pinwheel",cx:"0",cy:"0",r:"".concat(24)}),c.createElement("line",{className:"pinwheel",x1:-24*Math.SQRT1_2,y1:-24*Math.SQRT1_2,x2:24*Math.SQRT1_2,y2:24*Math.SQRT1_2}),c.createElement("line",{className:"pinwheel",x1:24*Math.SQRT1_2,y1:-24*Math.SQRT1_2,x2:-24*Math.SQRT1_2,y2:24*Math.SQRT1_2}),c.createElement("line",{className:"pinwheel",x1:"".concat(-24),y1:"0",x2:"".concat(24),y2:"0.0"}),c.createElement("line",{className:"pinwheel",x1:"0",y1:"".concat(-24),x2:"0",y2:"".concat(24)})))),y=w._renderer.elem,g=s._renderer.elem;return y.innerHTML+=p,g.innerHTML+=v,w.translation.set(e.x-t/2,e.y-t/2),s.translation.set(e.x-t/2,e.y-t/2),{setText:function(e){var t='\n          \n          <div id="'.concat(f,'">\n           ').concat(e,"\n          </div>\n          "),n=document.getElementById(f);i(n,t)}}}function u(e,t,n){var a=window.two,l=a.makeRectangle(t/2,t/2,t,t),m=[new r.default.Anchor(t,0),new r.default.Anchor(t+10,10),new r.default.Anchor(t+10,t+10),new r.default.Anchor(10,t+10),new r.default.Anchor(0,t)],u=a.makePath(m,!0),d=a.makeLine(t,t,t+10,t+10);u.fill="lavender",l.fill="white";var h=a.makeGroup(u),s=a.makeGroup(l,d);a.update();var w=25;"e"==n&&(w=0);var x="content"+n,f=o.renderToStaticMarkup(c.createElement(c.Fragment,null,c.createElement("svg",{width:2*w,height:2*w,x:t-w,y:t/2-w,viewBox:"".concat(-w," ").concat(-w," ").concat(2*w," ").concat(2*w),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},c.createElement("circle",{cx:.15*w,cy:.15*w,r:"".concat(.8*w),fill:"lavender",stroke:"black"}),c.createElement("circle",{className:"pinwheel",cx:"0",cy:"0",r:"".concat(.8*w)}),c.createElement("line",{className:"pinwheel",x1:-.8*w*Math.SQRT1_2,y1:-.8*w*Math.SQRT1_2,x2:.8*w*Math.SQRT1_2,y2:.8*w*Math.SQRT1_2}),c.createElement("line",{className:"pinwheel",x1:.8*w*Math.SQRT1_2,y1:-.8*w*Math.SQRT1_2,x2:-.8*w*Math.SQRT1_2,y2:.8*w*Math.SQRT1_2}),c.createElement("line",{className:"pinwheel",x1:"".concat(-.8*w),y1:"0",x2:"".concat(.8*w),y2:"0.0"}),c.createElement("line",{className:"pinwheel",x1:"0",y1:"".concat(-.8*w),x2:"0",y2:"".concat(.8*w)})))),p=o.renderToStaticMarkup(c.createElement(c.Fragment,null,c.createElement("svg",{width:t,height:t,x:0,y:0,viewBox:"".concat(-t," ").concat(-t," ").concat(2*t," ").concat(2*t),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"}),c.createElement("foreignobject",{x:"0",y:"0",width:t,height:t},c.createElement("div",{id:x})))),v=s._renderer.elem,y=h._renderer.elem;return v.innerHTML+=p,y.innerHTML+=f,s.translation.set(e.x-t/2,e.y-t/2),h.translation.set(e.x-t/2,e.y-t/2),{setText:function(e){var t='\n        \n        <div id="'.concat(x,'" class="boxText">\n         ').concat(e,"\n        </div>\n        "),n=document.getElementById(x);i(n,t)}}}function d(e,t){var n=new r.default.Vector(e.x,t.y);two.makeLine(e.x,e.y,n.x,n.y),two.makeLine(n.x,n.y,t.x,t.y)}function h(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=window.two,m=i.makeGroup();i.update();var u=45,d=45,h=0,s=0;t.x<e.x&&(u*=-1,h=1-h,s=180),t.y>e.y&&(d*=-1,h=1-h);Math.abs(e.x-t.x),Math.abs(e.y-t.y);var w=new r.default.Vector(t.x,e.y),x=1,f=0;a&&(w=new r.default.Vector(e.x,t.y),u*=-1,d*=-1,x=0,f=1,h=1-h);var p="gobshite";s>0&&(p=p.split("").reverse().join(""));var v="";"wiggle"==l?v="\n    l 0 110\n              \n    a 25 25, 0, 0, 1, -25, 25\n    l -75 0\n    a 25 25, 0, 0, 0, -25, 25\n    l 0 0\n    a 25 25, 0, 0, 0, 25, 25\n    l 200 0\n    a 25 25, 0, 0, 1, 25, 25\n    l 0 0\n    a 25 25, 0, 0, 1, -25, 25\n    l -75 0\n    a 25 25, 0, 0, 0, -25, 25\n    ":"loop"==l&&(v="\n    l 150 0\n    a 40 40, 0, 0, 0, 40, -40\n    a 40 40, 0, 0, 0, -40, -40\n    a 40 40, 0, 0, 0, -40, 40\n    a 40 40, 0, 0, 0, 40, 40\n    "),console.log(n);var y="t"==n[0]?"tube trash":"tube",g=Array.from({length:10},function(e,t){return"textpath"+n+t.toString()}),k="A 45, 45, 0, 0, ".concat(h,", ").concat(w.x-u*f," ").concat(w.y-d*x);""!=l&&(k="");var _=o.renderToStaticMarkup(c.createElement(c.Fragment,null,c.createElement("path",{className:y,id:n,d:"M ".concat(e.x," ").concat(e.y,"\n        ").concat(v,"\n        L  ").concat(w.x-u*x," ").concat(w.y-d*f,"\n ").concat(k,"\n  L  ").concat(t.x," ").concat(t.y,"\n  "),fill:"transparent"}),c.createElement("text",{width:"100%",rotate:s},g.map(function(e){return c.createElement("textpath",{href:"#"+n,startOffset:"00px",id:e,className:"pipetext",key:e,alignmentBaseline:"middle"})}))));m._renderer.elem.innerHTML+=_;var E=document.getElementById(n).getTotalLength(),M=g.map(function(e){return document.getElementById(e)}),T=0;return{sendWord:function(e,t){s>0&&(e=e.split("").reverse().join(""));var n=M[T];if(T=(T+1)%M.length,n.textContent=e,!n)throw new Error("no path");var a=t;return new Promise(function(t,r){var c=-10*e.length;!function r(){if(!n)throw new Error("no path");a&&c>10*e.length+100&&(a(),a=null),c+=parseInt(document.getElementById("speed").value,10),n.setAttribute("startOffset","".concat(c,"px")),c<E?window.requestAnimationFrame(r):t()}()})}}}function s(e,t,n){var a=window.two,c=a.makeLinearGradient(-n/2,0,n/2,0,new r.default.Stop(.5,"rgba(255,255,255,255)"),new r.default.Stop(1,"rgba(255,255,255,0)")),o=a.makeRectangle(e,t,n,n);o.noStroke(),o.fill=c}exports.makeHopper=m,exports.makeBox=u,exports.makeConnector=h,exports.makeGradient=s;
},{"two.js":"tShF","react":"HdMw","react-dom/server":"gjZ7","morphdom":"a0Xl"}],"KGTz":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof e&&e.amd)e([],n);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).Matter=n()}}(function(){return function(){return function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return i(t[s][1][e]||e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}}()({1:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),s=e("../core/Sleeping"),a=(e("../render/Render"),e("../core/Common")),l=e("../geometry/Bounds"),c=e("../geometry/Axes");!function(){o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o.create=function(t){var n={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},o=a.extend(n,t);return e(o,t),o},o.nextGroup=function(e){return e?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var e=function(e,t){t=t||{},o.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||r.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),o.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#2e2b44":a.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||"#000",e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};o.set=function(e,t,n){var i;for(i in"string"==typeof t&&(i=t,(t={})[i]=n),t)if(n=t[i],t.hasOwnProperty(i))switch(i){case"isStatic":o.setStatic(e,n);break;case"isSleeping":s.set(e,n);break;case"mass":o.setMass(e,n);break;case"density":o.setDensity(e,n);break;case"inertia":o.setInertia(e,n);break;case"vertices":o.setVertices(e,n);break;case"position":o.setPosition(e,n);break;case"angle":o.setAngle(e,n);break;case"velocity":o.setVelocity(e,n);break;case"angularVelocity":o.setAngularVelocity(e,n);break;case"parts":o.setParts(e,n);break;default:e[i]=n}},o.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var o=e.parts[n];o.isStatic=t,t?(o._original={restitution:o.restitution,friction:o.friction,mass:o.mass,inertia:o.inertia,density:o.density,inverseMass:o.inverseMass,inverseInertia:o.inverseInertia},o.restitution=0,o.friction=1,o.mass=o.inertia=o.density=1/0,o.inverseMass=o.inverseInertia=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.angularVelocity=0,o.speed=0,o.angularSpeed=0,o.motion=0):o._original&&(o.restitution=o._original.restitution,o.friction=o._original.friction,o.mass=o._original.mass,o.inertia=o._original.inertia,o.density=o._original.density,o.inverseMass=o._original.inverseMass,o.inverseInertia=o._original.inverseInertia,delete o._original)}},o.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},o.setDensity=function(e,t){o.setMass(e,t*e.area),e.density=t},o.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},o.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=i.area(e.vertices),o.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),o.setInertia(e,o._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},o.setParts=function(e,t,n){var r;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,r=0;r<t.length;r++){var s=t[r];s!==e&&(s.parent=e,e.parts.push(s))}if(1!==e.parts.length){if(n=void 0===n||n){var a=[];for(r=0;r<t.length;r++)a=a.concat(t[r].vertices);i.clockwiseSort(a);var l=i.hull(a),c=i.centre(l);o.setVertices(e,l),i.translate(e.vertices,c)}var d=o._totalProperties(e);e.area=d.area,e.parent=e,e.position.x=d.centre.x,e.position.y=d.centre.y,e.positionPrev.x=d.centre.x,e.positionPrev.y=d.centre.y,o.setMass(e,d.mass),o.setInertia(e,d.inertia),o.setPosition(e,d.centre)}},o.setPosition=function(e,t){var n=r.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var o=0;o<e.parts.length;o++){var s=e.parts[o];s.position.x+=n.x,s.position.y+=n.y,i.translate(s.vertices,n),l.update(s.bounds,s.vertices,e.velocity)}},o.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var o=0;o<e.parts.length;o++){var s=e.parts[o];s.angle+=n,i.rotate(s.vertices,n,e.position),c.rotate(s.axes,n),l.update(s.bounds,s.vertices,e.velocity),o>0&&r.rotateAbout(s.position,n,e.position,s.position)}},o.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=r.magnitude(e.velocity)},o.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},o.translate=function(e,t){o.setPosition(e,r.add(e.position,t))},o.rotate=function(e,t,n){if(n){var i=Math.cos(t),r=Math.sin(t),s=e.position.x-n.x,a=e.position.y-n.y;o.setPosition(e,{x:n.x+(s*i-a*r),y:n.y+(s*r+a*i)}),o.setAngle(e,e.angle+t)}else o.setAngle(e,e.angle+t)},o.scale=function(e,t,n,r){var s=0,a=0;r=r||e.position;for(var d=0;d<e.parts.length;d++){var u=e.parts[d];i.scale(u.vertices,t,n,r),u.axes=c.fromVertices(u.vertices),u.area=i.area(u.vertices),o.setMass(u,e.density*u.area),i.translate(u.vertices,{x:-u.position.x,y:-u.position.y}),o.setInertia(u,o._inertiaScale*i.inertia(u.vertices,u.mass)),i.translate(u.vertices,{x:u.position.x,y:u.position.y}),d>0&&(s+=u.area,a+=u.inertia),u.position.x=r.x+(u.position.x-r.x)*t,u.position.y=r.y+(u.position.y-r.y)*n,l.update(u.bounds,u.vertices,e.velocity)}e.parts.length>1&&(e.area=s,e.isStatic||(o.setMass(e,e.density*s),o.setInertia(e,a))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},o.update=function(e,t,n,o){var s=Math.pow(t*n*e.timeScale,2),a=1-e.frictionAir*n*e.timeScale,d=e.position.x-e.positionPrev.x,u=e.position.y-e.positionPrev.y;e.velocity.x=d*a*o+e.force.x/e.mass*s,e.velocity.y=u*a*o+e.force.y/e.mass*s,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*a*o+e.torque/e.inertia*s,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=r.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var p=0;p<e.parts.length;p++){var m=e.parts[p];i.translate(m.vertices,e.velocity),p>0&&(m.position.x+=e.velocity.x,m.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(m.vertices,e.angularVelocity,e.position),c.rotate(m.axes,e.angularVelocity),p>0&&r.rotateAbout(m.position,e.angularVelocity,e.position,m.position)),l.update(m.bounds,m.vertices,e.velocity)}},o.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var o=t.x-e.position.x,i=t.y-e.position.y;e.torque+=o*n.y-i*n.x},o._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var o=e.parts[n],i=o.mass!==1/0?o.mass:1;t.mass+=i,t.area+=o.area,t.inertia+=o.inertia,t.centre=r.add(t.centre,r.mult(o.position,i))}return t.centre=r.div(t.centre,t.mass),t}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Events"),r=e("../core/Common"),s=e("../geometry/Bounds"),a=e("./Body");o.create=function(e){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},o.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&o.setModified(e.parent,t,n,i),i)for(var r=0;r<e.composites.length;r++){var s=e.composites[r];o.setModified(s,t,n,i)}},o.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var s=0;s<n.length;s++){var a=n[s];switch(a.type){case"body":if(a.parent!==a){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,a);break;case"constraint":o.addConstraint(e,a);break;case"composite":o.addComposite(e,a);break;case"mouseConstraint":o.addConstraint(e,a.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},o.remove=function(e,t,n){var r=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":o.removeBody(e,a,n);break;case"constraint":o.removeConstraint(e,a,n);break;case"composite":o.removeComposite(e,a,n);break;case"mouseConstraint":o.removeConstraint(e,a.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},o.addComposite=function(e,t){return e.composites.push(t),t.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,t,n){var i=r.indexOf(e.composites,t);if(-1!==i&&(o.removeCompositeAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)o.removeComposite(e.composites[s],t,!0);return e},o.removeCompositeAt=function(e,t){return e.composites.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,t){return e.bodies.push(t),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,t,n){var i=r.indexOf(e.bodies,t);if(-1!==i&&(o.removeBodyAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)o.removeBody(e.composites[s],t,!0);return e},o.removeBodyAt=function(e,t){return e.bodies.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,t){return e.constraints.push(t),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,t,n){var i=r.indexOf(e.constraints,t);if(-1!==i&&o.removeConstraintAt(e,i),n)for(var s=0;s<e.composites.length;s++)o.removeConstraint(e.composites[s],t,!0);return e},o.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)o.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(o.allBodies(e.composites[n]));return t},o.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(o.allConstraints(e.composites[n]));return t},o.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(o.allComposites(e.composites[n]));return t},o.get=function(e,t,n){var i,r;switch(n){case"body":i=o.allBodies(e);break;case"constraint":i=o.allConstraints(e);break;case"composite":i=o.allComposites(e).concat(e)}return i?0===(r=i.filter(function(e){return e.id.toString()===t.toString()})).length?null:r[0]:null},o.move=function(e,t,n){return o.remove(e,t),o.add(n,t),e},o.rebase=function(e){for(var t=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),n=0;n<t.length;n++)t[n].id=r.nextId();return o.setModified(e,!0,!0,!1),e},o.translate=function(e,t,n){for(var i=n?o.allBodies(e):e.bodies,r=0;r<i.length;r++)a.translate(i[r],t);return o.setModified(e,!0,!0,!1),e},o.rotate=function(e,t,n,i){for(var r=Math.cos(t),s=Math.sin(t),l=i?o.allBodies(e):e.bodies,c=0;c<l.length;c++){var d=l[c],u=d.position.x-n.x,p=d.position.y-n.y;a.setPosition(d,{x:n.x+(u*r-p*s),y:n.y+(u*s+p*r)}),a.rotate(d,t)}return o.setModified(e,!0,!0,!1),e},o.scale=function(e,t,n,i,r){for(var s=r?o.allBodies(e):e.bodies,l=0;l<s.length;l++){var c=s[l],d=c.position.x-i.x,u=c.position.y-i.y;a.setPosition(c,{x:i.x+d*t,y:i.y+u*n}),a.scale(c,t,n)}return o.setModified(e,!0,!0,!1),e},o.bounds=function(e){for(var t=o.allBodies(e),n=[],i=0;i<t.length;i+=1){var r=t[i];n.push(r.bounds.min,r.bounds.max)}return s.create(n)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var o={};t.exports=o;var i=e("./Composite"),r=(e("../constraint/Constraint"),e("../core/Common"));o.create=function(e){var t=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return r.extend(t,n,e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var o={};t.exports=o,o.create=function(e){return{id:o.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},o.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,n){var o={};t.exports=o;var i=e("./SAT"),r=e("./Pair"),s=e("../geometry/Bounds");o.collisions=function(e,t){for(var n=[],a=t.pairs.table,l=0;l<e.length;l++){var c=e[l][0],d=e[l][1];if((!c.isStatic&&!c.isSleeping||!d.isStatic&&!d.isSleeping)&&o.canCollide(c.collisionFilter,d.collisionFilter)&&s.overlaps(c.bounds,d.bounds))for(var u=c.parts.length>1?1:0;u<c.parts.length;u++)for(var p=c.parts[u],m=d.parts.length>1?1:0;m<d.parts.length;m++){var f=d.parts[m];if(p===c&&f===d||s.overlaps(p.bounds,f.bounds)){var v,y=a[r.id(p,f)];v=y&&y.isActive?y.collision:null;var g=i.collides(p,f,v);g.collided&&n.push(g)}}}return n},o.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var o={};t.exports=o;var i=e("./Pair"),r=e("./Detector"),s=e("../core/Common");o.create=function(e){var t={controller:o,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(t,e)},o.update=function(e,t,n,i){var r,s,a,l,c,d=n.world,u=e.buckets,p=!1;for(r=0;r<t.length;r++){var m=t[r];if((!m.isSleeping||i)&&!(m.bounds.max.x<d.bounds.min.x||m.bounds.min.x>d.bounds.max.x||m.bounds.max.y<d.bounds.min.y||m.bounds.min.y>d.bounds.max.y)){var f=o._getRegion(e,m);if(!m.region||f.id!==m.region.id||i){m.region&&!i||(m.region=f);var v=o._regionUnion(f,m.region);for(s=v.startCol;s<=v.endCol;s++)for(a=v.startRow;a<=v.endRow;a++){l=u[c=o._getBucketId(s,a)];var y=s>=f.startCol&&s<=f.endCol&&a>=f.startRow&&a<=f.endRow,g=s>=m.region.startCol&&s<=m.region.endCol&&a>=m.region.startRow&&a<=m.region.endRow;!y&&g&&g&&l&&o._bucketRemoveBody(e,l,m),(m.region===f||y&&!g||i)&&(l||(l=o._createBucket(u,c)),o._bucketAddBody(e,l,m))}m.region=f,p=!0}}}p&&(e.pairsList=o._createActivePairsList(e))},o.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},o._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),r=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return o._createRegion(n,i,r,s)},o._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),r=Math.floor(n.max.x/e.bucketWidth),s=Math.floor(n.min.y/e.bucketHeight),a=Math.floor(n.max.y/e.bucketHeight);return o._createRegion(i,r,s,a)},o._createRegion=function(e,t,n,o){return{id:e+","+t+","+n+","+o,startCol:e,endCol:t,startRow:n,endRow:o}},o._getBucketId=function(e,t){return"C"+e+"R"+t},o._createBucket=function(e,t){return e[t]=[]},o._bucketAddBody=function(e,t,n){for(var o=0;o<t.length;o++){var r=t[o];if(!(n.id===r.id||n.isStatic&&r.isStatic)){var s=i.id(n,r),a=e.pairs[s];a?a[2]+=1:e.pairs[s]=[n,r,1]}}t.push(n)},o._bucketRemoveBody=function(e,t,n){t.splice(s.indexOf(t,n),1);for(var o=0;o<t.length;o++){var r=t[o],a=i.id(n,r),l=e.pairs[a];l&&(l[2]-=1)}},o._createActivePairsList=function(e){var t,n,o=[];t=s.keys(e.pairs);for(var i=0;i<t.length;i++)(n=e.pairs[t[i]])[2]>0?o.push(n):delete e.pairs[t[i]];return o}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var o={};t.exports=o;var i=e("./Contact");o.create=function(e,t){var n=e.bodyA,i=e.bodyB,r=e.parentA,s=e.parentB,a={id:o.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:r.inverseMass+s.inverseMass,friction:Math.min(r.friction,s.friction),frictionStatic:Math.max(r.frictionStatic,s.frictionStatic),restitution:Math.max(r.restitution,s.restitution),slop:Math.max(r.slop,s.slop)};return o.update(a,e,t),a},o.update=function(e,t,n){var r=e.contacts,s=t.supports,a=e.activeContacts,l=t.parentA,c=t.parentB;if(e.collision=t,e.inverseMass=l.inverseMass+c.inverseMass,e.friction=Math.min(l.friction,c.friction),e.frictionStatic=Math.max(l.frictionStatic,c.frictionStatic),e.restitution=Math.max(l.restitution,c.restitution),e.slop=Math.max(l.slop,c.slop),a.length=0,t.collided){for(var d=0;d<s.length;d++){var u=s[d],p=i.id(u),m=r[p];m?a.push(m):a.push(r[p]=i.create(u))}e.separation=t.depth,o.setActive(e,!0,n)}else!0===e.isActive&&o.setActive(e,!1,n)},o.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},o.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,n){var o={};t.exports=o;var i=e("./Pair"),r=e("../core/Common");o._pairMaxIdleLife=1e3,o.create=function(e){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},o.update=function(e,t,n){var o,s,a,l,c=e.list,d=e.table,u=e.collisionStart,p=e.collisionEnd,m=e.collisionActive,f=[];for(u.length=0,p.length=0,m.length=0,l=0;l<t.length;l++)(o=t[l]).collided&&(s=i.id(o.bodyA,o.bodyB),f.push(s),(a=d[s])?(a.isActive?m.push(a):u.push(a),i.update(a,o,n)):(a=i.create(o,n),d[s]=a,u.push(a),c.push(a)));for(l=0;l<c.length;l++)(a=c[l]).isActive&&-1===r.indexOf(f,a.id)&&(i.setActive(a,!1,n),p.push(a))},o.removeOld=function(e,t){var n,i,r,s,a=e.list,l=e.table,c=[];for(s=0;s<a.length;s++)(i=(n=a[s]).collision).bodyA.isSleeping||i.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>o._pairMaxIdleLife&&c.push(s);for(s=0;s<c.length;s++)delete l[(n=a[r=c[s]-s]).id],a.splice(r,1)},o.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("./SAT"),s=e("../geometry/Bounds"),a=e("../factory/Bodies"),l=e("../geometry/Vertices");o.collides=function(e,t){for(var n=[],o=0;o<t.length;o++){var i=t[o];if(s.overlaps(i.bounds,e.bounds))for(var a=1===i.parts.length?0:1;a<i.parts.length;a++){var l=i.parts[a];if(s.overlaps(l.bounds,e.bounds)){var c=r.collides(l,e);if(c.collided){n.push(c);break}}}}return n},o.ray=function(e,t,n,r){r=r||1e-100;for(var s=i.angle(t,n),l=i.magnitude(i.sub(t,n)),c=.5*(n.x+t.x),d=.5*(n.y+t.y),u=a.rectangle(c,d,l,r,{angle:s}),p=o.collides(u,e),m=0;m<p.length;m+=1){var f=p[m];f.body=f.bodyB=f.bodyA}return p},o.region=function(e,t,n){for(var o=[],i=0;i<e.length;i++){var r=e[i],a=s.overlaps(r.bounds,t);(a&&!n||!a&&n)&&o.push(r)}return o},o.point=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o];if(s.contains(i.bounds,t))for(var r=1===i.parts.length?0:1;r<i.parts.length;r++){var a=i.parts[r];if(s.contains(a.bounds,t)&&l.contains(a.vertices,t)){n.push(i);break}}}return n}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),s=e("../core/Common"),a=e("../geometry/Bounds");o._restingThresh=4,o._restingThreshTangent=6,o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o.preSolvePosition=function(e){var t,n,o;for(t=0;t<e.length;t++)(n=e[t]).isActive&&(o=n.activeContacts.length,n.collision.parentA.totalContacts+=o,n.collision.parentB.totalContacts+=o)},o.solvePosition=function(e,t){var n,i,s,a,l,c,d,u,p,m=r._temp[0],f=r._temp[1],v=r._temp[2],y=r._temp[3];for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(a=(s=i.collision).parentA,l=s.parentB,c=s.normal,d=r.sub(r.add(l.positionImpulse,l.position,m),r.add(a.positionImpulse,r.sub(l.position,s.penetration,f),v),y),i.separation=r.dot(c,d));for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(a=(s=i.collision).parentA,l=s.parentB,c=s.normal,p=(i.separation-i.slop)*t,(a.isStatic||l.isStatic)&&(p*=2),a.isStatic||a.isSleeping||(u=o._positionDampen/a.totalContacts,a.positionImpulse.x+=c.x*p*u,a.positionImpulse.y+=c.y*p*u),l.isStatic||l.isSleeping||(u=o._positionDampen/l.totalContacts,l.positionImpulse.x-=c.x*p*u,l.positionImpulse.y-=c.y*p*u))},o.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var s=0;s<n.parts.length;s++){var l=n.parts[s];i.translate(l.vertices,n.positionImpulse),a.update(l.bounds,l.vertices,n.velocity),l.position.x+=n.positionImpulse.x,l.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,r.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=o._positionWarming,n.positionImpulse.y*=o._positionWarming)}}},o.preSolveVelocity=function(e){var t,n,o,i,s,a,l,c,d,u,p,m,f,v,y=r._temp[0],g=r._temp[1];for(t=0;t<e.length;t++)if((o=e[t]).isActive&&!o.isSensor)for(i=o.activeContacts,a=(s=o.collision).parentA,l=s.parentB,c=s.normal,d=s.tangent,n=0;n<i.length;n++)p=(u=i[n]).vertex,m=u.normalImpulse,f=u.tangentImpulse,0===m&&0===f||(y.x=c.x*m+d.x*f,y.y=c.y*m+d.y*f,a.isStatic||a.isSleeping||(v=r.sub(p,a.position,g),a.positionPrev.x+=y.x*a.inverseMass,a.positionPrev.y+=y.y*a.inverseMass,a.anglePrev+=r.cross(v,y)*a.inverseInertia),l.isStatic||l.isSleeping||(v=r.sub(p,l.position,g),l.positionPrev.x-=y.x*l.inverseMass,l.positionPrev.y-=y.y*l.inverseMass,l.anglePrev-=r.cross(v,y)*l.inverseInertia))},o.solveVelocity=function(e,t){for(var n=t*t,i=r._temp[0],a=r._temp[1],l=r._temp[2],c=r._temp[3],d=r._temp[4],u=r._temp[5],p=0;p<e.length;p++){var m=e[p];if(m.isActive&&!m.isSensor){var f=m.collision,v=f.parentA,y=f.parentB,g=f.normal,x=f.tangent,h=m.activeContacts,b=1/h.length;v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,y.velocity.x=y.position.x-y.positionPrev.x,y.velocity.y=y.position.y-y.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,y.angularVelocity=y.angle-y.anglePrev;for(var w=0;w<h.length;w++){var S=h[w],C=S.vertex,A=r.sub(C,v.position,a),P=r.sub(C,y.position,l),B=r.add(v.velocity,r.mult(r.perp(A),v.angularVelocity),c),M=r.add(y.velocity,r.mult(r.perp(P),y.angularVelocity),d),k=r.sub(B,M,u),I=r.dot(g,k),_=r.dot(x,k),T=Math.abs(_),R=s.sign(_),V=(1+m.restitution)*I,E=s.clamp(m.separation+I,0,1)*o._frictionNormalMultiplier,L=_,F=1/0;T>m.friction*m.frictionStatic*E*n&&(F=T,L=s.clamp(m.friction*R*n,-F,F));var O=r.cross(A,g),q=r.cross(P,g),W=b/(v.inverseMass+y.inverseMass+v.inverseInertia*O*O+y.inverseInertia*q*q);if(V*=W,L*=W,I<0&&I*I>o._restingThresh*n)S.normalImpulse=0;else{var D=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+V,0),V=S.normalImpulse-D}if(_*_>o._restingThreshTangent*n)S.tangentImpulse=0;else{var N=S.tangentImpulse;S.tangentImpulse=s.clamp(S.tangentImpulse+L,-F,F),L=S.tangentImpulse-N}i.x=g.x*V+x.x*L,i.y=g.y*V+x.y*L,v.isStatic||v.isSleeping||(v.positionPrev.x+=i.x*v.inverseMass,v.positionPrev.y+=i.y*v.inverseMass,v.anglePrev+=r.cross(A,i)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=i.x*y.inverseMass,y.positionPrev.y-=i.y*y.inverseMass,y.anglePrev-=r.cross(P,i)*y.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector");o.collides=function(e,t,n){var s,a,l,c,d=!1;if(n){var u=e.parent,p=t.parent,m=u.speed*u.speed+u.angularSpeed*u.angularSpeed+p.speed*p.speed+p.angularSpeed*p.angularSpeed;d=n&&n.collided&&m<.2,c=n}else c={collided:!1,bodyA:e,bodyB:t};if(n&&d){var f=c.axisBody,v=f===e?t:e,y=[f.axes[n.axisNumber]];if(l=o._overlapAxes(f.vertices,v.vertices,y),c.reused=!0,l.overlap<=0)return c.collided=!1,c}else{if((s=o._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return c.collided=!1,c;if((a=o._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return c.collided=!1,c;s.overlap<a.overlap?(l=s,c.axisBody=e):(l=a,c.axisBody=t),c.axisNumber=l.axisNumber}c.bodyA=e.id<t.id?e:t,c.bodyB=e.id<t.id?t:e,c.collided=!0,c.depth=l.overlap,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent,e=c.bodyA,t=c.bodyB,r.dot(l.axis,r.sub(t.position,e.position))<0?c.normal={x:l.axis.x,y:l.axis.y}:c.normal={x:-l.axis.x,y:-l.axis.y},c.tangent=r.perp(c.normal),c.penetration=c.penetration||{},c.penetration.x=c.normal.x*c.depth,c.penetration.y=c.normal.y*c.depth;var g=o._findSupports(e,t,c.normal),x=[];if(i.contains(e.vertices,g[0])&&x.push(g[0]),i.contains(e.vertices,g[1])&&x.push(g[1]),x.length<2){var h=o._findSupports(t,e,r.neg(c.normal));i.contains(t.vertices,h[0])&&x.push(h[0]),x.length<2&&i.contains(t.vertices,h[1])&&x.push(h[1])}return x.length<1&&(x=[g[0]]),c.supports=x,c},o._overlapAxes=function(e,t,n){for(var i,s,a=r._temp[0],l=r._temp[1],c={overlap:Number.MAX_VALUE},d=0;d<n.length;d++){if(s=n[d],o._projectToAxis(a,e,s),o._projectToAxis(l,t,s),(i=Math.min(a.max-l.min,l.max-a.min))<=0)return c.overlap=i,c;i<c.overlap&&(c.overlap=i,c.axis=s,c.axisNumber=d)}return c},o._projectToAxis=function(e,t,n){for(var o=r.dot(t[0],n),i=o,s=1;s<t.length;s+=1){var a=r.dot(t[s],n);a>i?i=a:a<o&&(o=a)}e.min=o,e.max=i},o._findSupports=function(e,t,n){for(var o,i,s,a,l=Number.MAX_VALUE,c=r._temp[0],d=t.vertices,u=e.position,p=0;p<d.length;p++)i=d[p],c.x=i.x-u.x,c.y=i.y-u.y,(o=-r.dot(n,c))<l&&(l=o,s=i);return i=d[s.index-1>=0?s.index-1:d.length-1],c.x=i.x-u.x,c.y=i.y-u.y,l=-r.dot(n,c),a=i,i=d[(s.index+1)%d.length],c.x=i.x-u.x,c.y=i.y-u.y,(o=-r.dot(n,c))<l&&(a=i),[s,a]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),s=e("../core/Sleeping"),a=e("../geometry/Bounds"),l=e("../geometry/Axes"),c=e("../core/Common");o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,i=r.magnitude(r.sub(n,o));t.length=void 0!==t.length?t.length:i,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(s.type="pin",s.anchors=!1):t.stiffness<.9&&(s.type="spring"),t.render=c.extend(s,t.render),t},o.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],o=n.constraintImpulse;n.isStatic||0===o.x&&0===o.y&&0===o.angle||(n.position.x+=o.x,n.position.y+=o.y,n.angle+=o.angle)}},o.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],r=!i.bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(r||s)&&o.solve(e[n],t)}for(n=0;n<e.length;n+=1)r=!(i=e[n]).bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic,r||s||o.solve(e[n],t)},o.solve=function(e,t){var n=e.bodyA,i=e.bodyB,s=e.pointA,a=e.pointB;if(n||i){n&&!n.isStatic&&(r.rotate(s,n.angle-e.angleA,s),e.angleA=n.angle),i&&!i.isStatic&&(r.rotate(a,i.angle-e.angleB,a),e.angleB=i.angle);var l=s,c=a;if(n&&(l=r.add(n.position,s)),i&&(c=r.add(i.position,a)),l&&c){var d=r.sub(l,c),u=r.magnitude(d);u<o._minLength&&(u=o._minLength);var p,m,f,v,y,g=(u-e.length)/u,x=e.stiffness<1?e.stiffness*t:e.stiffness,h=r.mult(d,g*x),b=(n?n.inverseMass:0)+(i?i.inverseMass:0),w=b+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(e.damping){var S=r.create();f=r.div(d,u),y=r.sub(i&&r.sub(i.position,i.positionPrev)||S,n&&r.sub(n.position,n.positionPrev)||S),v=r.dot(f,y)}n&&!n.isStatic&&(m=n.inverseMass/b,n.constraintImpulse.x-=h.x*m,n.constraintImpulse.y-=h.y*m,n.position.x-=h.x*m,n.position.y-=h.y*m,e.damping&&(n.positionPrev.x-=e.damping*f.x*v*m,n.positionPrev.y-=e.damping*f.y*v*m),p=r.cross(s,h)/w*o._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),i&&!i.isStatic&&(m=i.inverseMass/b,i.constraintImpulse.x+=h.x*m,i.constraintImpulse.y+=h.y*m,i.position.x+=h.x*m,i.position.y+=h.y*m,e.damping&&(i.positionPrev.x+=e.damping*f.x*v*m,i.positionPrev.y+=e.damping*f.y*v*m),p=r.cross(a,h)/w*o._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=p,i.angle+=p)}}},o.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){s.set(n,!1);for(var d=0;d<n.parts.length;d++){var u=n.parts[d];i.translate(u.vertices,c),d>0&&(u.position.x+=c.x,u.position.y+=c.y),0!==c.angle&&(i.rotate(u.vertices,c.angle,n.position),l.rotate(u.axes,c.angle),d>0&&r.rotateAbout(u.position,c.angle,n.position,u.position)),a.update(u.bounds,u.vertices,n.velocity)}c.angle*=o._warming,c.x*=o._warming,c.y*=o._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../core/Sleeping"),s=e("../core/Mouse"),a=e("../core/Events"),l=e("../collision/Detector"),c=e("./Constraint"),d=e("../body/Composite"),u=e("../core/Common"),p=e("../geometry/Bounds");o.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=s.create(e.render.canvas):t&&t.element?n=s.create(t.element):(n=s.create(),u.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},r=u.extend(i,t);return a.on(e,"beforeUpdate",function(){var t=d.allBodies(e.world);o.update(r,t),o._triggerEvents(r)}),r},o.update=function(e,t){var n=e.mouse,o=e.constraint,s=e.body;if(0===n.button){if(o.bodyB)r.set(o.bodyB,!1),o.pointA=n.position;else for(var c=0;c<t.length;c++)if(s=t[c],p.contains(s.bounds,n.position)&&l.canCollide(s.collisionFilter,e.collisionFilter))for(var d=s.parts.length>1?1:0;d<s.parts.length;d++){var u=s.parts[d];if(i.contains(u.vertices,n.position)){o.pointA=n.position,o.bodyB=e.body=s,o.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},o.angleB=s.angle,r.set(s,!1),a.trigger(e,"startdrag",{mouse:n,body:s});break}}}else o.bodyB=e.body=null,o.pointB=null,s&&a.trigger(e,"enddrag",{mouse:n,body:s})},o._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&a.trigger(e,"mousemove",{mouse:t}),n.mousedown&&a.trigger(e,"mousedown",{mouse:t}),n.mouseup&&a.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(e,n,o){(function(t){var o={};n.exports=o,function(){o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o.extend=function(e,t){var n,i;"boolean"==typeof t?(n=2,i=t):(n=1,i=!0);for(var r=n;r<arguments.length;r++){var s=arguments[r];if(s)for(var a in s)i&&s[a]&&s[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=s[a]:(e[a]=e[a]||{},o.extend(e[a],i,s[a])):e[a]=s[a]}return e},o.clone=function(e,t){return o.extend({},t,e)},o.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),o=0;o<n.length;o++)t.push(e[n[o]]);return t}for(var i in e)t.push(e[i]);return t},o.get=function(e,t,n,o){t=t.split(".").slice(n,o);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},o.set=function(e,t,n,i,r){var s=t.split(".").slice(i,r);return o.get(e,t,0,-1)[s[s.length-1]]=n,n},o.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(o.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},o.choose=function(e){return e[Math.floor(o.random()*e.length)]},o.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},o.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isFunction=function(e){return"function"==typeof e},o.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},o.isString=function(e){return"[object String]"===toString.call(e)},o.clamp=function(e,t,n){return e<t?t:e>n?n:e},o.sign=function(e){return e<0?-1:1},o.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-o._nowStartTime},o.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)};var n=function(){return o._seed=(9301*o._seed+49297)%233280,o._seed/233280};o.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.nextId=function(){return o._nextId++},o.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},o.map=function(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n},o.topologicalSort=function(e){var t=[],n=[],i=[];for(var r in e)n[r]||i[r]||o._topologicalSort(r,n,i,e,t);return t},o._topologicalSort=function(e,t,n,i,r){var s=i[e]||[];n[e]=!0;for(var a=0;a<s.length;a+=1){var l=s[a];n[l]||(t[l]||o._topologicalSort(l,t,n,i,r))}n[e]=!1,t[e]=!0,r.push(e)},o.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var o=function(){for(var t,n=new Array(arguments.length),o=0,i=arguments.length;o<i;o++)n[o]=arguments[o];for(o=0;o<e.length;o+=1){var r=e[o].apply(t,n);void 0!==r&&(t=r)}return t};return o._chained=e,o},o.chainPathBefore=function(e,t,n){return o.set(e,t,o.chain(n,o.get(e,t)))},o.chainPathAfter=function(e,t,n){return o.set(e,t,o.chain(o.get(e,t),n))},o._requireGlobal=function(n,o){return("undefined"!=typeof window?window[n]:void 0!==t?t[n]:null)||e(o)}}()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){var o={};t.exports=o;var i=e("../body/World"),r=e("./Sleeping"),s=e("../collision/Resolver"),a=e("../render/Render"),l=e("../collision/Pairs"),c=(e("./Metrics"),e("../collision/Grid")),d=e("./Events"),u=e("../body/Composite"),p=e("../constraint/Constraint"),m=e("./Common"),f=e("../body/Body");o.create=function(e,t){t=(t=m.isElement(e)?t:e)||{},((e=m.isElement(e)?e:null)||t.render)&&m.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:c}},o=m.extend(n,t);if(e||o.render){var r={element:e,controller:a};o.render=m.extend(r,o.render)}return o.render&&o.render.controller&&(o.render=o.render.controller.create(o.render)),o.render&&(o.render.engine=o),o.world=t.world||i.create(o.world),o.pairs=l.create(),o.broadphase=o.broadphase.controller.create(o.broadphase),o.metrics=o.metrics||{extended:!1},o},o.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,a=e.world,c=e.timing,m=e.broadphase,f=[];c.timestamp+=t*c.timeScale;var v={timestamp:c.timestamp};d.trigger(e,"beforeUpdate",v);var y=u.allBodies(a),g=u.allConstraints(a);for(e.enableSleeping&&r.update(y,c.timeScale),o._bodiesApplyGravity(y,a.gravity),o._bodiesUpdate(y,t,c.timeScale,n,a.bounds),p.preSolveAll(y),i=0;i<e.constraintIterations;i++)p.solveAll(g,c.timeScale);p.postSolveAll(y),m.controller?(a.isModified&&m.controller.clear(m),m.controller.update(m,y,e,a.isModified),f=m.pairsList):f=y,a.isModified&&u.setModified(a,!1,!1,!0);var x=m.detector(f,e),h=e.pairs,b=c.timestamp;for(l.update(h,x,b),l.removeOld(h,b),e.enableSleeping&&r.afterCollisions(h.list,c.timeScale),h.collisionStart.length>0&&d.trigger(e,"collisionStart",{pairs:h.collisionStart}),s.preSolvePosition(h.list),i=0;i<e.positionIterations;i++)s.solvePosition(h.list,c.timeScale);for(s.postSolvePosition(y),p.preSolveAll(y),i=0;i<e.constraintIterations;i++)p.solveAll(g,c.timeScale);for(p.postSolveAll(y),s.preSolveVelocity(h.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(h.list,c.timeScale);return h.collisionActive.length>0&&d.trigger(e,"collisionActive",{pairs:h.collisionActive}),h.collisionEnd.length>0&&d.trigger(e,"collisionEnd",{pairs:h.collisionEnd}),o._bodiesClearForces(y),d.trigger(e,"afterUpdate",v),e},o.merge=function(e,t){if(m.extend(e,t),t.world){e.world=t.world,o.clear(e);for(var n=u.allBodies(e.world),i=0;i<n.length;i++){var s=n[i];r.set(s,!1),s.id=m.nextId()}}},o.clear=function(e){var t=e.world;l.clear(e.pairs);var n=e.broadphase;if(n.controller){var o=u.allBodies(t);n.controller.clear(n),n.controller.update(n,o,e,!0)}},o._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},o._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var o=0;o<e.length;o++){var i=e[o];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*n,i.force.x+=i.mass*t.x*n)}},o._bodiesUpdate=function(e,t,n,o,i){for(var r=0;r<e.length;r++){var s=e[r];s.isStatic||s.isSleeping||f.update(s,t,n,o)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var o={};t.exports=o;var i=e("./Common");o.on=function(e,t,n){for(var o,i=t.split(" "),r=0;r<i.length;r++)o=i[r],e.events=e.events||{},e.events[o]=e.events[o]||[],e.events[o].push(n);return n},o.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var o=t.split(" "),r=0;r<o.length;r++){var s=e.events[o[r]],a=[];if(n&&s)for(var l=0;l<s.length;l++)s[l]!==n&&a.push(s[l]);e.events[o[r]]=a}}else e.events={}},o.trigger=function(e,t,n){var o,r,s,a;if(e.events){n||(n={}),o=t.split(" ");for(var l=0;l<o.length;l++)if(r=o[l],s=e.events[r]){(a=i.clone(n,!1)).name=r,a.source=e;for(var c=0;c<s.length;c++)s[c].apply(e,[a])}}}},{"./Common":14}],17:[function(e,t,n){var o={};t.exports=o;var i=e("./Plugin"),r=e("./Common");o.name="matter-js",o.version="0.14.2",o.uses=[],o.used=[],o.use=function(){i.use(o,Array.prototype.slice.call(arguments))},o.before=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathBefore(o,e,t)},o.after=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathAfter(o,e,t)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Common");o.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=t.element.getAttribute("data-pixel-ratio")||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},o.setElement(t,t.element),t},o.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},o.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},o.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o._getRelativeMousePosition=function(e,t,n){var o,i,r=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,c=e.changedTouches;return c?(o=c[0].pageX-r.left-a,i=c[0].pageY-r.top-l):(o=e.pageX-r.left-a,i=e.pageY-r.top-l),{x:o/(t.clientWidth/(t.width||t.clientWidth)*n),y:i/(t.clientHeight/(t.height||t.clientHeight)*n)}}},{"../core/Common":14}],20:[function(e,t,n){var o={};t.exports=o;var i=e("./Common");o._registry={},o.register=function(e){if(o.isPlugin(e)||i.warn("Plugin.register:",o.toString(e),"does not implement all required fields."),e.name in o._registry){var t=o._registry[e.name],n=o.versionParse(e.version).number,r=o.versionParse(t.version).number;n>r?(i.warn("Plugin.register:",o.toString(t),"was upgraded to",o.toString(e)),o._registry[e.name]=e):n<r?i.warn("Plugin.register:",o.toString(t),"can not be downgraded to",o.toString(e)):e!==t&&i.warn("Plugin.register:",o.toString(e),"is already registered to different plugin object")}else o._registry[e.name]=e;return e},o.resolve=function(e){return o._registry[o.dependencyParse(e).name]},o.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},o.isPlugin=function(e){return e&&e.name&&e.version&&e.install},o.isUsed=function(e,t){return e.used.indexOf(t)>-1},o.isFor=function(e,t){var n=e.for&&o.dependencyParse(e.for);return!e.for||t.name===n.name&&o.versionSatisfies(t.version,n.range)},o.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=o.dependencies(e),r=i.topologicalSort(n),s=[],a=0;a<r.length;a+=1)if(r[a]!==e.name){var l=o.resolve(r[a]);l?o.isUsed(e,l.name)||(o.isFor(l,e)||(i.warn("Plugin.use:",o.toString(l),"is for",l.for,"but installed on",o.toString(e)+"."),l._warned=!0),l.install?l.install(e):(i.warn("Plugin.use:",o.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(s.push("🔶 "+o.toString(l)),delete l._warned):s.push("✅ "+o.toString(l)),e.used.push(l.name)):s.push("❌ "+r[a])}s.length>0&&i.info(s.join("  "))}else i.warn("Plugin.use:",o.toString(e),"does not specify any dependencies to install.")},o.dependencies=function(e,t){var n=o.dependencyParse(e),r=n.name;if(!(r in(t=t||{}))){e=o.resolve(e)||e,t[r]=i.map(e.uses||[],function(t){o.isPlugin(t)&&o.register(t);var r=o.dependencyParse(t),s=o.resolve(t);return s&&!o.versionSatisfies(s.version,r.range)?(i.warn("Plugin.dependencies:",o.toString(s),"does not satisfy",o.toString(r),"used by",o.toString(n)+"."),s._warned=!0,e._warned=!0):s||(i.warn("Plugin.dependencies:",o.toString(t),"used by",o.toString(n),"could not be resolved."),e._warned=!0),r.name});for(var s=0;s<t[r].length;s+=1)o.dependencies(t[r][s],t);return t}},o.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},o.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),o=n?e.substr(1):e,r=i.map(o.split("."),function(e){return Number(e)});return{isRange:n,version:o,range:e,operator:n?e[0]:"",parts:r,prerelease:t[1],number:1e8*r[0]+1e4*r[1]+r[2]}},o.versionSatisfies=function(e,t){t=t||"*";var n=o.versionParse(t),i=n.parts,r=o.versionParse(e),s=r.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return s[0]===i[0]&&s[1]===i[1]&&s[2]>=i[2];if("^"===n.operator)return i[0]>0?s[0]===i[0]&&r.number>=n.number:i[1]>0?s[1]===i[1]&&s[2]>=i[2]:s[2]===i[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,n){var o={};t.exports=o;var i=e("./Events"),r=e("./Engine"),s=e("./Common");!function(){var e,t,n;("undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e)||(e=function(e){n=setTimeout(function(){e(s.now())},1e3/60)},t=function(){clearTimeout(n)});o.create=function(e){var t=s.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},o.run=function(t,n){return void 0!==t.positionIterations&&(n=t,t=o.create()),function i(r){t.frameRequestId=e(i),r&&t.enabled&&o.tick(t,n,r)}(),t},o.tick=function(e,t,n){var o,s=t.timing,a=1,l={timestamp:s.timestamp};i.trigger(e,"beforeTick",l),i.trigger(t,"beforeTick",l),e.isFixed?o=e.delta:(o=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(o),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),a=(o=(o=(o=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:o)>e.deltaMax?e.deltaMax:o)/e.delta,e.delta=o),0!==e.timeScalePrev&&(a*=s.timeScale/e.timeScalePrev),0===s.timeScale&&(a=0),e.timeScalePrev=s.timeScale,e.correction=a,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),i.trigger(e,"tick",l),i.trigger(t,"tick",l),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),i.trigger(e,"beforeUpdate",l),r.update(t,o,a),i.trigger(e,"afterUpdate",l),t.render&&t.render.controller&&(i.trigger(e,"beforeRender",l),i.trigger(t,"beforeRender",l),t.render.controller.world(t.render),i.trigger(e,"afterRender",l),i.trigger(t,"afterRender",l)),i.trigger(e,"afterTick",l),i.trigger(t,"afterTick",l)},o.stop=function(e){t(e.frameRequestId)},o.start=function(e,t){o.run(e,t)}}()},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var o={};t.exports=o;var i=e("./Events");o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i],s=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(0===r.force.x&&0===r.force.y){var a=Math.min(r.motion,s),l=Math.max(r.motion,s);r.motion=o._minBias*a+(1-o._minBias)*l,r.sleepThreshold>0&&r.motion<o._motionSleepThreshold*n?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&o.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}else o.set(r,!1)}},o.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var s=r.collision,a=s.bodyA.parent,l=s.bodyB.parent;if(!(a.isSleeping&&l.isSleeping||a.isStatic||l.isStatic)&&(a.isSleeping||l.isSleeping)){var c=a.isSleeping&&!a.isStatic?a:l,d=c===a?l:a;!c.isStatic&&d.motion>o._motionWakeThreshold*n&&o.set(c,!1)}}}},o.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,n){var o={};t.exports=o;var i,r=e("../geometry/Vertices"),s=e("../core/Common"),a=e("../body/Body"),l=e("../geometry/Bounds"),c=e("../geometry/Vector");o.rectangle=function(e,t,n,o,i){i=i||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:r.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(i.chamfer){var c=i.chamfer;l.vertices=r.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete i.chamfer}return a.create(s.extend({},l,i))},o.trapezoid=function(e,t,n,o,i,l){l=l||{};var c,d=n*(i*=.5),u=d+(1-2*i)*n,p=u+d;c=i<.5?"L 0 0 L "+d+" "+-o+" L "+u+" "+-o+" L "+p+" 0":"L 0 0 L "+u+" "+-o+" L "+p+" 0";var m={label:"Trapezoid Body",position:{x:e,y:t},vertices:r.fromPath(c)};if(l.chamfer){var f=l.chamfer;m.vertices=r.chamfer(m.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return a.create(s.extend({},m,l))},o.circle=function(e,t,n,i,r){i=i||{};var a={label:"Circle Body",circleRadius:n};r=r||25;var l=Math.ceil(Math.max(10,Math.min(r,n)));return l%2==1&&(l+=1),o.polygon(e,t,l,n,s.extend({},a,i))},o.polygon=function(e,t,n,i,l){if(l=l||{},n<3)return o.circle(e,t,i,l);for(var c=2*Math.PI/n,d="",u=.5*c,p=0;p<n;p+=1){var m=u+p*c,f=Math.cos(m)*i,v=Math.sin(m)*i;d+="L "+f.toFixed(3)+" "+v.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:e,y:t},vertices:r.fromPath(d)};if(l.chamfer){var g=l.chamfer;y.vertices=r.chamfer(y.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return a.create(s.extend({},y,l))},o.fromVertices=function(e,t,n,o,d,u,p){var m,f,v,y,g,x,h,b,w;for(i||(i=s._requireGlobal("decomp","poly-decomp")),o=o||{},f=[],d=void 0!==d&&d,u=void 0!==u?u:.01,p=void 0!==p?p:10,i||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(n[0])||(n=[n]),b=0;b<n.length;b+=1)if(y=n[b],(v=r.isConvex(y))||!i)y=v?r.clockwiseSort(y):r.hull(y),f.push({position:{x:e,y:t},vertices:y});else{var S=y.map(function(e){return[e.x,e.y]});i.makeCCW(S),!1!==u&&i.removeCollinearPoints(S,u);var C=i.quickDecomp(S);for(g=0;g<C.length;g++){var A=C[g].map(function(e){return{x:e[0],y:e[1]}});p>0&&r.area(A)<p||f.push({position:r.centre(A),vertices:A})}}for(g=0;g<f.length;g++)f[g]=a.create(s.extend(f[g],o));if(d)for(g=0;g<f.length;g++){var P=f[g];for(x=g+1;x<f.length;x++){var B=f[x];if(l.overlaps(P.bounds,B.bounds)){var M=P.vertices,k=B.vertices;for(h=0;h<P.vertices.length;h++)for(w=0;w<B.vertices.length;w++){var I=c.magnitudeSquared(c.sub(M[(h+1)%M.length],k[w])),_=c.magnitudeSquared(c.sub(M[h],k[(w+1)%k.length]));I<5&&_<5&&(M[h].isInternal=!0,k[w].isInternal=!0)}}}}return f.length>1?(m=a.create(s.extend({parts:f.slice(0)},o)),a.setPosition(m,{x:e,y:t}),m):f[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var o={};t.exports=o;var i=e("../body/Composite"),r=e("../constraint/Constraint"),s=e("../core/Common"),a=e("../body/Body"),l=e("./Bodies");o.stack=function(e,t,n,o,r,s,l){for(var c,d=i.create({label:"Stack"}),u=e,p=t,m=0,f=0;f<o;f++){for(var v=0,y=0;y<n;y++){var g=l(u,p,y,f,c,m);if(g){var x=g.bounds.max.y-g.bounds.min.y,h=g.bounds.max.x-g.bounds.min.x;x>v&&(v=x),a.translate(g,{x:.5*h,y:.5*x}),u=g.bounds.max.x+r,i.addBody(d,g),c=g,m+=1}else u+=r}p+=v+s,u=e}return d},o.chain=function(e,t,n,o,a,l){for(var c=e.bodies,d=1;d<c.length;d++){var u=c[d-1],p=c[d],m=u.bounds.max.y-u.bounds.min.y,f=u.bounds.max.x-u.bounds.min.x,v=p.bounds.max.y-p.bounds.min.y,y={bodyA:u,pointA:{x:f*t,y:m*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*o,y:v*a}},g=s.extend(y,l);i.addConstraint(e,r.create(g))}return e.label+=" Chain",e},o.mesh=function(e,t,n,o,a){var l,c,d,u,p,m=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)d=m[c-1+l*t],u=m[c+l*t],i.addConstraint(e,r.create(s.extend({bodyA:d,bodyB:u},a)));if(l>0)for(c=0;c<t;c++)d=m[c+(l-1)*t],u=m[c+l*t],i.addConstraint(e,r.create(s.extend({bodyA:d,bodyB:u},a))),o&&c>0&&(p=m[c-1+(l-1)*t],i.addConstraint(e,r.create(s.extend({bodyA:p,bodyB:u},a)))),o&&c<t-1&&(p=m[c+1+(l-1)*t],i.addConstraint(e,r.create(s.extend({bodyA:p,bodyB:u},a))))}return e.label+=" Mesh",e},o.pyramid=function(e,t,n,i,r,s,l){return o.stack(e,t,n,i,r,s,function(t,o,s,c,d,u){var p=Math.min(i,Math.ceil(n/2)),m=d?d.bounds.max.x-d.bounds.min.x:0;if(!(c>p||s<(c=p-c)||s>n-1-c))return 1===u&&a.translate(d,{x:(s+(n%2==1?1:-1))*m,y:0}),l(e+(d?s*m:0)+s*r,o,s,c,d,u)})},o.newtonsCradle=function(e,t,n,o,s){for(var a=i.create({label:"Newtons Cradle"}),c=0;c<n;c++){var d=l.circle(e+c*(1.9*o),t+s,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),u=r.create({pointA:{x:e+c*(1.9*o),y:t},bodyB:d});i.addBody(a,d),i.addConstraint(a,u)}return a},o.car=function(e,t,n,o,s){var c=a.nextGroup(!0),d=.5*-n+20,u=.5*n-20,p=i.create({label:"Car"}),m=l.rectangle(e,t,n,o,{collisionFilter:{group:c},chamfer:{radius:.5*o},density:2e-4}),f=l.circle(e+d,t+0,s,{collisionFilter:{group:c},friction:.8}),v=l.circle(e+u,t+0,s,{collisionFilter:{group:c},friction:.8}),y=r.create({bodyB:m,pointB:{x:d,y:0},bodyA:f,stiffness:1,length:0}),g=r.create({bodyB:m,pointB:{x:u,y:0},bodyA:v,stiffness:1,length:0});return i.addBody(p,m),i.addBody(p,f),i.addBody(p,v),i.addConstraint(p,y),i.addConstraint(p,g),p},o.softBody=function(e,t,n,i,r,a,c,d,u,p){u=s.extend({inertia:1/0},u),p=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var m=o.stack(e,t,n,i,r,a,function(e,t){return l.circle(e,t,d,u)});return o.mesh(m,n,i,c,p),m.label="Soft Body",m}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("../core/Common");o.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var o=(n+1)%e.length,s=i.normalise({x:e[o].y-e[n].y,y:e[n].x-e[o].x}),a=0===s.y?1/0:s.x/s.y;t[a=a.toFixed(3).toString()]=s}return r.values(t)},o.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),o=Math.sin(t),i=0;i<e.length;i++){var r,s=e[i];r=s.x*n-s.y*o,s.y=s.x*o+s.y*n,s.x=r}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var o={};t.exports=o,o.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&o.update(t,e),t},o.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var o=0;o<t.length;o++){var i=t[o];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},o.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},o.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},o.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},o.shift=function(e,t){var n=e.max.x-e.min.x,o=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+o}},{}],27:[function(e,t,n){var o={};t.exports=o;e("../geometry/Bounds");var i=e("../core/Common");o.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,r,s,a,l,c,d,u,p,m,f,v=[],y=0,g=0,x=0;t=t||15;var h=function(e,t,n){var o=n%2==1&&n>1;if(!p||e!=p.x||t!=p.y){p&&o?(m=p.x,f=p.y):(m=0,f=0);var i={x:m+e,y:f+t};!o&&p||(p=i),v.push(i),g=m+e,x=f+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":g=e.x,x=e.y;break;case"H":g=e.x;break;case"V":x=e.y}h(g,x,e.pathSegType)}};for(o._svgPathToAbsolute(e),s=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(d=c.concat();y<s;){if((l=c[e.getPathSegAtLength(y)])!=u){for(;d.length&&d[0]!=l;)b(d.shift());u=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(y),h(a.x,a.y,0)}y+=t}for(n=0,r=d.length;n<r;++n)b(d[n]);return v},o._svgPathToAbsolute=function(e){for(var t,n,o,i,r,s,a=e.pathSegList,l=0,c=0,d=a.numberOfItems,u=0;u<d;++u){var p=a.getItem(u),m=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(m))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(o=l+p.x1),"x2"in p&&(r=l+p.x2),"y1"in p&&(i=c+p.y1),"y2"in p&&(s=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),m){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,c),u);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,c),u);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),u);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),u);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,o,i,r,s),u);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,r,s),u);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,o,i),u);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),u);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),u);break;case"z":case"Z":l=t,c=n}"M"!=m&&"m"!=m||(t=l,n=c)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var o={};t.exports=o,o.create=function(e,t){return{x:e||0,y:t||0}},o.clone=function(e){return{x:e.x,y:e.y}},o.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},o.rotate=function(e,t,n){var o=Math.cos(t),i=Math.sin(t);n||(n={});var r=e.x*o-e.y*i;return n.y=e.x*i+e.y*o,n.x=r,n},o.rotateAbout=function(e,t,n,o){var i=Math.cos(t),r=Math.sin(t);o||(o={});var s=n.x+((e.x-n.x)*i-(e.y-n.y)*r);return o.y=n.y+((e.x-n.x)*r+(e.y-n.y)*i),o.x=s,o},o.normalise=function(e){var t=o.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},o.dot=function(e,t){return e.x*t.x+e.y*t.y},o.cross=function(e,t){return e.x*t.y-e.y*t.x},o.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},o.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},o.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},o.mult=function(e,t){return{x:e.x*t,y:e.y*t}},o.div=function(e,t){return{x:e.x/t,y:e.y/t}},o.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},o.neg=function(e){return{x:-e.x,y:-e.y}},o.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},o._temp=[o.create(),o.create(),o.create(),o.create(),o.create(),o.create()]},{}],29:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("../core/Common");o.create=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o],r={x:i.x,y:i.y,index:o,body:t,isInternal:!1};n.push(r)}return n},o.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(e,t,o){n.push({x:parseFloat(t),y:parseFloat(o)})}),o.create(n,t)},o.centre=function(e){for(var t,n,r,s=o.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)r=(l+1)%e.length,t=i.cross(e[l],e[r]),n=i.mult(i.add(e[l],e[r]),t),a=i.add(a,n);return i.div(a,6*s)},o.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},o.area=function(e,t){for(var n=0,o=e.length-1,i=0;i<e.length;i++)n+=(e[o].x-e[i].x)*(e[o].y+e[i].y),o=i;return t?n/2:Math.abs(n)/2},o.inertia=function(e,t){for(var n,o,r=0,s=0,a=e,l=0;l<a.length;l++)o=(l+1)%a.length,r+=(n=Math.abs(i.cross(a[o],a[l])))*(i.dot(a[o],a[o])+i.dot(a[o],a[l])+i.dot(a[l],a[l])),s+=n;return t/6*(r/s)},o.translate=function(e,t,n){var o;if(n)for(o=0;o<e.length;o++)e[o].x+=t.x*n,e[o].y+=t.y*n;else for(o=0;o<e.length;o++)e[o].x+=t.x,e[o].y+=t.y;return e},o.rotate=function(e,t,n){if(0!==t){for(var o=Math.cos(t),i=Math.sin(t),r=0;r<e.length;r++){var s=e[r],a=s.x-n.x,l=s.y-n.y;s.x=n.x+(a*o-l*i),s.y=n.y+(a*i+l*o)}return e}},o.contains=function(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=e[(n+1)%e.length];if((t.x-o.x)*(i.y-o.y)+(t.y-o.y)*(o.x-i.x)>0)return!1}return!0},o.scale=function(e,t,n,r){if(1===t&&1===n)return e;var s,a;r=r||o.centre(e);for(var l=0;l<e.length;l++)s=e[l],a=i.sub(s,r),e[l].x=r.x+a.x*t,e[l].y=r.y+a.y*n;return e},o.chamfer=function(e,t,n,o,s){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,o=o||2,s=s||14;for(var a=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],d=e[l],u=e[(l+1)%e.length],p=t[l<t.length?l:t.length-1];if(0!==p){var m=i.normalise({x:d.y-c.y,y:c.x-d.x}),f=i.normalise({x:u.y-d.y,y:d.x-u.x}),v=Math.sqrt(2*Math.pow(p,2)),y=i.mult(r.clone(m),p),g=i.normalise(i.mult(i.add(m,f),.5)),x=i.sub(d,i.mult(g,v)),h=n;-1===n&&(h=1.75*Math.pow(p,.32)),(h=r.clamp(h,o,s))%2==1&&(h+=1);for(var b=Math.acos(i.dot(m,f))/h,w=0;w<h;w++)a.push(i.add(i.rotate(y,b*w),x))}else a.push(d)}return a},o.clockwiseSort=function(e){var t=o.mean(e);return e.sort(function(e,n){return i.angle(t,e)-i.angle(t,n)}),e},o.isConvex=function(e){var t,n,o,i,r=0,s=e.length;if(s<3)return null;for(t=0;t<s;t++)if(o=(t+2)%s,i=(e[n=(t+1)%s].x-e[t].x)*(e[o].y-e[n].y),(i-=(e[n].y-e[t].y)*(e[o].x-e[n].x))<0?r|=1:i>0&&(r|=2),3===r)return!1;return 0!==r||null},o.hull=function(e){var t,n,o=[],r=[];for((e=e.slice(0)).sort(function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y}),n=0;n<e.length;n+=1){for(t=e[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}return o.pop(),r.pop(),o.concat(r)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var o=t.exports=e("../core/Matter");o.Body=e("../body/Body"),o.Composite=e("../body/Composite"),o.World=e("../body/World"),o.Contact=e("../collision/Contact"),o.Detector=e("../collision/Detector"),o.Grid=e("../collision/Grid"),o.Pairs=e("../collision/Pairs"),o.Pair=e("../collision/Pair"),o.Query=e("../collision/Query"),o.Resolver=e("../collision/Resolver"),o.SAT=e("../collision/SAT"),o.Constraint=e("../constraint/Constraint"),o.MouseConstraint=e("../constraint/MouseConstraint"),o.Common=e("../core/Common"),o.Engine=e("../core/Engine"),o.Events=e("../core/Events"),o.Mouse=e("../core/Mouse"),o.Runner=e("../core/Runner"),o.Sleeping=e("../core/Sleeping"),o.Plugin=e("../core/Plugin"),o.Bodies=e("../factory/Bodies"),o.Composites=e("../factory/Composites"),o.Axes=e("../geometry/Axes"),o.Bounds=e("../geometry/Bounds"),o.Svg=e("../geometry/Svg"),o.Vector=e("../geometry/Vector"),o.Vertices=e("../geometry/Vertices"),o.Render=e("../render/Render"),o.RenderPixi=e("../render/RenderPixi"),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,o.Engine.run=o.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Common"),r=e("../body/Composite"),s=e("../geometry/Bounds"),a=e("../core/Events"),l=e("../collision/Grid"),c=e("../geometry/Vector"),d=e("../core/Mouse");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(i.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={controller:o,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},r=i.extend(t,e);return r.canvas&&(r.canvas.width=r.options.width||r.canvas.width,r.canvas.height=r.options.height||r.canvas.height),r.mouse=e.mouse,r.engine=e.engine,r.canvas=r.canvas||n(r.options.width,r.options.height),r.context=r.canvas.getContext("2d"),r.textures={},r.bounds=r.bounds||{min:{x:0,y:0},max:{x:r.canvas.width,y:r.canvas.height}},1!==r.options.pixelRatio&&o.setPixelRatio(r,r.options.pixelRatio),i.isElement(r.element)?r.element.appendChild(r.canvas):r.canvas.parentNode||i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),r},o.run=function(t){!function n(i){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.setPixelRatio=function(e,t){var n=e.options,o=e.canvas;"auto"===t&&(t=u(o)),n.pixelRatio=t,o.setAttribute("data-pixel-ratio",t),o.width=n.width*t,o.height=n.height*t,o.style.width=n.width+"px",o.style.height=n.height+"px",e.context.scale(t,t)},o.lookAt=function(e,t,n,o){o=void 0===o||o,t=i.isArray(t)?t:[t],n=n||{x:0,y:0};for(var r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},s=0;s<t.length;s+=1){var a=t[s],l=a.bounds?a.bounds.min:a.min||a.position||a,c=a.bounds?a.bounds.max:a.max||a.position||a;l&&c&&(l.x<r.min.x&&(r.min.x=l.x),c.x>r.max.x&&(r.max.x=c.x),l.y<r.min.y&&(r.min.y=l.y),c.y>r.max.y&&(r.max.y=c.y))}var u=r.max.x-r.min.x+2*n.x,p=r.max.y-r.min.y+2*n.y,m=e.canvas.height,f=e.canvas.width/m,v=u/p,y=1,g=1;v>f?g=v/f:y=f/v,e.options.hasBounds=!0,e.bounds.min.x=r.min.x,e.bounds.max.x=r.min.x+u*y,e.bounds.min.y=r.min.y,e.bounds.max.y=r.min.y+p*g,o&&(e.bounds.min.x+=.5*u-u*y*.5,e.bounds.max.x+=.5*u-u*y*.5,e.bounds.min.y+=.5*p-p*g*.5,e.bounds.max.y+=.5*p-p*g*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(d.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),d.setOffset(e.mouse,e.bounds.min))},o.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,o=t/e.options.width,i=n/e.options.height;e.context.scale(1/o,1/i),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},o.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},o.world=function(e){var t,n=e.engine,i=n.world,u=e.canvas,p=e.context,f=e.options,v=r.allBodies(i),y=r.allConstraints(i),g=f.wireframes?f.wireframeBackground:f.background,x=[],h=[],b={timestamp:n.timing.timestamp};if(a.trigger(e,"beforeRender",b),e.currentBackground!==g&&m(e,g),p.globalCompositeOperation="source-in",p.fillStyle="transparent",p.fillRect(0,0,u.width,u.height),p.globalCompositeOperation="source-over",f.hasBounds){for(t=0;t<v.length;t++){var w=v[t];s.overlaps(w.bounds,e.bounds)&&x.push(w)}for(t=0;t<y.length;t++){var S=y[t],C=S.bodyA,A=S.bodyB,P=S.pointA,B=S.pointB;C&&(P=c.add(C.position,S.pointA)),A&&(B=c.add(A.position,S.pointB)),P&&B&&((s.contains(e.bounds,P)||s.contains(e.bounds,B))&&h.push(S))}o.startViewTransform(e),e.mouse&&(d.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),d.setOffset(e.mouse,e.bounds.min))}else h=y,x=v;!f.wireframes||n.enableSleeping&&f.showSleeping?o.bodies(e,x,p):(f.showConvexHulls&&o.bodyConvexHulls(e,x,p),o.bodyWireframes(e,x,p)),f.showBounds&&o.bodyBounds(e,x,p),(f.showAxes||f.showAngleIndicator)&&o.bodyAxes(e,x,p),f.showPositions&&o.bodyPositions(e,x,p),f.showVelocity&&o.bodyVelocity(e,x,p),f.showIds&&o.bodyIds(e,x,p),f.showSeparations&&o.separations(e,n.pairs.list,p),f.showCollisions&&o.collisions(e,n.pairs.list,p),f.showVertexNumbers&&o.vertexNumbers(e,x,p),f.showMousePosition&&o.mousePosition(e,e.mouse,p),o.constraints(h,p),f.showBroadphase&&n.broadphase.controller===l&&o.grid(e,n.broadphase,p),f.showDebug&&o.debug(e,p),f.hasBounds&&o.endViewTransform(e),a.trigger(e,"afterRender",b)},o.debug=function(e,t){var n=t,o=e.engine,i=o.world,s=o.metrics,a=e.options;r.allBodies(i);if(o.timing.timestamp-(e.debugTimestamp||0)>=500){var l="";s.timing&&(l+="fps: "+Math.round(s.timing.fps)+"    "),e.debugString=l,e.debugTimestamp=o.timing.timestamp}if(e.debugString){n.font="12px Arial",a.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var c=e.debugString.split("\n"),d=0;d<c.length;d++)n.fillText(c[d],50,50+18*d)}},o.constraints=function(e,t){for(var n=t,o=0;o<e.length;o++){var r=e[o];if(r.render.visible&&r.pointA&&r.pointB){var s,a,l=r.bodyA,d=r.bodyB;if(s=l?c.add(l.position,r.pointA):r.pointA,"pin"===r.render.type)n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath();else{if(a=d?c.add(d.position,r.pointB):r.pointB,n.beginPath(),n.moveTo(s.x,s.y),"spring"===r.render.type)for(var u,p=c.sub(a,s),m=c.perp(c.normalise(p)),f=Math.ceil(i.clamp(r.length/5,12,20)),v=1;v<f;v+=1)u=v%2==0?1:-1,n.lineTo(s.x+p.x*(v/f)+m.x*u*4,s.y+p.y*(v/f)+m.y*u*4);n.lineTo(a.x,a.y)}r.render.lineWidth&&(n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()),r.render.anchors&&(n.fillStyle=r.render.strokeStyle,n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},o.bodyShadows=function(e,t,n){for(var o=n,i=(e.engine,0);i<t.length;i++){var r=t[i];if(r.render.visible){if(r.circleRadius)o.beginPath(),o.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI),o.closePath();else{o.beginPath(),o.moveTo(r.vertices[0].x,r.vertices[0].y);for(var s=1;s<r.vertices.length;s++)o.lineTo(r.vertices[s].x,r.vertices[s].y);o.closePath()}var a=r.position.x-.5*e.options.width,l=r.position.y-.2*e.options.height,c=Math.abs(a)+Math.abs(l);o.shadowColor="rgba(0,0,0,0.15)",o.shadowOffsetX=.05*a,o.shadowOffsetY=.05*l,o.shadowBlur=1+12*Math.min(1,c/1e3),o.fill(),o.shadowColor=null,o.shadowOffsetX=null,o.shadowOffsetY=null,o.shadowBlur=null}}},o.bodies=function(e,t,n){var o,i,r,s,a=n,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(r=0;r<t.length;r++)if((o=t[r]).render.visible)for(s=o.parts.length>1?1:0;s<o.parts.length;s++)if((i=o.parts[s]).render.visible){if(l.showSleeping&&o.isSleeping?a.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(a.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var d=i.render.sprite,u=p(e,d.texture);a.translate(i.position.x,i.position.y),a.rotate(i.angle),a.drawImage(u,u.width*-d.xOffset*d.xScale,u.height*-d.yOffset*d.yScale,u.width*d.xScale,u.height*d.yScale),a.rotate(-i.angle),a.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)a.beginPath(),a.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(i.vertices[0].x,i.vertices[0].y);for(var m=1;m<i.vertices.length;m++)!i.vertices[m-1].isInternal||c?a.lineTo(i.vertices[m].x,i.vertices[m].y):a.moveTo(i.vertices[m].x,i.vertices[m].y),i.vertices[m].isInternal&&!c&&a.moveTo(i.vertices[(m+1)%i.vertices.length].x,i.vertices[(m+1)%i.vertices.length].y);a.lineTo(i.vertices[0].x,i.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=i.render.fillStyle,i.render.lineWidth&&(a.lineWidth=i.render.lineWidth,a.strokeStyle=i.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},o.bodyWireframes=function(e,t,n){var o,i,r,s,a,l=n,c=e.options.showInternalEdges;for(l.beginPath(),r=0;r<t.length;r++)if((o=t[r]).render.visible)for(a=o.parts.length>1?1:0;a<o.parts.length;a++){for(i=o.parts[a],l.moveTo(i.vertices[0].x,i.vertices[0].y),s=1;s<i.vertices.length;s++)!i.vertices[s-1].isInternal||c?l.lineTo(i.vertices[s].x,i.vertices[s].y):l.moveTo(i.vertices[s].x,i.vertices[s].y),i.vertices[s].isInternal&&!c&&l.moveTo(i.vertices[(s+1)%i.vertices.length].x,i.vertices[(s+1)%i.vertices.length].y);l.lineTo(i.vertices[0].x,i.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},o.bodyConvexHulls=function(e,t,n){var o,i,r,s=n;for(s.beginPath(),i=0;i<t.length;i++)if((o=t[i]).render.visible&&1!==o.parts.length){for(s.moveTo(o.vertices[0].x,o.vertices[0].y),r=1;r<o.vertices.length;r++)s.lineTo(o.vertices[r].x,o.vertices[r].y);s.lineTo(o.vertices[0].x,o.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},o.vertexNumbers=function(e,t,n){var o,i,r,s=n;for(o=0;o<t.length;o++){var a=t[o].parts;for(r=a.length>1?1:0;r<a.length;r++){var l=a[r];for(i=0;i<l.vertices.length;i++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(o+"_"+i,l.position.x+.8*(l.vertices[i].x-l.position.x),l.position.y+.8*(l.vertices[i].y-l.position.y))}}},o.mousePosition=function(e,t,n){var o=n;o.fillStyle="rgba(255,255,255,0.8)",o.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},o.bodyBounds=function(e,t,n){var o=n,i=(e.engine,e.options);o.beginPath();for(var r=0;r<t.length;r++){if(t[r].render.visible)for(var s=t[r].parts,a=s.length>1?1:0;a<s.length;a++){var l=s[a];o.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}}i.wireframes?o.strokeStyle="rgba(255,255,255,0.08)":o.strokeStyle="rgba(0,0,0,0.1)",o.lineWidth=1,o.stroke()},o.bodyAxes=function(e,t,n){var o,i,r,s,a=n,l=(e.engine,e.options);for(a.beginPath(),i=0;i<t.length;i++){var c=t[i],d=c.parts;if(c.render.visible)if(l.showAxes)for(r=d.length>1?1:0;r<d.length;r++)for(o=d[r],s=0;s<o.axes.length;s++){var u=o.axes[s];a.moveTo(o.position.x,o.position.y),a.lineTo(o.position.x+20*u.x,o.position.y+20*u.y)}else for(r=d.length>1?1:0;r<d.length;r++)for(o=d[r],s=0;s<o.axes.length;s++)a.moveTo(o.position.x,o.position.y),a.lineTo((o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},o.bodyPositions=function(e,t,n){var o,i,r,s,a=n,l=(e.engine,e.options);for(a.beginPath(),r=0;r<t.length;r++)if((o=t[r]).render.visible)for(s=0;s<o.parts.length;s++)i=o.parts[s],a.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),r=0;r<t.length;r++)(o=t[r]).render.visible&&(a.arc(o.positionPrev.x,o.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},o.bodyVelocity=function(e,t,n){var o=n;o.beginPath();for(var i=0;i<t.length;i++){var r=t[i];r.render.visible&&(o.moveTo(r.position.x,r.position.y),o.lineTo(r.position.x+2*(r.position.x-r.positionPrev.x),r.position.y+2*(r.position.y-r.positionPrev.y)))}o.lineWidth=3,o.strokeStyle="cornflowerblue",o.stroke()},o.bodyIds=function(e,t,n){var o,i,r=n;for(o=0;o<t.length;o++)if(t[o].render.visible){var s=t[o].parts;for(i=s.length>1?1:0;i<s.length;i++){var a=s[i];r.font="12px Arial",r.fillStyle="rgba(255,255,255,0.5)",r.fillText(a.id,a.position.x+10,a.position.y-10)}}},o.collisions=function(e,t,n){var o,i,r,s,a=n,l=e.options;for(a.beginPath(),r=0;r<t.length;r++)if((o=t[r]).isActive)for(i=o.collision,s=0;s<o.activeContacts.length;s++){var c=o.activeContacts[s].vertex;a.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),r=0;r<t.length;r++)if((o=t[r]).isActive&&(i=o.collision,o.activeContacts.length>0)){var d=o.activeContacts[0].vertex.x,u=o.activeContacts[0].vertex.y;2===o.activeContacts.length&&(d=(o.activeContacts[0].vertex.x+o.activeContacts[1].vertex.x)/2,u=(o.activeContacts[0].vertex.y+o.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?a.moveTo(d-8*i.normal.x,u-8*i.normal.y):a.moveTo(d+8*i.normal.x,u+8*i.normal.y),a.lineTo(d,u)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},o.separations=function(e,t,n){var o,i,r,s,a,l=n,c=e.options;for(l.beginPath(),a=0;a<t.length;a++)if((o=t[a]).isActive){r=(i=o.collision).bodyA;var d=1;(s=i.bodyB).isStatic||r.isStatic||(d=.5),s.isStatic&&(d=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x-i.penetration.x*d,s.position.y-i.penetration.y*d),d=1,s.isStatic||r.isStatic||(d=.5),r.isStatic&&(d=0),l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x+i.penetration.x*d,r.position.y+i.penetration.y*d)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},o.grid=function(e,t,n){var o=n;e.options.wireframes?o.strokeStyle="rgba(255,180,0,0.1)":o.strokeStyle="rgba(255,180,0,0.5)",o.beginPath();for(var r=i.keys(t.buckets),s=0;s<r.length;s++){var a=r[s];if(!(t.buckets[a].length<2)){var l=a.split(/C|R/);o.rect(.5+parseInt(l[1],10)*t.bucketWidth,.5+parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}o.lineWidth=1,o.stroke()},o.inspector=function(e,t){e.engine;var n,o=e.selected,i=e.render,r=i.options;if(r.hasBounds){var s=i.bounds.max.x-i.bounds.min.x,a=i.bounds.max.y-i.bounds.min.y,l=s/i.options.width,c=a/i.options.height;t.scale(1/l,1/c),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var d=0;d<o.length;d++){var u=o[d].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),u.type){case"body":n=u.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var p=u.pointA;u.bodyA&&(p=u.pointB),t.beginPath(),t.arc(p.x,p.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),r.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},u=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},p=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},m=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Bounds"),r=e("../body/Composite"),s=e("../core/Common"),a=e("../core/Events"),l=e("../geometry/Vector");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(s.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){s.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:o,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=s.extend(t,e),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},a.on(n.engine,"beforeUpdate",function(){o.clear(n)}),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),s.isElement(n.element)?n.element.appendChild(n.canvas):s.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},o.run=function(t){!function n(i){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var o=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=o,o&&t.addChildAt(o,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},o.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),o=e.sprites["bg-0"];if(n){var i=s.colorToNumber(t);e.renderer.backgroundColor=i,o&&e.container.removeChild(o)}else if(!o){var r=d(e,t);(o=e.sprites["bg-0"]=new PIXI.Sprite(r)).position.x=0,o.position.y=0,e.container.addChildAt(o,0)}e.currentBackground=t}},o.world=function(e){var t,n=e.engine.world,s=e.renderer,a=e.container,c=e.options,d=r.allBodies(n),u=r.allConstraints(n),p=[];c.wireframes?o.setBackground(e,c.wireframeBackground):o.setBackground(e,c.background);var m=e.bounds.max.x-e.bounds.min.x,f=e.bounds.max.y-e.bounds.min.y,v=m/e.options.width,y=f/e.options.height;if(c.hasBounds){for(t=0;t<d.length;t++){var g=d[t];g.render.sprite.visible=i.overlaps(g.bounds,e.bounds)}for(t=0;t<u.length;t++){var x=u[t],h=x.bodyA,b=x.bodyB,w=x.pointA,S=x.pointB;h&&(w=l.add(h.position,x.pointA)),b&&(S=l.add(b.position,x.pointB)),w&&S&&((i.contains(e.bounds,w)||i.contains(e.bounds,S))&&p.push(x))}a.scale.set(1/v,1/y),a.position.set(-e.bounds.min.x*(1/v),-e.bounds.min.y*(1/y))}else p=u;for(t=0;t<d.length;t++)o.body(e,d[t]);for(t=0;t<p.length;t++)o.constraint(e,p[t]);s.render(a)},o.constraint=function(e,t){e.engine;var n=t.bodyA,o=t.bodyB,i=t.pointA,r=t.pointB,a=e.container,l=t.render,c="c-"+t.id,d=e.primitives[c];d||(d=e.primitives[c]=new PIXI.Graphics),l.visible&&t.pointA&&t.pointB?(-1===s.indexOf(a.children,d)&&a.addChild(d),d.clear(),d.beginFill(0,0),d.lineStyle(l.lineWidth,s.colorToNumber(l.strokeStyle),1),n?d.moveTo(n.position.x+i.x,n.position.y+i.y):d.moveTo(i.x,i.y),o?d.lineTo(o.position.x+r.x,o.position.y+r.y):d.lineTo(r.x,r.y),d.endFill()):d.clear()},o.body=function(e,t){e.engine;var o=t.render;if(o.visible)if(o.sprite&&o.sprite.texture){var i="b-"+t.id,r=e.sprites[i],a=e.spriteContainer;r||(r=e.sprites[i]=n(e,t)),-1===s.indexOf(a.children,r)&&a.addChild(r),r.position.x=t.position.x,r.position.y=t.position.y,r.rotation=t.angle,r.scale.x=o.sprite.xScale||1,r.scale.y=o.sprite.yScale||1}else{var l="b-"+t.id,d=e.primitives[l],u=e.container;d||((d=e.primitives[l]=c(e,t)).initialAngle=t.angle),-1===s.indexOf(u.children,d)&&u.addChild(d),d.position.x=t.position.x,d.position.y=t.position.y,d.rotation=t.angle-d.initialAngle}};var n=function(e,t){var n=t.render.sprite.texture,o=d(e,n),i=new PIXI.Sprite(o);return i.anchor.x=t.render.sprite.xOffset,i.anchor.y=t.render.sprite.yOffset,i},c=function(e,t){var n,o=t.render,i=e.options,r=new PIXI.Graphics,a=s.colorToNumber(o.fillStyle),l=s.colorToNumber(o.strokeStyle),c=s.colorToNumber(o.strokeStyle),d=s.colorToNumber("#bbb"),u=s.colorToNumber("#CD5C5C");r.clear();for(var p=t.parts.length>1?1:0;p<t.parts.length;p++){n=t.parts[p],i.wireframes?(r.beginFill(0,0),r.lineStyle(1,d,1)):(r.beginFill(a,1),r.lineStyle(o.lineWidth,l,1)),r.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var m=1;m<n.vertices.length;m++)r.lineTo(n.vertices[m].x-t.position.x,n.vertices[m].y-t.position.y);r.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),r.endFill(),(i.showAngleIndicator||i.showAxes)&&(r.beginFill(0,0),i.wireframes?r.lineStyle(1,u,1):r.lineStyle(1,c),r.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),r.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),r.endFill())}return r},d=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)});
},{}],"eWcG":[function(require,module,exports) {
"use strict";var t=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),e=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var a in n)"default"!==a&&Object.hasOwnProperty.call(n,a)&&t(r,n,a);return e(r,n),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.startPhysics=void 0;var r=n(require("matter-js")),a=r.Engine,c=r.World,i=r.Vector,o=r.Bodies,s=a.create({positionIterations:5,constraintIterations:5}),l=document.getElementById("scratch"),d="font-size: 18px; alignment-baseline: middle; text-anchor: middle;";function u(t){l.innerHTML='<text id="scratchText" style="'.concat(d,'">').concat(t,"</text>");var e=document.getElementById("scratchText").getBBox();return{width:e.width,height:e.height}}function h(t,e){if(0!=t.length){var n=1/0,r=t[0];return t.forEach(function(t){t.vertices.forEach(function(a){var c=i.magnitude(i.sub(a,e));c<n&&!t.pulse&&(r=t,n=c)})}),r}}function f(t){var e=[],n=o.rectangle(200,437.5,400,6,{isStatic:!0}),i=o.rectangle(0,200,6,400,{isStatic:!0}),l=o.rectangle(350,200,6,400,{isStatic:!0}),f=o.rectangle(50,376.875,300,20,{isStatic:!0,angle:.15*Math.PI}),g=o.rectangle(300,376.875,300,20,{isStatic:!0,angle:.85*Math.PI});c.add(s.world,[n,i,l,f,g]),a.run(s);return r.Events.on(s,"afterUpdate",function(){var n=e.map(function(t,e){t.vertices;var n,r=t.position,a=t.angle,c="M ".concat(-.5*t._width," ").concat(-.5*t._height," l ").concat(t._width," 0 l 0 ").concat(t._height," l ").concat(-t._width," 0 z"),i=t.pulse?"rgba(255,230,230)":"white",o="fill: ".concat(i,"; fill-opacity: 1; stroke: grey; stroke-width: 1px; stroke-opacity: 0.5"),s=a*(180/Math.PI),l="translate(".concat(r.x,", ").concat(r.y,") rotate(").concat(s,")");return n='<path d="'.concat(c,'" style="').concat(o,'"></path>'),'\n      <g transform="'.concat(l,'" >\n        ').concat(n,'\n        <text style="').concat(d,'">').concat(t.label,"</text>\n      </g>\n    ")});t.setText('\n    <svg style="'.concat(" shape-rendering: geometricPrecision;",'">').concat(n,"</svg>\n  "))}),{setGravity:function(t){s.world.gravity.y=t},addWord:function(t){if(t){var n=t[0],r=u(n),a=r.width,i=r.height;a+=10,i+=5;var l=o.rectangle(100+100*Math.random(),200*-Math.random(),a,i);return l._width=a,l._height=i,l.label=n,l.torque=Math.random()-.5,l.force={x:.01,y:0},l.data=t,e.push(l),c.add(s.world,l),l}},removeWord:function(){var t=h(e,{x:175,y:437.5});if(t)return r.Body.setVelocity(t,{x:0,y:-5}),t.pulse=!0,window.setTimeout(function(){c.remove(s.world,t),e=e.filter(function(e){return e!=t})},200),t.data}}}exports.startPhysics=f;
},{"matter-js":"KGTz"}],"NkMQ":[function(require,module,exports) {
"use strict";function t(t){return t.split("~")}function e(e){var r=e.split("\n");r.shift();return r.filter(function(t){return!t.startsWith("Advertisement")}).map(t)}function r(t){return t.split("ARTICLE:").map(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processTDV=void 0,exports.processTDV=r;
},{}],"zo2T":[function(require,module,exports) {
"use strict";function e(e,r){return a(e)||o(e,r)||n(e,r)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function a(e){if(Array.isArray(e))return e}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var c=i(require("two.js")),u=require("./src/render"),s=require("./src/physics"),l=require("./src/process"),d=document.getElementById("draw-animation"),f=window.innerWidth,m=window.innerHeight;window.width=f,window.height=m;var w=new c.default({fullscreen:!0,autostart:!0}).appendTo(d);w.renderer.domElement.setAttribute("viewBox","-0 -0 1000 1050"),window.two=w;var h=new c.default.Vector(200,200),p=new c.default.Vector(200,750),v=new c.default.Vector(500,750),g=new c.default.Vector(800,750),y=new c.default.Vector(950,350),b=new c.default.Vector(0,870),x=new c.default.Vector(0,905),k=new c.default.Vector(0,940),T=new c.default.Vector(0,905),V=u.makeConnector(new c.default.Vector(200,400),p,"1",!0,"wiggle"),W=u.makeConnector(p,v,"2",!1,"l"),C=u.makeConnector(v,g,"3",!1,"loop"),I=u.makeConnector(g,y,"4"),S=u.makeConnector(p,b,"t1",!0),A=u.makeConnector(v,x,"t2",!0),j=u.makeConnector(g,k,"t3",!0),B=u.makeGradient(T.x,T.y,200),D=u.makeHopper(h,350,"a"),E=u.makeBox(p,100,"b");E.setText("Clean & Trim Punctu-ation");var M=u.makeBox(v,100,"c");M.setText("Not Capitalized?");var _=u.makeBox(g,100,"d");_.setText("Seen before in Archives?");var F=u.makeBox(new c.default.Vector(900,350),150,"e"),L=s.startPhysics(D),O=L.addWord,z=L.removeWord,q=L.setGravity;function P(e){return'<p class="word-bank">'.concat(e.map(function(e){return'<span class="word-span">'.concat(e,"</span>&nbsp;")}).join(" "),"</p>")}var G=["Tweeted:"];function H(e,t){var n=e.indexOf(t);return-1===n?e:e.slice(0,n)+e.slice(n+t.length)}function N(e,t){var n=t.split(""),r=e;return n.forEach(function(e){r=H(r,e)}),r}F.setText(P(G));var U=new c.default.Text("",490,70,{size:105,weight:100,family:"Libre Franklin",alignment:"left"}),$=new c.default.Text("loading...         ",500,160,{size:60,weight:100,family:"Libre Franklin",alignment:"left"}),J=new c.default.Text("",500,210,{size:30,weight:100,family:"Libre Franklin",alignment:"left"}),K=w.makeGroup(U,$,J);function Q(t){var n=new Date,r=(new Date).getTimezoneOffset();n.setMinutes(n.getMinutes()+r);n.setMinutes(n.getMinutes()+-240+60*t);var o=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),a=new Intl.DateTimeFormat("en",{month:"long"}).format(n),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n),c="".concat(a,"-").concat(i,"-").concat(o);U.value="".concat(a," ").concat(i);var u=[],s=[],d=0,f=0,m=0;function h(){$.value="article ".concat(d+1,"/").concat(d+1+s.length),J.value="words processed ".concat(f.toLocaleString()," / ").concat(m.toLocaleString()),w.update(),f++,0==u.length&&(u=s.shift(),d++,console.log("processing article "+s));var t=u.shift();O(t);var n=e(z(),5),r=n[0],o=n[1],a=n[2],i=(n[3],n[4]);return V.sendWord(r,h).then(function(){if(r.match("[@/#_-]"))throw S.sendWord(r),"done";return S.sendWord(N(r,o)),W.sendWord(o)}).then(function(){if(a)return C.sendWord(a);throw A.sendWord(o),"done"}).then(function(){return i?I.sendWord(i).then(function(){G.push(i),F.setText(P(G))}):j.sendWord(a)})}w.update();var p="https://api.shaderbooth.com:3002/static/records/".concat(c,".txt");fetch(p).then(function(e){return e.text()}).then(function(e){if(0!=e.length){(s=l.processTDV(e)).shift(),s=s.reverse(),m=s.reduce(function(e,t){return t.length+e},0),u=s.shift(),console.log(s);for(var t=0;t<25;t++){var n=u.shift();O(n)}window.setTimeout(h,1400)}else Q(-12)}),w.bind("update",function(e){}).play()}Q(0),document.getElementById("speed").addEventListener("change",function(e){var t=parseInt(e.target.value,10);console.log(t),q(1+t/30),document.documentElement.style.setProperty("--spin-duration",2e3/t+"ms")});
},{"two.js":"tShF","./src/render":"PH53","./src/physics":"eWcG","./src/process":"NkMQ"}]},{},["zo2T"], null)
//# sourceMappingURL=/clear-pipes/clear-pipes.47ac8019.js.map